var vv=Object.create;var ll=Object.defineProperty,_v=Object.defineProperties,bv=Object.getOwnPropertyDescriptor,Dv=Object.getOwnPropertyDescriptors,wv=Object.getOwnPropertyNames,ps=Object.getOwnPropertySymbols,Cv=Object.getPrototypeOf,ul=Object.prototype.hasOwnProperty,ep=Object.prototype.propertyIsEnumerable;var Xf=(e,t,n)=>t in e?ll(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q=(e,t)=>{for(var n in t||={})ul.call(t,n)&&Xf(e,n,t[n]);if(ps)for(var n of ps(t))ep.call(t,n)&&Xf(e,n,t[n]);return e},re=(e,t)=>_v(e,Dv(t));var tp=(e,t)=>{var n={};for(var r in e)ul.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ps)for(var r of ps(e))t.indexOf(r)<0&&ep.call(e,r)&&(n[r]=e[r]);return n};var Ev=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Iv=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wv(t))!ul.call(e,o)&&o!==n&&ll(e,o,{get:()=>t[o],enumerable:!(r=bv(t,o))||r.enumerable});return e};var xv=(e,t,n)=>(n=e!=null?vv(Cv(e)):{},Iv(t||!e||!e.__esModule?ll(n,"default",{value:e,enumerable:!0}):n,e));var _e=(e,t,n)=>new Promise((r,o)=>{var i=p=>{try{d(n.next(p))}catch(m){o(m)}},c=p=>{try{d(n.throw(p))}catch(m){o(m)}},d=p=>p.done?r(p.value):Promise.resolve(p.value).then(i,c);d((n=n.apply(e,t)).next())});var Sy=Ev((df,ff)=>{"use strict";(function(e,t){typeof df=="object"&&typeof ff<"u"?ff.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).Dexie=t()})(df,function(){"use strict";var e=function(s,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])})(s,a)},t=function(){return(t=Object.assign||function(s){for(var a,l=1,u=arguments.length;l<u;l++)for(var f in a=arguments[l])Object.prototype.hasOwnProperty.call(a,f)&&(s[f]=a[f]);return s}).apply(this,arguments)};function n(s,a,l){if(l||arguments.length===2)for(var u,f=0,h=a.length;f<h;f++)!u&&f in a||((u=u||Array.prototype.slice.call(a,0,f))[f]=a[f]);return s.concat(u||Array.prototype.slice.call(a))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,i=Array.isArray;function c(s,a){return typeof a!="object"||o(a).forEach(function(l){s[l]=a[l]}),s}typeof Promise>"u"||r.Promise||(r.Promise=Promise);var d=Object.getPrototypeOf,p={}.hasOwnProperty;function m(s,a){return p.call(s,a)}function v(s,a){typeof a=="function"&&(a=a(d(s))),(typeof Reflect>"u"?o:Reflect.ownKeys)(a).forEach(function(l){V(s,l,a[l])})}var N=Object.defineProperty;function V(s,a,l,u){N(s,a,c(l&&m(l,"get")&&typeof l.get=="function"?{get:l.get,set:l.set,configurable:!0}:{value:l,configurable:!0,writable:!0},u))}function A(s){return{from:function(a){return s.prototype=Object.create(a.prototype),V(s.prototype,"constructor",s),{extend:v.bind(null,s.prototype)}}}}var J=Object.getOwnPropertyDescriptor,he=[].slice;function Ie(s,a,l){return he.call(s,a,l)}function Ce(s,a){return a(s)}function st(s){if(!s)throw new Error("Assertion Failed")}function kr(s){r.setImmediate?setImmediate(s):setTimeout(s,0)}function Xt(s,a){if(typeof a=="string"&&m(s,a))return s[a];if(!a)return s;if(typeof a!="string"){for(var l=[],u=0,f=a.length;u<f;++u){var h=Xt(s,a[u]);l.push(h)}return l}var g=a.indexOf(".");if(g!==-1){var y=s[a.substr(0,g)];return y==null?void 0:Xt(y,a.substr(g+1))}}function gt(s,a,l){if(s&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof a!="string"&&"length"in a){st(typeof l!="string"&&"length"in l);for(var u=0,f=a.length;u<f;++u)gt(s,a[u],l[u])}else{var h,g,y=a.indexOf(".");y!==-1?(h=a.substr(0,y),(g=a.substr(y+1))===""?l===void 0?i(s)&&!isNaN(parseInt(h))?s.splice(h,1):delete s[h]:s[h]=l:gt(y=!(y=s[h])||!m(s,h)?s[h]={}:y,g,l)):l===void 0?i(s)&&!isNaN(parseInt(a))?s.splice(a,1):delete s[a]:s[a]=l}}function hf(s){var a,l={};for(a in s)m(s,a)&&(l[a]=s[a]);return l}var Ly=[].concat;function gf(s){return Ly.apply([],s)}var zn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(gf([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(a){return a+s+"Array"})}))).filter(function(s){return r[s]}),mf=new Set(zn.map(function(s){return r[s]})),Do=null;function $n(s){return Do=new WeakMap,s=function a(l){if(!l||typeof l!="object")return l;var u=Do.get(l);if(u)return u;if(i(l)){u=[],Do.set(l,u);for(var f=0,h=l.length;f<h;++f)u.push(a(l[f]))}else if(mf.has(l.constructor))u=l;else{var g,y=d(l);for(g in u=y===Object.prototype?{}:Object.create(y),Do.set(l,u),l)m(l,g)&&(u[g]=a(l[g]))}return u}(s),Do=null,s}var Vy={}.toString;function Ec(s){return Vy.call(s).slice(8,-1)}var Ic=typeof Symbol<"u"?Symbol.iterator:"@@iterator",jy=typeof Ic=="symbol"?function(s){var a;return s!=null&&(a=s[Ic])&&a.apply(s)}:function(){return null};function Un(s,a){return a=s.indexOf(a),0<=a&&s.splice(a,1),0<=a}var Nr={};function en(s){var a,l,u,f;if(arguments.length===1){if(i(s))return s.slice();if(this===Nr&&typeof s=="string")return[s];if(f=jy(s)){for(l=[];!(u=f.next()).done;)l.push(u.value);return l}if(s==null)return[s];if(typeof(a=s.length)!="number")return[s];for(l=new Array(a);a--;)l[a]=s[a];return l}for(a=arguments.length,l=new Array(a);a--;)l[a]=arguments[a];return l}var xc=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Eo=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Dt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Eo),By={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ar(s,a){this.name=s,this.message=a}function yf(s,a){return s+". Errors: "+Object.keys(a).map(function(l){return a[l].toString()}).filter(function(l,u,f){return f.indexOf(l)===u}).join(`
`)}function ji(s,a,l,u){this.failures=a,this.failedKeys=u,this.successCount=l,this.message=yf(s,a)}function Or(s,a){this.name="BulkError",this.failures=Object.keys(a).map(function(l){return a[l]}),this.failuresByPos=a,this.message=yf(s,this.failures)}A(Ar).from(Error).extend({toString:function(){return this.name+": "+this.message}}),A(ji).from(Ar),A(Or).from(Ar);var Mc=Dt.reduce(function(s,a){return s[a]=a+"Error",s},{}),Hy=Ar,te=Dt.reduce(function(s,a){var l=a+"Error";function u(f,h){this.name=l,f?typeof f=="string"?(this.message="".concat(f).concat(h?`
 `+h:""),this.inner=h||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=By[a]||l,this.inner=null)}return A(u).from(Hy),s[a]=u,s},{});te.Syntax=SyntaxError,te.Type=TypeError,te.Range=RangeError;var vf=Eo.reduce(function(s,a){return s[a+"Error"]=te[a],s},{}),Bi=Dt.reduce(function(s,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(s[a+"Error"]=te[a]),s},{});function xe(){}function wo(s){return s}function $y(s,a){return s==null||s===wo?a:function(l){return a(s(l))}}function Wn(s,a){return function(){s.apply(this,arguments),a.apply(this,arguments)}}function Uy(s,a){return s===xe?a:function(){var l=s.apply(this,arguments);l!==void 0&&(arguments[0]=l);var u=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var h=a.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?Wn(u,this.onsuccess):u),f&&(this.onerror=this.onerror?Wn(f,this.onerror):f),h!==void 0?h:l}}function Wy(s,a){return s===xe?a:function(){s.apply(this,arguments);var l=this.onsuccess,u=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),l&&(this.onsuccess=this.onsuccess?Wn(l,this.onsuccess):l),u&&(this.onerror=this.onerror?Wn(u,this.onerror):u)}}function zy(s,a){return s===xe?a:function(l){var u=s.apply(this,arguments);c(l,u);var f=this.onsuccess,h=this.onerror;return this.onsuccess=null,this.onerror=null,l=a.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?Wn(f,this.onsuccess):f),h&&(this.onerror=this.onerror?Wn(h,this.onerror):h),u===void 0?l===void 0?void 0:l:c(u,l)}}function Gy(s,a){return s===xe?a:function(){return a.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function Sc(s,a){return s===xe?a:function(){var l=s.apply(this,arguments);if(l&&typeof l.then=="function"){for(var u=this,f=arguments.length,h=new Array(f);f--;)h[f]=arguments[f];return l.then(function(){return a.apply(u,h)})}return a.apply(this,arguments)}}Bi.ModifyError=ji,Bi.DexieError=Ar,Bi.BulkError=Or;var $t=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _f(s){$t=s}var Co={},bf=100,zn=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,d(s),s];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,d(a),s]}(),Eo=zn[0],Dt=zn[1],zn=zn[2],Dt=Dt&&Dt.then,Gn=Eo&&Eo.constructor,Tc=!!zn,Io=function(s,a){xo.push([s,a]),Hi&&(queueMicrotask(Ky),Hi=!1)},kc=!0,Hi=!0,qn=[],$i=[],Nc=wo,gn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},X=gn,xo=[],Kn=0,Ui=[];function K(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=X;if(typeof s!="function"){if(s!==Co)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Oc(this,this._value))}this._state=null,this._value=null,++a.ref,function l(u,f){try{f(function(h){if(u._state===null){if(h===u)throw new TypeError("A promise cannot be resolved with itself.");var g=u._lib&&Pr();h&&typeof h.then=="function"?l(u,function(y,b){h instanceof K?h._then(y,b):h.then(y,b)}):(u._state=!0,u._value=h,wf(u)),g&&Rr()}},Oc.bind(null,u))}catch(h){Oc(u,h)}}(this,s)}var Ac={get:function(){var s=X,a=qi;function l(u,f){var h=this,g=!s.global&&(s!==X||a!==qi),y=g&&!yn(),b=new K(function(w,E){Pc(h,new Df(Ef(u,s,g,y),Ef(f,s,g,y),w,E,s))});return this._consoleTask&&(b._consoleTask=this._consoleTask),b}return l.prototype=Co,l},set:function(s){V(this,"then",s&&s.prototype===Co?Ac:{get:function(){return s},set:Ac.set})}};function Df(s,a,l,u,f){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof a=="function"?a:null,this.resolve=l,this.reject=u,this.psd=f}function Oc(s,a){var l,u;$i.push(a),s._state===null&&(l=s._lib&&Pr(),a=Nc(a),s._state=!1,s._value=a,u=s,qn.some(function(f){return f._value===u._value})||qn.push(u),wf(s),l&&Rr())}function wf(s){var a=s._listeners;s._listeners=[];for(var l=0,u=a.length;l<u;++l)Pc(s,a[l]);var f=s._PSD;--f.ref||f.finalize(),Kn===0&&(++Kn,Io(function(){--Kn==0&&Rc()},[]))}function Pc(s,a){if(s._state!==null){var l=s._state?a.onFulfilled:a.onRejected;if(l===null)return(s._state?a.resolve:a.reject)(s._value);++a.psd.ref,++Kn,Io(qy,[l,s,a])}else s._listeners.push(a)}function qy(s,a,l){try{var u,f=a._value;!a._state&&$i.length&&($i=[]),u=$t&&a._consoleTask?a._consoleTask.run(function(){return s(f)}):s(f),a._state||$i.indexOf(f)!==-1||function(h){for(var g=qn.length;g;)if(qn[--g]._value===h._value)return qn.splice(g,1)}(a),l.resolve(u)}catch(h){l.reject(h)}finally{--Kn==0&&Rc(),--l.psd.ref||l.psd.finalize()}}function Ky(){Zn(gn,function(){Pr()&&Rr()})}function Pr(){var s=kc;return Hi=kc=!1,s}function Rr(){var s,a,l;do for(;0<xo.length;)for(s=xo,xo=[],l=s.length,a=0;a<l;++a){var u=s[a];u[0].apply(null,u[1])}while(0<xo.length);Hi=kc=!0}function Rc(){var s=qn;qn=[],s.forEach(function(u){u._PSD.onunhandled.call(null,u._value,u)});for(var a=Ui.slice(0),l=a.length;l;)a[--l]()}function Wi(s){return new K(Co,!1,s)}function Ae(s,a){var l=X;return function(){var u=Pr(),f=X;try{return vn(l,!0),s.apply(this,arguments)}catch(h){a&&a(h)}finally{vn(f,!1),u&&Rr()}}}v(K.prototype,{then:Ac,_then:function(s,a){Pc(this,new Df(null,null,s,a,X))},catch:function(s){if(arguments.length===1)return this.then(null,s);var a=s,l=arguments[1];return typeof a=="function"?this.then(null,function(u){return(u instanceof a?l:Wi)(u)}):this.then(null,function(u){return(u&&u.name===a?l:Wi)(u)})},finally:function(s){return this.then(function(a){return K.resolve(s()).then(function(){return a})},function(a){return K.resolve(s()).then(function(){return Wi(a)})})},timeout:function(s,a){var l=this;return s<1/0?new K(function(u,f){var h=setTimeout(function(){return f(new te.Timeout(a))},s);l.then(u,f).finally(clearTimeout.bind(null,h))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&V(K.prototype,Symbol.toStringTag,"Dexie.Promise"),gn.env=Cf(),v(K,{all:function(){var s=en.apply(null,arguments).map(Ki);return new K(function(a,l){s.length===0&&a([]);var u=s.length;s.forEach(function(f,h){return K.resolve(f).then(function(g){s[h]=g,--u||a(s)},l)})})},resolve:function(s){return s instanceof K?s:s&&typeof s.then=="function"?new K(function(a,l){s.then(a,l)}):new K(Co,!0,s)},reject:Wi,race:function(){var s=en.apply(null,arguments).map(Ki);return new K(function(a,l){s.map(function(u){return K.resolve(u).then(a,l)})})},PSD:{get:function(){return X},set:function(s){return X=s}},totalEchoes:{get:function(){return qi}},newPSD:mn,usePSD:Zn,scheduler:{get:function(){return Io},set:function(s){Io=s}},rejectionMapper:{get:function(){return Nc},set:function(s){Nc=s}},follow:function(s,a){return new K(function(l,u){return mn(function(f,h){var g=X;g.unhandleds=[],g.onunhandled=h,g.finalize=Wn(function(){var y,b=this;y=function(){b.unhandleds.length===0?f():h(b.unhandleds[0])},Ui.push(function w(){y(),Ui.splice(Ui.indexOf(w),1)}),++Kn,Io(function(){--Kn==0&&Rc()},[])},g.finalize),s()},a,l,u)})}}),Gn&&(Gn.allSettled&&V(K,"allSettled",function(){var s=en.apply(null,arguments).map(Ki);return new K(function(a){s.length===0&&a([]);var l=s.length,u=new Array(l);s.forEach(function(f,h){return K.resolve(f).then(function(g){return u[h]={status:"fulfilled",value:g}},function(g){return u[h]={status:"rejected",reason:g}}).then(function(){return--l||a(u)})})})}),Gn.any&&typeof AggregateError<"u"&&V(K,"any",function(){var s=en.apply(null,arguments).map(Ki);return new K(function(a,l){s.length===0&&l(new AggregateError([]));var u=s.length,f=new Array(u);s.forEach(function(h,g){return K.resolve(h).then(function(y){return a(y)},function(y){f[g]=y,--u||l(new AggregateError(f))})})})}),Gn.withResolvers&&(K.withResolvers=Gn.withResolvers));var Ge={awaits:0,echoes:0,id:0},Zy=0,zi=[],Gi=0,qi=0,Yy=0;function mn(s,a,l,u){var f=X,h=Object.create(f);return h.parent=f,h.ref=0,h.global=!1,h.id=++Yy,gn.env,h.env=Tc?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject}:{},a&&c(h,a),++f.ref,h.finalize=function(){--this.parent.ref||this.parent.finalize()},u=Zn(h,s,l,u),h.ref===0&&h.finalize(),u}function Fr(){return Ge.id||(Ge.id=++Zy),++Ge.awaits,Ge.echoes+=bf,Ge.id}function yn(){return!!Ge.awaits&&(--Ge.awaits==0&&(Ge.id=0),Ge.echoes=Ge.awaits*bf,!0)}function Ki(s){return Ge.echoes&&s&&s.constructor===Gn?(Fr(),s.then(function(a){return yn(),a},function(a){return yn(),He(a)})):s}function Qy(){var s=zi[zi.length-1];zi.pop(),vn(s,!1)}function vn(s,a){var l,u=X;(a?!Ge.echoes||Gi++&&s===X:!Gi||--Gi&&s===X)||queueMicrotask(a?(function(f){++qi,Ge.echoes&&--Ge.echoes!=0||(Ge.echoes=Ge.awaits=Ge.id=0),zi.push(X),vn(f,!0)}).bind(null,s):Qy),s!==X&&(X=s,u===gn&&(gn.env=Cf()),Tc&&(l=gn.env.Promise,a=s.env,(u.global||s.global)&&(Object.defineProperty(r,"Promise",a.PromiseProp),l.all=a.all,l.race=a.race,l.resolve=a.resolve,l.reject=a.reject,a.allSettled&&(l.allSettled=a.allSettled),a.any&&(l.any=a.any))))}function Cf(){var s=r.Promise;return Tc?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function Zn(s,a,l,u,f){var h=X;try{return vn(s,!0),a(l,u,f)}finally{vn(h,!1)}}function Ef(s,a,l,u){return typeof s!="function"?s:function(){var f=X;l&&Fr(),vn(a,!0);try{return s.apply(this,arguments)}finally{vn(f,!1),u&&queueMicrotask(yn)}}}function Fc(s){Promise===Gn&&Ge.echoes===0?Gi===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+Dt).indexOf("[native code]")===-1&&(Fr=yn=xe);var He=K.reject,Yn="\uFFFF",tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",If="String expected.",Lr=[],Zi="__dbnames",Lc="readonly",Vc="readwrite";function Qn(s,a){return s?a?function(){return s.apply(this,arguments)&&a.apply(this,arguments)}:s:a}var xf={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Yi(s){return typeof s!="string"||/\./.test(s)?function(a){return a}:function(a){return a[s]===void 0&&s in a&&delete(a=$n(a))[s],a}}function Mf(){throw te.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function me(s,a){try{var l=Sf(s),u=Sf(a);if(l!==u)return l==="Array"?1:u==="Array"?-1:l==="binary"?1:u==="binary"?-1:l==="string"?1:u==="string"?-1:l==="Date"?1:u!=="Date"?NaN:-1;switch(l){case"number":case"Date":case"string":return a<s?1:s<a?-1:0;case"binary":return function(f,h){for(var g=f.length,y=h.length,b=g<y?g:y,w=0;w<b;++w)if(f[w]!==h[w])return f[w]<h[w]?-1:1;return g===y?0:g<y?-1:1}(Tf(s),Tf(a));case"Array":return function(f,h){for(var g=f.length,y=h.length,b=g<y?g:y,w=0;w<b;++w){var E=me(f[w],h[w]);if(E!==0)return E}return g===y?0:g<y?-1:1}(s,a)}}catch{}return NaN}function Sf(s){var a=typeof s;return a!="object"?a:ArrayBuffer.isView(s)?"binary":(s=Ec(s),s==="ArrayBuffer"?"binary":s)}function Tf(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function Qi(s,a,l){var u=s.schema.yProps;return u?(a&&0<l.numFailures&&(a=a.filter(function(f,h){return!l.failures[h]})),Promise.all(u.map(function(f){return f=f.updatesTable,a?s.db.table(f).where("k").anyOf(a).delete():s.db.table(f).clear()})).then(function(){return l})):l}var kf=(Ne.prototype._trans=function(s,a,l){var u=this._tx||X.trans,f=this.name,h=$t&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function g(w,E,_){if(!_.schema[f])throw new te.NotFound("Table "+f+" not part of transaction");return a(_.idbtrans,_)}var y=Pr();try{var b=u&&u.db._novip===this.db._novip?u===X.trans?u._promise(s,g,l):mn(function(){return u._promise(s,g,l)},{trans:u,transless:X.transless||X}):function w(E,_,T,D){if(E.idbdb&&(E._state.openComplete||X.letThrough||E._vip)){var C=E._createTransaction(_,T,E._dbSchema);try{C.create(),E._state.PR1398_maxLoop=3}catch(M){return M.name===Mc.InvalidState&&E.isOpen()&&0<--E._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),E.close({disableAutoOpen:!1}),E.open().then(function(){return w(E,_,T,D)})):He(M)}return C._promise(_,function(M,x){return mn(function(){return X.trans=C,D(M,x,C)})}).then(function(M){if(_==="readwrite")try{C.idbtrans.commit()}catch{}return _==="readonly"?M:C._completion.then(function(){return M})})}if(E._state.openComplete)return He(new te.DatabaseClosed(E._state.dbOpenError));if(!E._state.isBeingOpened){if(!E._state.autoOpen)return He(new te.DatabaseClosed);E.open().catch(xe)}return E._state.dbReadyPromise.then(function(){return w(E,_,T,D)})}(this.db,s,[this.name],g);return h&&(b._consoleTask=h,b=b.catch(function(w){return console.trace(w),He(w)})),b}finally{y&&Rr()}},Ne.prototype.get=function(s,a){var l=this;return s&&s.constructor===Object?this.where(s).first(a):s==null?He(new te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return l.core.get({trans:u,key:s}).then(function(f){return l.hook.reading.fire(f)})}).then(a)},Ne.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(i(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var a=o(s);if(a.length===1)return this.where(a[0]).equals(s[a[0]]);var l=this.schema.indexes.concat(this.schema.primKey).filter(function(y){if(y.compound&&a.every(function(w){return 0<=y.keyPath.indexOf(w)})){for(var b=0;b<a.length;++b)if(a.indexOf(y.keyPath[b])===-1)return!1;return!0}return!1}).sort(function(y,b){return y.keyPath.length-b.keyPath.length})[0];if(l&&this.db._maxKey!==Yn){var h=l.keyPath.slice(0,a.length);return this.where(h).equals(h.map(function(b){return s[b]}))}!l&&$t&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var u=this.schema.idxByName;function f(y,b){return me(y,b)===0}var g=a.reduce(function(_,b){var w=_[0],E=_[1],_=u[b],T=s[b];return[w||_,w||!_?Qn(E,_&&_.multi?function(D){return D=Xt(D,b),i(D)&&D.some(function(C){return f(T,C)})}:function(D){return f(T,Xt(D,b))}):E]},[null,null]),h=g[0],g=g[1];return h?this.where(h.name).equals(s[h.keyPath]).filter(g):l?this.filter(g):this.where(a).equals("")},Ne.prototype.filter=function(s){return this.toCollection().and(s)},Ne.prototype.count=function(s){return this.toCollection().count(s)},Ne.prototype.offset=function(s){return this.toCollection().offset(s)},Ne.prototype.limit=function(s){return this.toCollection().limit(s)},Ne.prototype.each=function(s){return this.toCollection().each(s)},Ne.prototype.toArray=function(s){return this.toCollection().toArray(s)},Ne.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ne.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,i(s)?"[".concat(s.join("+"),"]"):s))},Ne.prototype.reverse=function(){return this.toCollection().reverse()},Ne.prototype.mapToClass=function(s){var a,l=this.db,u=this.name;function f(){return a!==null&&a.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof Mf&&(function(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function E(){this.constructor=b}e(b,w),b.prototype=w===null?Object.create(w):(E.prototype=w.prototype,new E)}(f,a=s),Object.defineProperty(f.prototype,"db",{get:function(){return l},enumerable:!1,configurable:!0}),f.prototype.table=function(){return u},s=f);for(var h=new Set,g=s.prototype;g;g=d(g))Object.getOwnPropertyNames(g).forEach(function(b){return h.add(b)});function y(b){if(!b)return b;var w,E=Object.create(s.prototype);for(w in b)if(!h.has(w))try{E[w]=b[w]}catch{}return E}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=y,this.hook("reading",y),s},Ne.prototype.defineClass=function(){return this.mapToClass(function(s){c(this,s)})},Ne.prototype.add=function(s,a){var l=this,u=this.schema.primKey,f=u.auto,h=u.keyPath,g=s;return h&&f&&(g=Yi(h)(s)),this._trans("readwrite",function(y){return l.core.mutate({trans:y,type:"add",keys:a!=null?[a]:null,values:[g]})}).then(function(y){return y.numFailures?K.reject(y.failures[0]):y.lastResult}).then(function(y){if(h)try{gt(s,h,y)}catch{}return y})},Ne.prototype.update=function(s,a){return typeof s!="object"||i(s)?this.where(":id").equals(s).modify(a):(s=Xt(s,this.schema.primKey.keyPath),s===void 0?He(new te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(a))},Ne.prototype.put=function(s,a){var l=this,u=this.schema.primKey,f=u.auto,h=u.keyPath,g=s;return h&&f&&(g=Yi(h)(s)),this._trans("readwrite",function(y){return l.core.mutate({trans:y,type:"put",values:[g],keys:a!=null?[a]:null})}).then(function(y){return y.numFailures?K.reject(y.failures[0]):y.lastResult}).then(function(y){if(h)try{gt(s,h,y)}catch{}return y})},Ne.prototype.delete=function(s){var a=this;return this._trans("readwrite",function(l){return a.core.mutate({trans:l,type:"delete",keys:[s]}).then(function(u){return Qi(a,[s],u)}).then(function(u){return u.numFailures?K.reject(u.failures[0]):void 0})})},Ne.prototype.clear=function(){var s=this;return this._trans("readwrite",function(a){return s.core.mutate({trans:a,type:"deleteRange",range:xf}).then(function(l){return Qi(s,null,l)})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})},Ne.prototype.bulkGet=function(s){var a=this;return this._trans("readonly",function(l){return a.core.getMany({keys:s,trans:l}).then(function(u){return u.map(function(f){return a.hook.reading.fire(f)})})})},Ne.prototype.bulkAdd=function(s,a,l){var u=this,f=Array.isArray(a)?a:void 0,h=(l=l||(f?void 0:a))?l.allKeys:void 0;return this._trans("readwrite",function(g){var w=u.schema.primKey,y=w.auto,w=w.keyPath;if(w&&f)throw new te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var b=s.length,w=w&&y?s.map(Yi(w)):s;return u.core.mutate({trans:g,type:"add",keys:f,values:w,wantResults:h}).then(function(C){var _=C.numFailures,T=C.results,D=C.lastResult,C=C.failures;if(_===0)return h?T:D;throw new Or("".concat(u.name,".bulkAdd(): ").concat(_," of ").concat(b," operations failed"),C)})})},Ne.prototype.bulkPut=function(s,a,l){var u=this,f=Array.isArray(a)?a:void 0,h=(l=l||(f?void 0:a))?l.allKeys:void 0;return this._trans("readwrite",function(g){var w=u.schema.primKey,y=w.auto,w=w.keyPath;if(w&&f)throw new te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==s.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var b=s.length,w=w&&y?s.map(Yi(w)):s;return u.core.mutate({trans:g,type:"put",keys:f,values:w,wantResults:h}).then(function(C){var _=C.numFailures,T=C.results,D=C.lastResult,C=C.failures;if(_===0)return h?T:D;throw new Or("".concat(u.name,".bulkPut(): ").concat(_," of ").concat(b," operations failed"),C)})})},Ne.prototype.bulkUpdate=function(s){var a=this,l=this.core,u=s.map(function(g){return g.key}),f=s.map(function(g){return g.changes}),h=[];return this._trans("readwrite",function(g){return l.getMany({trans:g,keys:u,cache:"clone"}).then(function(y){var b=[],w=[];s.forEach(function(_,T){var D=_.key,C=_.changes,M=y[T];if(M){for(var x=0,k=Object.keys(C);x<k.length;x++){var O=k[x],P=C[O];if(O===a.schema.primKey.keyPath){if(me(P,D)!==0)throw new te.Constraint("Cannot update primary key in bulkUpdate()")}else gt(M,O,P)}h.push(T),b.push(D),w.push(M)}});var E=b.length;return l.mutate({trans:g,type:"put",keys:b,values:w,updates:{keys:u,changeSpecs:f}}).then(function(_){var T=_.numFailures,D=_.failures;if(T===0)return E;for(var C=0,M=Object.keys(D);C<M.length;C++){var x,k=M[C],O=h[Number(k)];O!=null&&(x=D[k],delete D[k],D[O]=x)}throw new Or("".concat(a.name,".bulkUpdate(): ").concat(T," of ").concat(E," operations failed"),D)})})})},Ne.prototype.bulkDelete=function(s){var a=this,l=s.length;return this._trans("readwrite",function(u){return a.core.mutate({trans:u,type:"delete",keys:s}).then(function(f){return Qi(a,s,f)})}).then(function(g){var f=g.numFailures,h=g.lastResult,g=g.failures;if(f===0)return h;throw new Or("".concat(a.name,".bulkDelete(): ").concat(f," of ").concat(l," operations failed"),g)})},Ne);function Ne(){}function Mo(s){function a(g,y){if(y){for(var b=arguments.length,w=new Array(b-1);--b;)w[b-1]=arguments[b];return l[g].subscribe.apply(null,w),s}if(typeof g=="string")return l[g]}var l={};a.addEventType=h;for(var u=1,f=arguments.length;u<f;++u)h(arguments[u]);return a;function h(g,y,b){if(typeof g!="object"){var w;y=y||Gy;var E={subscribers:[],fire:b=b||xe,subscribe:function(_){E.subscribers.indexOf(_)===-1&&(E.subscribers.push(_),E.fire=y(E.fire,_))},unsubscribe:function(_){E.subscribers=E.subscribers.filter(function(T){return T!==_}),E.fire=E.subscribers.reduce(y,b)}};return l[g]=a[g]=E}o(w=g).forEach(function(_){var T=w[_];if(i(T))h(_,w[_][0],w[_][1]);else{if(T!=="asap")throw new te.InvalidArgument("Invalid event config");var D=h(_,wo,function(){for(var C=arguments.length,M=new Array(C);C--;)M[C]=arguments[C];D.subscribers.forEach(function(x){kr(function(){x.apply(null,M)})})})}})}}function So(s,a){return A(a).from({prototype:s}),a}function Vr(s,a){return!(s.filter||s.algorithm||s.or)&&(a?s.justLimit:!s.replayFilter)}function jc(s,a){s.filter=Qn(s.filter,a)}function Bc(s,a,l){var u=s.replayFilter;s.replayFilter=u?function(){return Qn(u(),a())}:a,s.justLimit=l&&!u}function Ji(s,a){if(s.isPrimKey)return a.primaryKey;var l=a.getIndexByKeyPath(s.index);if(!l)throw new te.Schema("KeyPath "+s.index+" on object store "+a.name+" is not indexed");return l}function Nf(s,a,l){var u=Ji(s,a.schema);return a.openCursor({trans:l,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:u,range:s.range}})}function Xi(s,a,l,u){var f=s.replayFilter?Qn(s.filter,s.replayFilter()):s.filter;if(s.or){var h={},g=function(y,b,w){var E,_;f&&!f(b,w,function(T){return b.stop(T)},function(T){return b.fail(T)})||((_=""+(E=b.primaryKey))=="[object ArrayBuffer]"&&(_=""+new Uint8Array(E)),m(h,_)||(h[_]=!0,a(y,b,w)))};return Promise.all([s.or._iterate(g,l),Af(Nf(s,u,l),s.algorithm,g,!s.keysOnly&&s.valueMapper)])}return Af(Nf(s,u,l),Qn(s.algorithm,f),a,!s.keysOnly&&s.valueMapper)}function Af(s,a,l,u){var f=Ae(u?function(h,g,y){return l(u(h),g,y)}:l);return s.then(function(h){if(h)return h.start(function(){var g=function(){return h.continue()};a&&!a(h,function(y){return g=y},function(y){h.stop(y),g=xe},function(y){h.fail(y),g=xe})||f(h.value,h,function(y){return g=y}),g()})})}var To=(Of.prototype.execute=function(s){var a=this["@@propmod"];if(a.add!==void 0){var l=a.add;if(i(l))return n(n([],i(s)?s:[],!0),l,!0).sort();if(typeof l=="number")return(Number(s)||0)+l;if(typeof l=="bigint")try{return BigInt(s)+l}catch{return BigInt(0)+l}throw new TypeError("Invalid term ".concat(l))}if(a.remove!==void 0){var u=a.remove;if(i(u))return i(s)?s.filter(function(f){return!u.includes(f)}).sort():[];if(typeof u=="number")return Number(s)-u;if(typeof u=="bigint")try{return BigInt(s)-u}catch{return BigInt(0)-u}throw new TypeError("Invalid subtrahend ".concat(u))}return l=(l=a.replacePrefix)===null||l===void 0?void 0:l[0],l&&typeof s=="string"&&s.startsWith(l)?a.replacePrefix[1]+s.substring(l.length):s},Of);function Of(s){this["@@propmod"]=s}var Jy=(ve.prototype._read=function(s,a){var l=this._ctx;return l.error?l.table._trans(null,He.bind(null,l.error)):l.table._trans("readonly",s).then(a)},ve.prototype._write=function(s){var a=this._ctx;return a.error?a.table._trans(null,He.bind(null,a.error)):a.table._trans("readwrite",s,"locked")},ve.prototype._addAlgorithm=function(s){var a=this._ctx;a.algorithm=Qn(a.algorithm,s)},ve.prototype._iterate=function(s,a){return Xi(this._ctx,s,a,this._ctx.table.core)},ve.prototype.clone=function(s){var a=Object.create(this.constructor.prototype),l=Object.create(this._ctx);return s&&c(l,s),a._ctx=l,a},ve.prototype.raw=function(){return this._ctx.valueMapper=null,this},ve.prototype.each=function(s){var a=this._ctx;return this._read(function(l){return Xi(a,s,l,a.table.core)})},ve.prototype.count=function(s){var a=this;return this._read(function(l){var u=a._ctx,f=u.table.core;if(Vr(u,!0))return f.count({trans:l,query:{index:Ji(u,f.schema),range:u.range}}).then(function(g){return Math.min(g,u.limit)});var h=0;return Xi(u,function(){return++h,!1},l,f).then(function(){return h})}).then(s)},ve.prototype.sortBy=function(s,a){var l=s.split(".").reverse(),u=l[0],f=l.length-1;function h(b,w){return w?h(b[l[w]],w-1):b[u]}var g=this._ctx.dir==="next"?1:-1;function y(b,w){return me(h(b,f),h(w,f))*g}return this.toArray(function(b){return b.sort(y)}).then(a)},ve.prototype.toArray=function(s){var a=this;return this._read(function(l){var u=a._ctx;if(u.dir==="next"&&Vr(u,!0)&&0<u.limit){var f=u.valueMapper,h=Ji(u,u.table.core.schema);return u.table.core.query({trans:l,limit:u.limit,values:!0,query:{index:h,range:u.range}}).then(function(y){return y=y.result,f?y.map(f):y})}var g=[];return Xi(u,function(y){return g.push(y)},l,u.table.core).then(function(){return g})},s)},ve.prototype.offset=function(s){var a=this._ctx;return s<=0||(a.offset+=s,Vr(a)?Bc(a,function(){var l=s;return function(u,f){return l===0||(l===1?--l:f(function(){u.advance(l),l=0}),!1)}}):Bc(a,function(){var l=s;return function(){return--l<0}})),this},ve.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Bc(this._ctx,function(){var a=s;return function(l,u,f){return--a<=0&&u(f),0<=a}},!0),this},ve.prototype.until=function(s,a){return jc(this._ctx,function(l,u,f){return!s(l.value)||(u(f),a)}),this},ve.prototype.first=function(s){return this.limit(1).toArray(function(a){return a[0]}).then(s)},ve.prototype.last=function(s){return this.reverse().first(s)},ve.prototype.filter=function(s){var a;return jc(this._ctx,function(l){return s(l.value)}),(a=this._ctx).isMatch=Qn(a.isMatch,s),this},ve.prototype.and=function(s){return this.filter(s)},ve.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},ve.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ve.prototype.desc=function(){return this.reverse()},ve.prototype.eachKey=function(s){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(l,u){s(u.key,u)})},ve.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},ve.prototype.eachPrimaryKey=function(s){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(l,u){s(u.primaryKey,u)})},ve.prototype.keys=function(s){var a=this._ctx;a.keysOnly=!a.isMatch;var l=[];return this.each(function(u,f){l.push(f.key)}).then(function(){return l}).then(s)},ve.prototype.primaryKeys=function(s){var a=this._ctx;if(a.dir==="next"&&Vr(a,!0)&&0<a.limit)return this._read(function(u){var f=Ji(a,a.table.core.schema);return a.table.core.query({trans:u,values:!1,limit:a.limit,query:{index:f,range:a.range}})}).then(function(u){return u.result}).then(s);a.keysOnly=!a.isMatch;var l=[];return this.each(function(u,f){l.push(f.primaryKey)}).then(function(){return l}).then(s)},ve.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},ve.prototype.firstKey=function(s){return this.limit(1).keys(function(a){return a[0]}).then(s)},ve.prototype.lastKey=function(s){return this.reverse().firstKey(s)},ve.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var a={};return jc(this._ctx,function(f){var u=f.primaryKey.toString(),f=m(a,u);return a[u]=!0,!f}),this},ve.prototype.modify=function(s){var a=this,l=this._ctx;return this._write(function(u){var f,h,g;g=typeof s=="function"?s:(f=o(s),h=f.length,function(k){for(var O=!1,P=0;P<h;++P){var R=f[P],B=s[R],U=Xt(k,R);B instanceof To?(gt(k,R,B.execute(U)),O=!0):U!==B&&(gt(k,R,B),O=!0)}return O});var y=l.table.core,_=y.schema.primaryKey,b=_.outbound,w=_.extractKey,E=200,_=a.db._options.modifyChunkSize;_&&(E=typeof _=="object"?_[y.name]||_["*"]||200:_);function T(k,R){var P=R.failures,R=R.numFailures;C+=k-R;for(var B=0,U=o(P);B<U.length;B++){var H=U[B];D.push(P[H])}}var D=[],C=0,M=[],x=s===Pf;return a.clone().primaryKeys().then(function(k){function O(R){var B=Math.min(E,k.length-R),U=k.slice(R,R+B);return(x?Promise.resolve([]):y.getMany({trans:u,keys:U,cache:"immutable"})).then(function(H){var $=[],q=[],G=b?[]:null,Z=x?U:[];if(!x)for(var ce=0;ce<B;++ce){var ye=H[ce],ie={value:$n(ye),primKey:k[R+ce]};g.call(ie,ie.value,ie)!==!1&&(ie.value==null?Z.push(k[R+ce]):b||me(w(ye),w(ie.value))===0?(q.push(ie.value),b&&G.push(k[R+ce])):(Z.push(k[R+ce]),$.push(ie.value)))}return Promise.resolve(0<$.length&&y.mutate({trans:u,type:"add",values:$}).then(function(Le){for(var oe in Le.failures)Z.splice(parseInt(oe),1);T($.length,Le)})).then(function(){return(0<q.length||P&&typeof s=="object")&&y.mutate({trans:u,type:"put",keys:G,values:q,criteria:P,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<R}).then(function(Le){return T(q.length,Le)})}).then(function(){return(0<Z.length||P&&x)&&y.mutate({trans:u,type:"delete",keys:Z,criteria:P,isAdditionalChunk:0<R}).then(function(Le){return Qi(l.table,Z,Le)}).then(function(Le){return T(Z.length,Le)})}).then(function(){return k.length>R+B&&O(R+E)})})}var P=Vr(l)&&l.limit===1/0&&(typeof s!="function"||x)&&{index:l.index,range:l.range};return O(0).then(function(){if(0<D.length)throw new ji("Error modifying one or more objects",D,C,M);return k.length})})})},ve.prototype.delete=function(){var s=this._ctx,a=s.range;return!Vr(s)||s.table.schema.yProps||!s.isPrimKey&&a.type!==3?this.modify(Pf):this._write(function(l){var u=s.table.core.schema.primaryKey,f=a;return s.table.core.count({trans:l,query:{index:u,range:f}}).then(function(h){return s.table.core.mutate({trans:l,type:"deleteRange",range:f}).then(function(b){var y=b.failures,b=b.numFailures;if(b)throw new ji("Could not delete some values",Object.keys(y).map(function(w){return y[w]}),h-b);return h-b})})})},ve);function ve(){}var Pf=function(s,a){return a.value=null};function Xy(s,a){return s<a?-1:s===a?0:1}function ev(s,a){return a<s?-1:s===a?0:1}function mt(s,a,l){return s=s instanceof Ff?new s.Collection(s):s,s._ctx.error=new(l||TypeError)(a),s}function jr(s){return new s.Collection(s,function(){return Rf("")}).limit(0)}function es(s,a,l,u){var f,h,g,y,b,w,E,_=l.length;if(!l.every(function(C){return typeof C=="string"}))return mt(s,If);function T(C){f=C==="next"?function(x){return x.toUpperCase()}:function(x){return x.toLowerCase()},h=C==="next"?function(x){return x.toLowerCase()}:function(x){return x.toUpperCase()},g=C==="next"?Xy:ev;var M=l.map(function(x){return{lower:h(x),upper:f(x)}}).sort(function(x,k){return g(x.lower,k.lower)});y=M.map(function(x){return x.upper}),b=M.map(function(x){return x.lower}),E=(w=C)==="next"?"":u}T("next"),s=new s.Collection(s,function(){return _n(y[0],b[_-1]+u)}),s._ondirectionchange=function(C){T(C)};var D=0;return s._addAlgorithm(function(C,M,x){var k=C.key;if(typeof k!="string")return!1;var O=h(k);if(a(O,b,D))return!0;for(var P=null,R=D;R<_;++R){var B=function(U,H,$,q,G,Z){for(var ce=Math.min(U.length,q.length),ye=-1,ie=0;ie<ce;++ie){var Le=H[ie];if(Le!==q[ie])return G(U[ie],$[ie])<0?U.substr(0,ie)+$[ie]+$.substr(ie+1):G(U[ie],q[ie])<0?U.substr(0,ie)+q[ie]+$.substr(ie+1):0<=ye?U.substr(0,ye)+H[ye]+$.substr(ye+1):null;G(U[ie],Le)<0&&(ye=ie)}return ce<q.length&&Z==="next"?U+$.substr(U.length):ce<U.length&&Z==="prev"?U.substr(0,$.length):ye<0?null:U.substr(0,ye)+q[ye]+$.substr(ye+1)}(k,O,y[R],b[R],g,w);B===null&&P===null?D=R+1:(P===null||0<g(P,B))&&(P=B)}return M(P!==null?function(){C.continue(P+E)}:x),!1}),s}function _n(s,a,l,u){return{type:2,lower:s,upper:a,lowerOpen:l,upperOpen:u}}function Rf(s){return{type:1,lower:s,upper:s}}var Ff=(Object.defineProperty(qe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),qe.prototype.between=function(s,a,l,u){l=l!==!1,u=u===!0;try{return 0<this._cmp(s,a)||this._cmp(s,a)===0&&(l||u)&&(!l||!u)?jr(this):new this.Collection(this,function(){return _n(s,a,!l,!u)})}catch{return mt(this,tn)}},qe.prototype.equals=function(s){return s==null?mt(this,tn):new this.Collection(this,function(){return Rf(s)})},qe.prototype.above=function(s){return s==null?mt(this,tn):new this.Collection(this,function(){return _n(s,void 0,!0)})},qe.prototype.aboveOrEqual=function(s){return s==null?mt(this,tn):new this.Collection(this,function(){return _n(s,void 0,!1)})},qe.prototype.below=function(s){return s==null?mt(this,tn):new this.Collection(this,function(){return _n(void 0,s,!1,!0)})},qe.prototype.belowOrEqual=function(s){return s==null?mt(this,tn):new this.Collection(this,function(){return _n(void 0,s)})},qe.prototype.startsWith=function(s){return typeof s!="string"?mt(this,If):this.between(s,s+Yn,!0,!0)},qe.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):es(this,function(a,l){return a.indexOf(l[0])===0},[s],Yn)},qe.prototype.equalsIgnoreCase=function(s){return es(this,function(a,l){return a===l[0]},[s],"")},qe.prototype.anyOfIgnoreCase=function(){var s=en.apply(Nr,arguments);return s.length===0?jr(this):es(this,function(a,l){return l.indexOf(a)!==-1},s,"")},qe.prototype.startsWithAnyOfIgnoreCase=function(){var s=en.apply(Nr,arguments);return s.length===0?jr(this):es(this,function(a,l){return l.some(function(u){return a.indexOf(u)===0})},s,Yn)},qe.prototype.anyOf=function(){var s=this,a=en.apply(Nr,arguments),l=this._cmp;try{a.sort(l)}catch{return mt(this,tn)}if(a.length===0)return jr(this);var u=new this.Collection(this,function(){return _n(a[0],a[a.length-1])});u._ondirectionchange=function(h){l=h==="next"?s._ascending:s._descending,a.sort(l)};var f=0;return u._addAlgorithm(function(h,g,y){for(var b=h.key;0<l(b,a[f]);)if(++f===a.length)return g(y),!1;return l(b,a[f])===0||(g(function(){h.continue(a[f])}),!1)}),u},qe.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},qe.prototype.noneOf=function(){var s=en.apply(Nr,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return mt(this,tn)}var a=s.reduce(function(l,u){return l?l.concat([[l[l.length-1][1],u]]):[[-1/0,u]]},null);return a.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},qe.prototype.inAnyRange=function(k,a){var l=this,u=this._cmp,f=this._ascending,h=this._descending,g=this._min,y=this._max;if(k.length===0)return jr(this);if(!k.every(function(O){return O[0]!==void 0&&O[1]!==void 0&&f(O[0],O[1])<=0}))return mt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",te.InvalidArgument);var b=!a||a.includeLowers!==!1,w=a&&a.includeUppers===!0,E,_=f;function T(O,P){return _(O[0],P[0])}try{(E=k.reduce(function(O,P){for(var R=0,B=O.length;R<B;++R){var U=O[R];if(u(P[0],U[1])<0&&0<u(P[1],U[0])){U[0]=g(U[0],P[0]),U[1]=y(U[1],P[1]);break}}return R===B&&O.push(P),O},[])).sort(T)}catch{return mt(this,tn)}var D=0,C=w?function(O){return 0<f(O,E[D][1])}:function(O){return 0<=f(O,E[D][1])},M=b?function(O){return 0<h(O,E[D][0])}:function(O){return 0<=h(O,E[D][0])},x=C,k=new this.Collection(this,function(){return _n(E[0][0],E[E.length-1][1],!b,!w)});return k._ondirectionchange=function(O){_=O==="next"?(x=C,f):(x=M,h),E.sort(T)},k._addAlgorithm(function(O,P,R){for(var B,U=O.key;x(U);)if(++D===E.length)return P(R),!1;return!C(B=U)&&!M(B)||(l._cmp(U,E[D][1])===0||l._cmp(U,E[D][0])===0||P(function(){_===f?O.continue(E[D][0]):O.continue(E[D][1])}),!1)}),k},qe.prototype.startsWithAnyOf=function(){var s=en.apply(Nr,arguments);return s.every(function(a){return typeof a=="string"})?s.length===0?jr(this):this.inAnyRange(s.map(function(a){return[a,a+Yn]})):mt(this,"startsWithAnyOf() only works with strings")},qe);function qe(){}function Ut(s){return Ae(function(a){return ko(a),s(a.target.error),!1})}function ko(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var No="storagemutated",Hc="x-storagemutated-1",bn=Mo(null,No),tv=(Wt.prototype._lock=function(){return st(!X.global),++this._reculock,this._reculock!==1||X.global||(X.lockOwnerFor=this),this},Wt.prototype._unlock=function(){if(st(!X.global),--this._reculock==0)for(X.global||(X.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{Zn(s[1],s[0])}catch{}}return this},Wt.prototype._locked=function(){return this._reculock&&X.lockOwnerFor!==this},Wt.prototype.create=function(s){var a=this;if(!this.mode)return this;var l=this.db.idbdb,u=this.db._state.dbOpenError;if(st(!this.idbtrans),!s&&!l)switch(u&&u.name){case"DatabaseClosedError":throw new te.DatabaseClosed(u);case"MissingAPIError":throw new te.MissingAPI(u.message,u);default:throw new te.OpenFailed(u)}if(!this.active)throw new te.TransactionInactive;return st(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||l).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ae(function(f){ko(f),a._reject(s.error)}),s.onabort=Ae(function(f){ko(f),a.active&&a._reject(new te.Abort(s.error)),a.active=!1,a.on("abort").fire(f)}),s.oncomplete=Ae(function(){a.active=!1,a._resolve(),"mutatedParts"in s&&bn.storagemutated.fire(s.mutatedParts)}),this},Wt.prototype._promise=function(s,a,l){var u=this;if(s==="readwrite"&&this.mode!=="readwrite")return He(new te.ReadOnly("Transaction is readonly"));if(!this.active)return He(new te.TransactionInactive);if(this._locked())return new K(function(h,g){u._blockedFuncs.push([function(){u._promise(s,a,l).then(h,g)},X])});if(l)return mn(function(){var h=new K(function(g,y){u._lock();var b=a(g,y,u);b&&b.then&&b.then(g,y)});return h.finally(function(){return u._unlock()}),h._lib=!0,h});var f=new K(function(h,g){var y=a(h,g,u);y&&y.then&&y.then(h,g)});return f._lib=!0,f},Wt.prototype._root=function(){return this.parent?this.parent._root():this},Wt.prototype.waitFor=function(s){var a,l=this._root(),u=K.resolve(s);l._waitingFor?l._waitingFor=l._waitingFor.then(function(){return u}):(l._waitingFor=u,l._waitingQueue=[],a=l.idbtrans.objectStore(l.storeNames[0]),function h(){for(++l._spinCount;l._waitingQueue.length;)l._waitingQueue.shift()();l._waitingFor&&(a.get(-1/0).onsuccess=h)}());var f=l._waitingFor;return new K(function(h,g){u.then(function(y){return l._waitingQueue.push(Ae(h.bind(null,y)))},function(y){return l._waitingQueue.push(Ae(g.bind(null,y)))}).finally(function(){l._waitingFor===f&&(l._waitingFor=null)})})},Wt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new te.Abort))},Wt.prototype.table=function(s){var a=this._memoizedTables||(this._memoizedTables={});if(m(a,s))return a[s];var l=this.schema[s];if(!l)throw new te.NotFound("Table "+s+" not part of transaction");return l=new this.db.Table(s,l,this),l.core=this.db.core.table(s),a[s]=l},Wt);function Wt(){}function $c(s,a,l,u,f,h,g,y){return{name:s,keyPath:a,unique:l,multi:u,auto:f,compound:h,src:(l&&!g?"&":"")+(u?"*":"")+(f?"++":"")+Lf(a),type:y}}function Lf(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Uc(s,a,l){return{name:s,primKey:a,indexes:l,mappedClass:null,idxByName:(u=function(f){return[f.name,f]},l.reduce(function(f,h,g){return g=u(h,g),g&&(f[g[0]]=g[1]),f},{}))};var u}var Ao=function(s){try{return s.only([[]]),Ao=function(){return[[]]},[[]]}catch{return Ao=function(){return Yn},Yn}};function Wc(s){return s==null?function(){}:typeof s=="string"?(a=s).split(".").length===1?function(l){return l[a]}:function(l){return Xt(l,a)}:function(l){return Xt(l,s)};var a}function Vf(s){return[].slice.call(s)}var nv=0;function Oo(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function rv(s,a,b){function u(x){if(x.type===3)return null;if(x.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var D=x.lower,C=x.upper,M=x.lowerOpen,x=x.upperOpen;return D===void 0?C===void 0?null:a.upperBound(C,!!x):C===void 0?a.lowerBound(D,!!M):a.bound(D,C,!!M,!!x)}function f(T){var D,C=T.name;return{name:C,schema:T,mutate:function(M){var x=M.trans,k=M.type,O=M.keys,P=M.values,R=M.range;return new Promise(function(B,U){B=Ae(B);var H=x.objectStore(C),$=H.keyPath==null,q=k==="put"||k==="add";if(!q&&k!=="delete"&&k!=="deleteRange")throw new Error("Invalid operation type: "+k);var G,Z=(O||P||{length:1}).length;if(O&&P&&O.length!==P.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return B({numFailures:0,failures:{},results:[],lastResult:void 0});function ce(at){++Le,ko(at)}var ye=[],ie=[],Le=0;if(k==="deleteRange"){if(R.type===4)return B({numFailures:Le,failures:ie,results:[],lastResult:void 0});R.type===3?ye.push(G=H.clear()):ye.push(G=H.delete(u(R)))}else{var $=q?$?[P,O]:[P,null]:[O,null],oe=$[0],tt=$[1];if(q)for(var nt=0;nt<Z;++nt)ye.push(G=tt&&tt[nt]!==void 0?H[k](oe[nt],tt[nt]):H[k](oe[nt])),G.onerror=ce;else for(nt=0;nt<Z;++nt)ye.push(G=H[k](oe[nt])),G.onerror=ce}function fs(at){at=at.target.result,ye.forEach(function(er,cl){return er.error!=null&&(ie[cl]=er.error)}),B({numFailures:Le,failures:ie,results:k==="delete"?O:ye.map(function(er){return er.result}),lastResult:at})}G.onerror=function(at){ce(at),fs(at)},G.onsuccess=fs})},getMany:function(M){var x=M.trans,k=M.keys;return new Promise(function(O,P){O=Ae(O);for(var R,B=x.objectStore(C),U=k.length,H=new Array(U),$=0,q=0,G=function(ye){ye=ye.target,H[ye._pos]=ye.result,++q===$&&O(H)},Z=Ut(P),ce=0;ce<U;++ce)k[ce]!=null&&((R=B.get(k[ce]))._pos=ce,R.onsuccess=G,R.onerror=Z,++$);$===0&&O(H)})},get:function(M){var x=M.trans,k=M.key;return new Promise(function(O,P){O=Ae(O);var R=x.objectStore(C).get(k);R.onsuccess=function(B){return O(B.target.result)},R.onerror=Ut(P)})},query:(D=w,function(M){return new Promise(function(x,k){x=Ae(x);var O,P,R,$=M.trans,B=M.values,U=M.limit,G=M.query,H=U===1/0?void 0:U,q=G.index,G=G.range,$=$.objectStore(C),q=q.isPrimaryKey?$:$.index(q.name),G=u(G);if(U===0)return x({result:[]});D?((H=B?q.getAll(G,H):q.getAllKeys(G,H)).onsuccess=function(Z){return x({result:Z.target.result})},H.onerror=Ut(k)):(O=0,P=!B&&"openKeyCursor"in q?q.openKeyCursor(G):q.openCursor(G),R=[],P.onsuccess=function(Z){var ce=P.result;return ce?(R.push(B?ce.value:ce.primaryKey),++O===U?x({result:R}):void ce.continue()):x({result:R})},P.onerror=Ut(k))})}),openCursor:function(M){var x=M.trans,k=M.values,O=M.query,P=M.reverse,R=M.unique;return new Promise(function(B,U){B=Ae(B);var q=O.index,H=O.range,$=x.objectStore(C),$=q.isPrimaryKey?$:$.index(q.name),q=P?R?"prevunique":"prev":R?"nextunique":"next",G=!k&&"openKeyCursor"in $?$.openKeyCursor(u(H),q):$.openCursor(u(H),q);G.onerror=Ut(U),G.onsuccess=Ae(function(Z){var ce,ye,ie,Le,oe=G.result;oe?(oe.___id=++nv,oe.done=!1,ce=oe.continue.bind(oe),ye=(ye=oe.continuePrimaryKey)&&ye.bind(oe),ie=oe.advance.bind(oe),Le=function(){throw new Error("Cursor not stopped")},oe.trans=x,oe.stop=oe.continue=oe.continuePrimaryKey=oe.advance=function(){throw new Error("Cursor not started")},oe.fail=Ae(U),oe.next=function(){var tt=this,nt=1;return this.start(function(){return nt--?tt.continue():tt.stop()}).then(function(){return tt})},oe.start=function(tt){function nt(){if(G.result)try{tt()}catch(at){oe.fail(at)}else oe.done=!0,oe.start=function(){throw new Error("Cursor behind last entry")},oe.stop()}var fs=new Promise(function(at,er){at=Ae(at),G.onerror=Ut(er),oe.fail=er,oe.stop=function(cl){oe.stop=oe.continue=oe.continuePrimaryKey=oe.advance=Le,at(cl)}});return G.onsuccess=Ae(function(at){G.onsuccess=nt,nt()}),oe.continue=ce,oe.continuePrimaryKey=ye,oe.advance=ie,nt(),fs},B(oe)):B(null)},U)})},count:function(M){var x=M.query,k=M.trans,O=x.index,P=x.range;return new Promise(function(R,B){var U=k.objectStore(C),H=O.isPrimaryKey?U:U.index(O.name),U=u(P),H=U?H.count(U):H.count();H.onsuccess=Ae(function($){return R($.target.result)}),H.onerror=Ut(B)})}}}var h,g,y,E=(g=b,y=Vf((h=s).objectStoreNames),{schema:{name:h.name,tables:y.map(function(T){return g.objectStore(T)}).map(function(T){var D=T.keyPath,x=T.autoIncrement,C=i(D),M={},x={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:D==null,compound:C,keyPath:D,autoIncrement:x,unique:!0,extractKey:Wc(D)},indexes:Vf(T.indexNames).map(function(k){return T.index(k)}).map(function(R){var O=R.name,P=R.unique,B=R.multiEntry,R=R.keyPath,B={name:O,compound:i(R),keyPath:R,unique:P,multiEntry:B,extractKey:Wc(R)};return M[Oo(R)]=B}),getIndexByKeyPath:function(k){return M[Oo(k)]}};return M[":id"]=x.primaryKey,D!=null&&(M[Oo(D)]=x.primaryKey),x})},hasGetAll:0<y.length&&"getAll"in g.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),b=E.schema,w=E.hasGetAll,E=b.tables.map(f),_={};return E.forEach(function(T){return _[T.name]=T}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(T){if(!_[T])throw new Error("Table '".concat(T,"' not found"));return _[T]},MIN_KEY:-1/0,MAX_KEY:Ao(a),schema:b}}function ov(s,a,l,u){var f=l.IDBKeyRange;return l.indexedDB,{dbcore:(u=rv(a,f,u),s.dbcore.reduce(function(h,g){return g=g.create,t(t({},h),g(h))},u))}}function ts(s,u){var l=u.db,u=ov(s._middlewares,l,s._deps,u);s.core=u.dbcore,s.tables.forEach(function(f){var h=f.name;s.core.schema.tables.some(function(g){return g.name===h})&&(f.core=s.core.table(h),s[h]instanceof s.Table&&(s[h].core=f.core))})}function ns(s,a,l,u){l.forEach(function(f){var h=u[f];a.forEach(function(g){var y=function b(w,E){return J(w,E)||(w=d(w))&&b(w,E)}(g,f);(!y||"value"in y&&y.value===void 0)&&(g===s.Transaction.prototype||g instanceof s.Transaction?V(g,f,{get:function(){return this.table(f)},set:function(b){N(this,f,{value:b,writable:!0,configurable:!0,enumerable:!0})}}):g[f]=new s.Table(f,h))})})}function zc(s,a){a.forEach(function(l){for(var u in l)l[u]instanceof s.Table&&delete l[u]})}function iv(s,a){return s._cfg.version-a._cfg.version}function sv(s,a,l,u){var f=s._dbSchema;l.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=Uc("$meta",Bf("")[0],[]),s._storeNames.push("$meta"));var h=s._createTransaction("readwrite",s._storeNames,f);h.create(l),h._completion.catch(u);var g=h._reject.bind(h),y=X.transless||X;mn(function(){return X.trans=h,X.transless=y,a!==0?(ts(s,l),w=a,((b=h).storeNames.includes("$meta")?b.table("$meta").get("version").then(function(E){return E??w}):K.resolve(w)).then(function(E){return T=E,D=h,C=l,M=[],E=(_=s)._versions,x=_._dbSchema=os(0,_.idbdb,C),(E=E.filter(function(k){return k._cfg.version>=T})).length!==0?(E.forEach(function(k){M.push(function(){var O=x,P=k._cfg.dbschema;is(_,O,C),is(_,P,C),x=_._dbSchema=P;var R=Gc(O,P);R.add.forEach(function(q){qc(C,q[0],q[1].primKey,q[1].indexes)}),R.change.forEach(function(q){if(q.recreate)throw new te.Upgrade("Not yet support for changing primary key");var G=C.objectStore(q.name);q.add.forEach(function(Z){return rs(G,Z)}),q.change.forEach(function(Z){G.deleteIndex(Z.name),rs(G,Z)}),q.del.forEach(function(Z){return G.deleteIndex(Z)})});var B=k._cfg.contentUpgrade;if(B&&k._cfg.version>T){ts(_,C),D._memoizedTables={};var U=hf(P);R.del.forEach(function(q){U[q]=O[q]}),zc(_,[_.Transaction.prototype]),ns(_,[_.Transaction.prototype],o(U),U),D.schema=U;var H,$=xc(B);return $&&Fr(),R=K.follow(function(){var q;(H=B(D))&&$&&(q=yn.bind(null,null),H.then(q,q))}),H&&typeof H.then=="function"?K.resolve(H):R.then(function(){return H})}}),M.push(function(O){var P,R,B=k._cfg.dbschema;P=B,R=O,[].slice.call(R.db.objectStoreNames).forEach(function(U){return P[U]==null&&R.db.deleteObjectStore(U)}),zc(_,[_.Transaction.prototype]),ns(_,[_.Transaction.prototype],_._storeNames,_._dbSchema),D.schema=_._dbSchema}),M.push(function(O){_.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(_.idbdb.version/10)===k._cfg.version?(_.idbdb.deleteObjectStore("$meta"),delete _._dbSchema.$meta,_._storeNames=_._storeNames.filter(function(P){return P!=="$meta"})):O.objectStore("$meta").put(k._cfg.version,"version"))})}),function k(){return M.length?K.resolve(M.shift()(D.idbtrans)).then(k):K.resolve()}().then(function(){jf(x,C)})):K.resolve();var _,T,D,C,M,x}).catch(g)):(o(f).forEach(function(E){qc(l,E,f[E].primKey,f[E].indexes)}),ts(s,l),void K.follow(function(){return s.on.populate.fire(h)}).catch(g));var b,w})}function av(s,a){jf(s._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var l=os(0,s.idbdb,a);is(s,s._dbSchema,a);for(var u=0,f=Gc(l,s._dbSchema).change;u<f.length;u++){var h=function(g){if(g.change.length||g.recreate)return console.warn("Unable to patch indexes of table ".concat(g.name," because it has changes on the type of index or primary key.")),{value:void 0};var y=a.objectStore(g.name);g.add.forEach(function(b){$t&&console.debug("Dexie upgrade patch: Creating missing index ".concat(g.name,".").concat(b.src)),rs(y,b)})}(f[u]);if(typeof h=="object")return h.value}}function Gc(s,a){var l,u={del:[],add:[],change:[]};for(l in s)a[l]||u.del.push(l);for(l in a){var f=s[l],h=a[l];if(f){var g={name:l,def:h,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(h.primKey.keyPath||"")||f.primKey.auto!==h.primKey.auto)g.recreate=!0,u.change.push(g);else{var y=f.idxByName,b=h.idxByName,w=void 0;for(w in y)b[w]||g.del.push(w);for(w in b){var E=y[w],_=b[w];E?E.src!==_.src&&g.change.push(_):g.add.push(_)}(0<g.del.length||0<g.add.length||0<g.change.length)&&u.change.push(g)}}else u.add.push([l,h])}return u}function qc(s,a,l,u){var f=s.db.createObjectStore(a,l.keyPath?{keyPath:l.keyPath,autoIncrement:l.auto}:{autoIncrement:l.auto});return u.forEach(function(h){return rs(f,h)}),f}function jf(s,a){o(s).forEach(function(l){a.db.objectStoreNames.contains(l)||($t&&console.debug("Dexie: Creating missing table",l),qc(a,l,s[l].primKey,s[l].indexes))})}function rs(s,a){s.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function os(s,a,l){var u={};return Ie(a.objectStoreNames,0).forEach(function(f){for(var h=l.objectStore(f),g=$c(Lf(w=h.keyPath),w||"",!0,!1,!!h.autoIncrement,w&&typeof w!="string",!0),y=[],b=0;b<h.indexNames.length;++b){var E=h.index(h.indexNames[b]),w=E.keyPath,E=$c(E.name,w,!!E.unique,!!E.multiEntry,!1,w&&typeof w!="string",!1);y.push(E)}u[f]=Uc(f,g,y)}),u}function is(s,a,l){for(var u=l.db.objectStoreNames,f=0;f<u.length;++f){var h=u[f],g=l.objectStore(h);s._hasGetAll="getAll"in g;for(var y=0;y<g.indexNames.length;++y){var b=g.indexNames[y],w=g.index(b).keyPath,E=typeof w=="string"?w:"["+Ie(w).join("+")+"]";!a[h]||(w=a[h].idxByName[E])&&(w.name=b,delete a[h].idxByName[E],a[h].idxByName[b]=w)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Bf(s){return s.split(",").map(function(a,l){var h=a.split(":"),u=(f=h[1])===null||f===void 0?void 0:f.trim(),f=(a=h[0].trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return $c(f,h||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),i(h),l===0,u)})}var cv=(Br.prototype._createTableSchema=Uc,Br.prototype._parseIndexSyntax=Bf,Br.prototype._parseStoresSpec=function(s,a){var l=this;o(s).forEach(function(u){if(s[u]!==null){var f=l._parseIndexSyntax(s[u]),h=f.shift();if(!h)throw new te.Schema("Invalid schema for table "+u+": "+s[u]);if(h.unique=!0,h.multi)throw new te.Schema("Primary key cannot be multiEntry*");f.forEach(function(g){if(g.auto)throw new te.Schema("Only primary key can be marked as autoIncrement (++)");if(!g.keyPath)throw new te.Schema("Index must have a name and cannot be an empty string")}),f=l._createTableSchema(u,h,f),a[u]=f}})},Br.prototype.stores=function(l){var a=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,l):l;var l=a._versions,u={},f={};return l.forEach(function(h){c(u,h._cfg.storesSource),f=h._cfg.dbschema={},h._parseStoresSpec(u,f)}),a._dbSchema=f,zc(a,[a._allTables,a,a.Transaction.prototype]),ns(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],o(f),f),a._storeNames=o(f),this},Br.prototype.upgrade=function(s){return this._cfg.contentUpgrade=Sc(this._cfg.contentUpgrade||xe,s),this},Br);function Br(){}function Kc(s,a){var l=s._dbNamesDB;return l||(l=s._dbNamesDB=new nn(Zi,{addons:[],indexedDB:s,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),l.table("dbnames")}function Zc(s){return s&&typeof s.databases=="function"}function Yc(s){return mn(function(){return X.letThrough=!0,s()})}function Qc(s){return!("from"in s)}var et=function(s,a){if(!this){var l=new et;return s&&"d"in s&&c(l,s),l}c(this,arguments.length?{d:1,from:s,to:1<arguments.length?a:s}:{d:0})};function Po(s,a,l){var u=me(a,l);if(!isNaN(u)){if(0<u)throw RangeError();if(Qc(s))return c(s,{from:a,to:l,d:1});var f=s.l,u=s.r;if(me(l,s.from)<0)return f?Po(f,a,l):s.l={from:a,to:l,d:1,l:null,r:null},$f(s);if(0<me(a,s.to))return u?Po(u,a,l):s.r={from:a,to:l,d:1,l:null,r:null},$f(s);me(a,s.from)<0&&(s.from=a,s.l=null,s.d=u?u.d+1:1),0<me(l,s.to)&&(s.to=l,s.r=null,s.d=s.l?s.l.d+1:1),l=!s.r,f&&!s.l&&Ro(s,f),u&&l&&Ro(s,u)}}function Ro(s,a){Qc(a)||function l(u,b){var h=b.from,g=b.to,y=b.l,b=b.r;Po(u,h,g),y&&l(u,y),b&&l(u,b)}(s,a)}function Hf(s,a){var l=ss(a),u=l.next();if(u.done)return!1;for(var f=u.value,h=ss(s),g=h.next(f.from),y=g.value;!u.done&&!g.done;){if(me(y.from,f.to)<=0&&0<=me(y.to,f.from))return!0;me(f.from,y.from)<0?f=(u=l.next(y.from)).value:y=(g=h.next(f.from)).value}return!1}function ss(s){var a=Qc(s)?null:{s:0,n:s};return{next:function(l){for(var u=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,u)for(;a.n.l&&me(l,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!u||me(l,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function $f(s){var a,l,u=(((a=s.r)===null||a===void 0?void 0:a.d)||0)-(((l=s.l)===null||l===void 0?void 0:l.d)||0),f=1<u?"r":u<-1?"l":"";f&&(a=f=="r"?"l":"r",l=t({},s),u=s[f],s.from=u.from,s.to=u.to,s[f]=u[f],l[f]=u[a],(s[a]=l).d=Uf(l)),s.d=Uf(s)}function Uf(l){var a=l.r,l=l.l;return(a?l?Math.max(a.d,l.d):a.d:l?l.d:0)+1}function as(s,a){return o(a).forEach(function(l){s[l]?Ro(s[l],a[l]):s[l]=function u(f){var h,g,y={};for(h in f)m(f,h)&&(g=f[h],y[h]=!g||typeof g!="object"||mf.has(g.constructor)?g:u(g));return y}(a[l])}),s}function Jc(s,a){return s.all||a.all||Object.keys(s).some(function(l){return a[l]&&Hf(a[l],s[l])})}v(et.prototype,((Dt={add:function(s){return Ro(this,s),this},addKey:function(s){return Po(this,s,s),this},addKeys:function(s){var a=this;return s.forEach(function(l){return Po(a,l,l)}),this},hasKey:function(s){var a=ss(this).next(s).value;return a&&me(a.from,s)<=0&&0<=me(a.to,s)}})[Ic]=function(){return ss(this)},Dt));var Jn={},Xc={},el=!1;function cs(s){as(Xc,s),el||(el=!0,setTimeout(function(){el=!1,tl(Xc,!(Xc={}))},0))}function tl(s,a){a===void 0&&(a=!1);var l=new Set;if(s.all)for(var u=0,f=Object.values(Jn);u<f.length;u++)Wf(g=f[u],s,l,a);else for(var h in s){var g,y=/^idb\:\/\/(.*)\/(.*)\//.exec(h);y&&(h=y[1],y=y[2],(g=Jn["idb://".concat(h,"/").concat(y)])&&Wf(g,s,l,a))}l.forEach(function(b){return b()})}function Wf(s,a,l,u){for(var f=[],h=0,g=Object.entries(s.queries.query);h<g.length;h++){for(var y=g[h],b=y[0],w=[],E=0,_=y[1];E<_.length;E++){var T=_[E];Jc(a,T.obsSet)?T.subscribers.forEach(function(x){return l.add(x)}):u&&w.push(T)}u&&f.push([b,w])}if(u)for(var D=0,C=f;D<C.length;D++){var M=C[D],b=M[0],w=M[1];s.queries.query[b]=w}}function lv(s){var a=s._state,l=s._deps.indexedDB;if(a.isBeingOpened||s.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?He(a.dbOpenError):s});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var u=a.openCanceller,f=Math.round(10*s.verno),h=!1;function g(){if(a.openCanceller!==u)throw new te.DatabaseClosed("db.open() was cancelled")}function y(){return new K(function(T,D){if(g(),!l)throw new te.MissingAPI;var C=s.name,M=a.autoSchema||!f?l.open(C):l.open(C,f);if(!M)throw new te.MissingAPI;M.onerror=Ut(D),M.onblocked=Ae(s._fireOnBlocked),M.onupgradeneeded=Ae(function(x){var k;E=M.transaction,a.autoSchema&&!s._options.allowEmptyDB?(M.onerror=ko,E.abort(),M.result.close(),(k=l.deleteDatabase(C)).onsuccess=k.onerror=Ae(function(){D(new te.NoSuchDatabase("Database ".concat(C," doesnt exist")))})):(E.onerror=Ut(D),x=x.oldVersion>Math.pow(2,62)?0:x.oldVersion,_=x<1,s.idbdb=M.result,h&&av(s,E),sv(s,x/10,E,D))},D),M.onsuccess=Ae(function(){E=null;var x,k,O,P,R,B=s.idbdb=M.result,U=Ie(B.objectStoreNames);if(0<U.length)try{var H=B.transaction((P=U).length===1?P[0]:P,"readonly");if(a.autoSchema)k=B,O=H,(x=s).verno=k.version/10,O=x._dbSchema=os(0,k,O),x._storeNames=Ie(k.objectStoreNames,0),ns(x,[x._allTables],o(O),O);else if(is(s,s._dbSchema,H),((R=Gc(os(0,(R=s).idbdb,H),R._dbSchema)).add.length||R.change.some(function($){return $.add.length||$.change.length}))&&!h)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),B.close(),f=B.version+1,h=!0,T(y());ts(s,H)}catch{}Lr.push(s),B.onversionchange=Ae(function($){a.vcFired=!0,s.on("versionchange").fire($)}),B.onclose=Ae(function($){s.on("close").fire($)}),_&&(R=s._deps,H=C,B=R.indexedDB,R=R.IDBKeyRange,Zc(B)||H===Zi||Kc(B,R).put({name:H}).catch(xe)),T()},D)}).catch(function(T){switch(T?.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),y();break;case"VersionError":if(0<f)return f=0,y()}return K.reject(T)})}var b,w=a.dbReadyResolve,E=null,_=!1;return K.race([u,(typeof navigator>"u"?K.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(T){function D(){return indexedDB.databases().finally(T)}b=setInterval(D,100),D()}).finally(function(){return clearInterval(b)}):Promise.resolve()).then(y)]).then(function(){return g(),a.onReadyBeingFired=[],K.resolve(Yc(function(){return s.on.ready.fire(s.vip)})).then(function T(){if(0<a.onReadyBeingFired.length){var D=a.onReadyBeingFired.reduce(Sc,xe);return a.onReadyBeingFired=[],K.resolve(Yc(function(){return D(s.vip)})).then(T)}})}).finally(function(){a.openCanceller===u&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(T){a.dbOpenError=T;try{E&&E.abort()}catch{}return u===a.openCanceller&&s._close(),He(T)}).finally(function(){a.openComplete=!0,w()}).then(function(){var T;return _&&(T={},s.tables.forEach(function(D){D.schema.indexes.forEach(function(C){C.name&&(T["idb://".concat(s.name,"/").concat(D.name,"/").concat(C.name)]=new et(-1/0,[[[]]]))}),T["idb://".concat(s.name,"/").concat(D.name,"/")]=T["idb://".concat(s.name,"/").concat(D.name,"/:dels")]=new et(-1/0,[[[]]])}),bn(No).fire(T),tl(T,!0)),s})}function nl(s){function a(h){return s.next(h)}var l=f(a),u=f(function(h){return s.throw(h)});function f(h){return function(b){var y=h(b),b=y.value;return y.done?b:b&&typeof b.then=="function"?b.then(l,u):i(b)?Promise.all(b).then(l,u):l(b)}}return f(a)()}function ls(s,a,l){for(var u=i(s)?s.slice():[s],f=0;f<l;++f)u.push(a);return u}var uv={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return t(t({},s),{table:function(a){var l=s.table(a),u=l.schema,f={},h=[];function g(_,T,D){var C=Oo(_),M=f[C]=f[C]||[],x=_==null?0:typeof _=="string"?1:_.length,k=0<T,k=t(t({},D),{name:k?"".concat(C,"(virtual-from:").concat(D.name,")"):D.name,lowLevelIndex:D,isVirtual:k,keyTail:T,keyLength:x,extractKey:Wc(_),unique:!k&&D.unique});return M.push(k),k.isPrimaryKey||h.push(k),1<x&&g(x===2?_[0]:_.slice(0,x-1),T+1,D),M.sort(function(O,P){return O.keyTail-P.keyTail}),k}a=g(u.primaryKey.keyPath,0,u.primaryKey),f[":id"]=[a];for(var y=0,b=u.indexes;y<b.length;y++){var w=b[y];g(w.keyPath,0,w)}function E(_){var T,D=_.query.index;return D.isVirtual?t(t({},_),{query:{index:D.lowLevelIndex,range:(T=_.query.range,D=D.keyTail,{type:T.type===1?2:T.type,lower:ls(T.lower,T.lowerOpen?s.MAX_KEY:s.MIN_KEY,D),lowerOpen:!0,upper:ls(T.upper,T.upperOpen?s.MIN_KEY:s.MAX_KEY,D),upperOpen:!0})}}):_}return t(t({},l),{schema:t(t({},u),{primaryKey:a,indexes:h,getIndexByKeyPath:function(_){return(_=f[Oo(_)])&&_[0]}}),count:function(_){return l.count(E(_))},query:function(_){return l.query(E(_))},openCursor:function(_){var T=_.query.index,D=T.keyTail,C=T.isVirtual,M=T.keyLength;return C?l.openCursor(E(_)).then(function(k){return k&&x(k)}):l.openCursor(_);function x(k){return Object.create(k,{continue:{value:function(O){O!=null?k.continue(ls(O,_.reverse?s.MAX_KEY:s.MIN_KEY,D)):_.unique?k.continue(k.key.slice(0,M).concat(_.reverse?s.MIN_KEY:s.MAX_KEY,D)):k.continue()}},continuePrimaryKey:{value:function(O,P){k.continuePrimaryKey(ls(O,s.MAX_KEY,D),P)}},primaryKey:{get:function(){return k.primaryKey}},key:{get:function(){var O=k.key;return M===1?O[0]:O.slice(0,M)}},value:{get:function(){return k.value}}})}}})}})}};function rl(s,a,l,u){return l=l||{},u=u||"",o(s).forEach(function(f){var h,g,y;m(a,f)?(h=s[f],g=a[f],typeof h=="object"&&typeof g=="object"&&h&&g?(y=Ec(h))!==Ec(g)?l[u+f]=a[f]:y==="Object"?rl(h,g,l,u+f+"."):h!==g&&(l[u+f]=a[f]):h!==g&&(l[u+f]=a[f])):l[u+f]=void 0}),o(a).forEach(function(f){m(s,f)||(l[u+f]=a[f])}),l}function ol(s,a){return a.type==="delete"?a.keys:a.keys||a.values.map(s.extractKey)}var dv={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return t(t({},s),{table:function(a){var l=s.table(a),u=l.schema.primaryKey;return t(t({},l),{mutate:function(f){var h=X.trans,g=h.table(a).hook,y=g.deleting,b=g.creating,w=g.updating;switch(f.type){case"add":if(b.fire===xe)break;return h._promise("readwrite",function(){return E(f)},!0);case"put":if(b.fire===xe&&w.fire===xe)break;return h._promise("readwrite",function(){return E(f)},!0);case"delete":if(y.fire===xe)break;return h._promise("readwrite",function(){return E(f)},!0);case"deleteRange":if(y.fire===xe)break;return h._promise("readwrite",function(){return function _(T,D,C){return l.query({trans:T,values:!1,query:{index:u,range:D},limit:C}).then(function(M){var x=M.result;return E({type:"delete",keys:x,trans:T}).then(function(k){return 0<k.numFailures?Promise.reject(k.failures[0]):x.length<C?{failures:[],numFailures:0,lastResult:void 0}:_(T,t(t({},D),{lower:x[x.length-1],lowerOpen:!0}),C)})})}(f.trans,f.range,1e4)},!0)}return l.mutate(f);function E(_){var T,D,C,M=X.trans,x=_.keys||ol(u,_);if(!x)throw new Error("Keys missing");return(_=_.type==="add"||_.type==="put"?t(t({},_),{keys:x}):t({},_)).type!=="delete"&&(_.values=n([],_.values,!0)),_.keys&&(_.keys=n([],_.keys,!0)),T=l,C=x,((D=_).type==="add"?Promise.resolve([]):T.getMany({trans:D.trans,keys:C,cache:"immutable"})).then(function(k){var O=x.map(function(P,R){var B,U,H,$=k[R],q={onerror:null,onsuccess:null};return _.type==="delete"?y.fire.call(q,P,$,M):_.type==="add"||$===void 0?(B=b.fire.call(q,P,_.values[R],M),P==null&&B!=null&&(_.keys[R]=P=B,u.outbound||gt(_.values[R],u.keyPath,P))):(B=rl($,_.values[R]),(U=w.fire.call(q,B,P,$,M))&&(H=_.values[R],Object.keys(U).forEach(function(G){m(H,G)?H[G]=U[G]:gt(H,G,U[G])}))),q});return l.mutate(_).then(function(P){for(var R=P.failures,B=P.results,U=P.numFailures,P=P.lastResult,H=0;H<x.length;++H){var $=(B||x)[H],q=O[H];$==null?q.onerror&&q.onerror(R[H]):q.onsuccess&&q.onsuccess(_.type==="put"&&k[H]?_.values[H]:$)}return{failures:R,results:B,numFailures:U,lastResult:P}}).catch(function(P){return O.forEach(function(R){return R.onerror&&R.onerror(P)}),Promise.reject(P)})})}}})}})}};function zf(s,a,l){try{if(!a||a.keys.length<s.length)return null;for(var u=[],f=0,h=0;f<a.keys.length&&h<s.length;++f)me(a.keys[f],s[h])===0&&(u.push(l?$n(a.values[f]):a.values[f]),++h);return u.length===s.length?u:null}catch{return null}}var fv={stack:"dbcore",level:-1,create:function(s){return{table:function(a){var l=s.table(a);return t(t({},l),{getMany:function(u){if(!u.cache)return l.getMany(u);var f=zf(u.keys,u.trans._cache,u.cache==="clone");return f?K.resolve(f):l.getMany(u).then(function(h){return u.trans._cache={keys:u.keys,values:u.cache==="clone"?$n(h):h},h})},mutate:function(u){return u.type!=="add"&&(u.trans._cache=null),l.mutate(u)}})}}}};function Gf(s,a){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function qf(s,a){switch(s){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var pv={stack:"dbcore",level:0,name:"Observability",create:function(s){var a=s.schema.name,l=new et(s.MIN_KEY,s.MAX_KEY);return t(t({},s),{transaction:function(u,f,h){if(X.subscr&&f!=="readonly")throw new te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(X.querier));return s.transaction(u,f,h)},table:function(u){var f=s.table(u),h=f.schema,g=h.primaryKey,_=h.indexes,y=g.extractKey,b=g.outbound,w=g.autoIncrement&&_.filter(function(D){return D.compound&&D.keyPath.includes(g.keyPath)}),E=t(t({},f),{mutate:function(D){function C(G){return G="idb://".concat(a,"/").concat(u,"/").concat(G),P[G]||(P[G]=new et)}var M,x,k,O=D.trans,P=D.mutatedParts||(D.mutatedParts={}),R=C(""),B=C(":dels"),U=D.type,q=D.type==="deleteRange"?[D.range]:D.type==="delete"?[D.keys]:D.values.length<50?[ol(g,D).filter(function(G){return G}),D.values]:[],H=q[0],$=q[1],q=D.trans._cache;return i(H)?(R.addKeys(H),(q=U==="delete"||H.length===$.length?zf(H,q):null)||B.addKeys(H),(q||$)&&(M=C,x=q,k=$,h.indexes.forEach(function(G){var Z=M(G.name||"");function ce(ie){return ie!=null?G.extractKey(ie):null}function ye(ie){return G.multiEntry&&i(ie)?ie.forEach(function(Le){return Z.addKey(Le)}):Z.addKey(ie)}(x||k).forEach(function(ie,tt){var oe=x&&ce(x[tt]),tt=k&&ce(k[tt]);me(oe,tt)!==0&&(oe!=null&&ye(oe),tt!=null&&ye(tt))})}))):H?($={from:($=H.lower)!==null&&$!==void 0?$:s.MIN_KEY,to:($=H.upper)!==null&&$!==void 0?$:s.MAX_KEY},B.add($),R.add($)):(R.add(l),B.add(l),h.indexes.forEach(function(G){return C(G.name).add(l)})),f.mutate(D).then(function(G){return!H||D.type!=="add"&&D.type!=="put"||(R.addKeys(G.results),w&&w.forEach(function(Z){for(var ce=D.values.map(function(oe){return Z.extractKey(oe)}),ye=Z.keyPath.findIndex(function(oe){return oe===g.keyPath}),ie=0,Le=G.results.length;ie<Le;++ie)ce[ie][ye]=G.results[ie];C(Z.name).addKeys(ce)})),O.mutatedParts=as(O.mutatedParts||{},P),G})}}),_=function(C){var M=C.query,C=M.index,M=M.range;return[C,new et((C=M.lower)!==null&&C!==void 0?C:s.MIN_KEY,(M=M.upper)!==null&&M!==void 0?M:s.MAX_KEY)]},T={get:function(D){return[g,new et(D.key)]},getMany:function(D){return[g,new et().addKeys(D.keys)]},count:_,query:_,openCursor:_};return o(T).forEach(function(D){E[D]=function(C){var M=X.subscr,x=!!M,k=Gf(X,f)&&qf(D,C)?C.obsSet={}:M;if(x){var O=function($){return $="idb://".concat(a,"/").concat(u,"/").concat($),k[$]||(k[$]=new et)},P=O(""),R=O(":dels"),M=T[D](C),x=M[0],M=M[1];if((D==="query"&&x.isPrimaryKey&&!C.values?R:O(x.name||"")).add(M),!x.isPrimaryKey){if(D!=="count"){var B=D==="query"&&b&&C.values&&f.query(t(t({},C),{values:!1}));return f[D].apply(this,arguments).then(function($){if(D==="query"){if(b&&C.values)return B.then(function(ce){return ce=ce.result,P.addKeys(ce),$});var q=C.values?$.result.map(y):$.result;(C.values?P:R).addKeys(q)}else if(D==="openCursor"){var G=$,Z=C.values;return G&&Object.create(G,{key:{get:function(){return R.addKey(G.primaryKey),G.key}},primaryKey:{get:function(){var ce=G.primaryKey;return R.addKey(ce),ce}},value:{get:function(){return Z&&P.addKey(G.primaryKey),G.value}}})}return $})}R.add(l)}}return f[D].apply(this,arguments)}}),E}})}};function Kf(s,a,l){if(l.numFailures===0)return a;if(a.type==="deleteRange")return null;var u=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1;return l.numFailures===u?null:(a=t({},a),i(a.keys)&&(a.keys=a.keys.filter(function(f,h){return!(h in l.failures)})),"values"in a&&i(a.values)&&(a.values=a.values.filter(function(f,h){return!(h in l.failures)})),a)}function il(s,a){return l=s,((u=a).lower===void 0||(u.lowerOpen?0<me(l,u.lower):0<=me(l,u.lower)))&&(s=s,(a=a).upper===void 0||(a.upperOpen?me(s,a.upper)<0:me(s,a.upper)<=0));var l,u}function Zf(s,a,T,u,f,h){if(!T||T.length===0)return s;var g=a.query.index,y=g.multiEntry,b=a.query.range,w=u.schema.primaryKey.extractKey,E=g.extractKey,_=(g.lowLevelIndex||g).extractKey,T=T.reduce(function(D,C){var M=D,x=[];if(C.type==="add"||C.type==="put")for(var k=new et,O=C.values.length-1;0<=O;--O){var P,R=C.values[O],B=w(R);k.hasKey(B)||(P=E(R),(y&&i(P)?P.some(function(G){return il(G,b)}):il(P,b))&&(k.addKey(B),x.push(R)))}switch(C.type){case"add":var U=new et().addKeys(a.values?D.map(function(Z){return w(Z)}):D),M=D.concat(a.values?x.filter(function(Z){return Z=w(Z),!U.hasKey(Z)&&(U.addKey(Z),!0)}):x.map(function(Z){return w(Z)}).filter(function(Z){return!U.hasKey(Z)&&(U.addKey(Z),!0)}));break;case"put":var H=new et().addKeys(C.values.map(function(Z){return w(Z)}));M=D.filter(function(Z){return!H.hasKey(a.values?w(Z):Z)}).concat(a.values?x:x.map(function(Z){return w(Z)}));break;case"delete":var $=new et().addKeys(C.keys);M=D.filter(function(Z){return!$.hasKey(a.values?w(Z):Z)});break;case"deleteRange":var q=C.range;M=D.filter(function(Z){return!il(w(Z),q)})}return M},s);return T===s?s:(T.sort(function(D,C){return me(_(D),_(C))||me(w(D),w(C))}),a.limit&&a.limit<1/0&&(T.length>a.limit?T.length=a.limit:s.length===a.limit&&T.length<a.limit&&(f.dirty=!0)),h?Object.freeze(T):T)}function Yf(s,a){return me(s.lower,a.lower)===0&&me(s.upper,a.upper)===0&&!!s.lowerOpen==!!a.lowerOpen&&!!s.upperOpen==!!a.upperOpen}function hv(s,a){return function(l,u,f,h){if(l===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;if((u=me(l,u))===0){if(f&&h)return 0;if(f)return 1;if(h)return-1}return u}(s.lower,a.lower,s.lowerOpen,a.lowerOpen)<=0&&0<=function(l,u,f,h){if(l===void 0)return u!==void 0?1:0;if(u===void 0)return-1;if((u=me(l,u))===0){if(f&&h)return 0;if(f)return-1;if(h)return 1}return u}(s.upper,a.upper,s.upperOpen,a.upperOpen)}function gv(s,a,l,u){s.subscribers.add(l),u.addEventListener("abort",function(){var f,h;s.subscribers.delete(l),s.subscribers.size===0&&(f=s,h=a,setTimeout(function(){f.subscribers.size===0&&Un(h,f)},3e3))})}var mv={stack:"dbcore",level:0,name:"Cache",create:function(s){var a=s.schema.name;return t(t({},s),{transaction:function(l,u,f){var h,g,y=s.transaction(l,u,f);return u==="readwrite"&&(g=(h=new AbortController).signal,f=function(b){return function(){if(h.abort(),u==="readwrite"){for(var w=new Set,E=0,_=l;E<_.length;E++){var T=_[E],D=Jn["idb://".concat(a,"/").concat(T)];if(D){var C=s.table(T),M=D.optimisticOps.filter(function(Z){return Z.trans===y});if(y._explicit&&b&&y.mutatedParts)for(var x=0,k=Object.values(D.queries.query);x<k.length;x++)for(var O=0,P=(U=k[x]).slice();O<P.length;O++)Jc((H=P[O]).obsSet,y.mutatedParts)&&(Un(U,H),H.subscribers.forEach(function(Z){return w.add(Z)}));else if(0<M.length){D.optimisticOps=D.optimisticOps.filter(function(Z){return Z.trans!==y});for(var R=0,B=Object.values(D.queries.query);R<B.length;R++)for(var U,H,$,q=0,G=(U=B[R]).slice();q<G.length;q++)(H=G[q]).res!=null&&y.mutatedParts&&(b&&!H.dirty?($=Object.isFrozen(H.res),$=Zf(H.res,H.req,M,C,H,$),H.dirty?(Un(U,H),H.subscribers.forEach(function(Z){return w.add(Z)})):$!==H.res&&(H.res=$,H.promise=K.resolve({result:$}))):(H.dirty&&Un(U,H),H.subscribers.forEach(function(Z){return w.add(Z)})))}}}w.forEach(function(Z){return Z()})}}},y.addEventListener("abort",f(!1),{signal:g}),y.addEventListener("error",f(!1),{signal:g}),y.addEventListener("complete",f(!0),{signal:g})),y},table:function(l){var u=s.table(l),f=u.schema.primaryKey;return t(t({},u),{mutate:function(h){var g=X.trans;if(f.outbound||g.db._options.cache==="disabled"||g.explicit||g.idbtrans.mode!=="readwrite")return u.mutate(h);var y=Jn["idb://".concat(a,"/").concat(l)];return y?(g=u.mutate(h),h.type!=="add"&&h.type!=="put"||!(50<=h.values.length||ol(f,h).some(function(b){return b==null}))?(y.optimisticOps.push(h),h.mutatedParts&&cs(h.mutatedParts),g.then(function(b){0<b.numFailures&&(Un(y.optimisticOps,h),(b=Kf(0,h,b))&&y.optimisticOps.push(b),h.mutatedParts&&cs(h.mutatedParts))}),g.catch(function(){Un(y.optimisticOps,h),h.mutatedParts&&cs(h.mutatedParts)})):g.then(function(b){var w=Kf(0,t(t({},h),{values:h.values.map(function(E,_){var T;return b.failures[_]?E:(E=(T=f.keyPath)!==null&&T!==void 0&&T.includes(".")?$n(E):t({},E),gt(E,f.keyPath,b.results[_]),E)})}),b);y.optimisticOps.push(w),queueMicrotask(function(){return h.mutatedParts&&cs(h.mutatedParts)})}),g):u.mutate(h)},query:function(h){if(!Gf(X,u)||!qf("query",h))return u.query(h);var g=((w=X.trans)===null||w===void 0?void 0:w.db._options.cache)==="immutable",_=X,y=_.requery,b=_.signal,w=function(C,M,x,k){var O=Jn["idb://".concat(C,"/").concat(M)];if(!O)return[];if(!(M=O.queries[x]))return[null,!1,O,null];var P=M[(k.query?k.query.index.name:null)||""];if(!P)return[null,!1,O,null];switch(x){case"query":var R=P.find(function(B){return B.req.limit===k.limit&&B.req.values===k.values&&Yf(B.req.query.range,k.query.range)});return R?[R,!0,O,P]:[P.find(function(B){return("limit"in B.req?B.req.limit:1/0)>=k.limit&&(!k.values||B.req.values)&&hv(B.req.query.range,k.query.range)}),!1,O,P];case"count":return R=P.find(function(B){return Yf(B.req.query.range,k.query.range)}),[R,!!R,O,P]}}(a,l,"query",h),E=w[0],_=w[1],T=w[2],D=w[3];return E&&_?E.obsSet=h.obsSet:(_=u.query(h).then(function(C){var M=C.result;if(E&&(E.res=M),g){for(var x=0,k=M.length;x<k;++x)Object.freeze(M[x]);Object.freeze(M)}else C.result=$n(M);return C}).catch(function(C){return D&&E&&Un(D,E),Promise.reject(C)}),E={obsSet:h.obsSet,promise:_,subscribers:new Set,type:"query",req:h,dirty:!1},D?D.push(E):(D=[E],(T=T||(Jn["idb://".concat(a,"/").concat(l)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[h.query.index.name||""]=D)),gv(E,D,y,b),E.promise.then(function(C){return{result:Zf(C.result,h,T?.optimisticOps,u,E,g)}})}})}})}};function us(s,a){return new Proxy(s,{get:function(l,u,f){return u==="db"?a:Reflect.get(l,u,f)}})}var nn=($e.prototype.version=function(s){if(isNaN(s)||s<.1)throw new te.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var a=this._versions,l=a.filter(function(u){return u._cfg.version===s})[0];return l||(l=new this.Version(s),a.push(l),a.sort(iv),l.stores({}),this._state.autoSchema=!1,l)},$e.prototype._whenReady=function(s){var a=this;return this.idbdb&&(this._state.openComplete||X.letThrough||this._vip)?s():new K(function(l,u){if(a._state.openComplete)return u(new te.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void u(new te.DatabaseClosed);a.open().catch(xe)}a._state.dbReadyPromise.then(l,u)}).then(s)},$e.prototype.use=function(s){var a=s.stack,l=s.create,u=s.level,f=s.name;return f&&this.unuse({stack:a,name:f}),s=this._middlewares[a]||(this._middlewares[a]=[]),s.push({stack:a,create:l,level:u??10,name:f}),s.sort(function(h,g){return h.level-g.level}),this},$e.prototype.unuse=function(s){var a=s.stack,l=s.name,u=s.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(f){return u?f.create!==u:!!l&&f.name!==l})),this},$e.prototype.open=function(){var s=this;return Zn(gn,function(){return lv(s)})},$e.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,a=Lr.indexOf(this);if(0<=a&&Lr.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new K(function(l){s.dbReadyResolve=l}),s.openCanceller=new K(function(l,u){s.cancelOpen=u}))},$e.prototype.close=function(l){var a=(l===void 0?{disableAutoOpen:!0}:l).disableAutoOpen,l=this._state;a?(l.isBeingOpened&&l.cancelOpen(new te.DatabaseClosed),this._close(),l.autoOpen=!1,l.dbOpenError=new te.DatabaseClosed):(this._close(),l.autoOpen=this._options.autoOpen||l.isBeingOpened,l.openComplete=!1,l.dbOpenError=null)},$e.prototype.delete=function(s){var a=this;s===void 0&&(s={disableAutoOpen:!0});var l=0<arguments.length&&typeof arguments[0]!="object",u=this._state;return new K(function(f,h){function g(){a.close(s);var y=a._deps.indexedDB.deleteDatabase(a.name);y.onsuccess=Ae(function(){var b,w,E;b=a._deps,w=a.name,E=b.indexedDB,b=b.IDBKeyRange,Zc(E)||w===Zi||Kc(E,b).delete(w).catch(xe),f()}),y.onerror=Ut(h),y.onblocked=a._fireOnBlocked}if(l)throw new te.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(g):g()})},$e.prototype.backendDB=function(){return this.idbdb},$e.prototype.isOpen=function(){return this.idbdb!==null},$e.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},$e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},$e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty($e.prototype,"tables",{get:function(){var s=this;return o(this._allTables).map(function(a){return s._allTables[a]})},enumerable:!1,configurable:!0}),$e.prototype.transaction=function(){var s=(function(a,l,u){var f=arguments.length;if(f<2)throw new te.InvalidArgument("Too few arguments");for(var h=new Array(f-1);--f;)h[f-1]=arguments[f];return u=h.pop(),[a,gf(h),u]}).apply(this,arguments);return this._transaction.apply(this,s)},$e.prototype._transaction=function(s,a,l){var u=this,f=X.trans;f&&f.db===this&&s.indexOf("!")===-1||(f=null);var h,g,y=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(g=a.map(function(w){if(w=w instanceof u.Table?w.name:w,typeof w!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return w}),s=="r"||s===Lc)h=Lc;else{if(s!="rw"&&s!=Vc)throw new te.InvalidArgument("Invalid transaction mode: "+s);h=Vc}if(f){if(f.mode===Lc&&h===Vc){if(!y)throw new te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&g.forEach(function(w){if(f&&f.storeNames.indexOf(w)===-1){if(!y)throw new te.SubTransaction("Table "+w+" not included in parent transaction.");f=null}}),y&&f&&!f.active&&(f=null)}}catch(w){return f?f._promise(null,function(E,_){_(w)}):He(w)}var b=(function w(E,_,T,D,C){return K.resolve().then(function(){var M=X.transless||X,x=E._createTransaction(_,T,E._dbSchema,D);if(x.explicit=!0,M={trans:x,transless:M},D)x.idbtrans=D.idbtrans;else try{x.create(),x.idbtrans._explicit=!0,E._state.PR1398_maxLoop=3}catch(P){return P.name===Mc.InvalidState&&E.isOpen()&&0<--E._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),E.close({disableAutoOpen:!1}),E.open().then(function(){return w(E,_,T,null,C)})):He(P)}var k,O=xc(C);return O&&Fr(),M=K.follow(function(){var P;(k=C.call(x,x))&&(O?(P=yn.bind(null,null),k.then(P,P)):typeof k.next=="function"&&typeof k.throw=="function"&&(k=nl(k)))},M),(k&&typeof k.then=="function"?K.resolve(k).then(function(P){return x.active?P:He(new te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):M.then(function(){return k})).then(function(P){return D&&x._resolve(),x._completion.then(function(){return P})}).catch(function(P){return x._reject(P),He(P)})})}).bind(null,this,h,g,f,l);return f?f._promise(h,b,"lock"):X.trans?Zn(X.transless,function(){return u._whenReady(b)}):this._whenReady(b)},$e.prototype.table=function(s){if(!m(this._allTables,s))throw new te.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},$e);function $e(s,a){var l=this;this._middlewares={},this.verno=0;var u=$e.dependencies;this._options=a=t({addons:$e.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},u=a.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,h,g,y,b,w={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen};w.dbReadyPromise=new K(function(_){w.dbReadyResolve=_}),w.openCanceller=new K(function(_,T){w.cancelOpen=T}),this._state=w,this.name=s,this.on=Mo(this,"populate","blocked","versionchange","close",{ready:[Sc,xe]}),this.once=function(_,T){var D=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];l.on(_).unsubscribe(D),T.apply(l,C)};return l.on(_,D)},this.on.ready.subscribe=Ce(this.on.ready.subscribe,function(_){return function(T,D){$e.vip(function(){var C,M=l._state;M.openComplete?(M.dbOpenError||K.resolve().then(T),D&&_(T)):M.onReadyBeingFired?(M.onReadyBeingFired.push(T),D&&_(T)):(_(T),C=l,D||_(function x(){C.on.ready.unsubscribe(T),C.on.ready.unsubscribe(x)}))})}}),this.Collection=(f=this,So(Jy.prototype,function(k,x){this.db=f;var D=xf,C=null;if(x)try{D=x()}catch(O){C=O}var M=k._ctx,x=M.table,k=x.hook.reading.fire;this._ctx={table:x,index:M.index,isPrimKey:!M.index||x.schema.primKey.keyPath&&M.index===x.schema.primKey.name,range:D,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:C,or:M.or,valueMapper:k!==wo?k:null}})),this.Table=(h=this,So(kf.prototype,function(_,T,D){this.db=h,this._tx=D,this.name=_,this.schema=T,this.hook=h._allTables[_]?h._allTables[_].hook:Mo(null,{creating:[Uy,xe],reading:[$y,wo],updating:[zy,xe],deleting:[Wy,xe]})})),this.Transaction=(g=this,So(tv.prototype,function(_,T,D,C,M){var x=this;_!=="readonly"&&T.forEach(function(k){k=(k=D[k])===null||k===void 0?void 0:k.yProps,k&&(T=T.concat(k.map(function(O){return O.updatesTable})))}),this.db=g,this.mode=_,this.storeNames=T,this.schema=D,this.chromeTransactionDurability=C,this.idbtrans=null,this.on=Mo(this,"complete","error","abort"),this.parent=M||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new K(function(k,O){x._resolve=k,x._reject=O}),this._completion.then(function(){x.active=!1,x.on.complete.fire()},function(k){var O=x.active;return x.active=!1,x.on.error.fire(k),x.parent?x.parent._reject(k):O&&x.idbtrans&&x.idbtrans.abort(),He(k)})})),this.Version=(y=this,So(cv.prototype,function(_){this.db=y,this._cfg={version:_,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(b=this,So(Ff.prototype,function(_,T,D){if(this.db=b,this._ctx={table:_,index:T===":id"?null:T,or:D},this._cmp=this._ascending=me,this._descending=function(C,M){return me(M,C)},this._max=function(C,M){return 0<me(C,M)?C:M},this._min=function(C,M){return me(C,M)<0?C:M},this._IDBKeyRange=b._deps.IDBKeyRange,!this._IDBKeyRange)throw new te.MissingAPI})),this.on("versionchange",function(_){0<_.newVersion?console.warn("Another connection wants to upgrade database '".concat(l.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(l.name,"'. Closing db now to resume the delete request.")),l.close({disableAutoOpen:!1})}),this.on("blocked",function(_){!_.newVersion||_.newVersion<_.oldVersion?console.warn("Dexie.delete('".concat(l.name,"') was blocked")):console.warn("Upgrade '".concat(l.name,"' blocked by other connection holding version ").concat(_.oldVersion/10))}),this._maxKey=Ao(a.IDBKeyRange),this._createTransaction=function(_,T,D,C){return new l.Transaction(_,T,D,l._options.chromeTransactionDurability,C)},this._fireOnBlocked=function(_){l.on("blocked").fire(_),Lr.filter(function(T){return T.name===l.name&&T!==l&&!T._state.vcFired}).map(function(T){return T.on("versionchange").fire(_)})},this.use(fv),this.use(mv),this.use(pv),this.use(uv),this.use(dv);var E=new Proxy(this,{get:function(_,T,D){if(T==="_vip")return!0;if(T==="table")return function(M){return us(l.table(M),E)};var C=Reflect.get(_,T,D);return C instanceof kf?us(C,E):T==="tables"?C.map(function(M){return us(M,E)}):T==="_createTransaction"?function(){return us(C.apply(this,arguments),E)}:C}});this.vip=E,u.forEach(function(_){return _(l)})}var ds,Dt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",yv=(sl.prototype.subscribe=function(s,a,l){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:a,complete:l})},sl.prototype[Dt]=function(){return this},sl);function sl(s){this._subscribe=s}try{ds={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{ds={indexedDB:null,IDBKeyRange:null}}function Qf(s){var a,l=!1,u=new yv(function(f){var h=xc(s),g,y=!1,b={},w={},E={get closed(){return y},unsubscribe:function(){y||(y=!0,g&&g.abort(),_&&bn.storagemutated.unsubscribe(D))}};f.start&&f.start(E);var _=!1,T=function(){return Fc(C)},D=function(M){as(b,M),Jc(w,b)&&T()},C=function(){var M,x,k;!y&&ds.indexedDB&&(b={},M={},g&&g.abort(),g=new AbortController,k=function(O){var P=Pr();try{h&&Fr();var R=mn(s,O);return R=h?R.finally(yn):R}finally{P&&Rr()}}(x={subscr:M,signal:g.signal,requery:T,querier:s,trans:null}),Promise.resolve(k).then(function(O){l=!0,a=O,y||x.signal.aborted||(b={},function(P){for(var R in P)if(m(P,R))return;return 1}(w=M)||_||(bn(No,D),_=!0),Fc(function(){return!y&&f.next&&f.next(O)}))},function(O){l=!1,["DatabaseClosedError","AbortError"].includes(O?.name)||y||Fc(function(){y||f.error&&f.error(O)})}))};return setTimeout(T,0),E});return u.hasValue=function(){return l},u.getValue=function(){return a},u}var Xn=nn;function al(s){var a=Dn;try{Dn=!0,bn.storagemutated.fire(s),tl(s,!0)}finally{Dn=a}}v(Xn,t(t({},Bi),{delete:function(s){return new Xn(s,{addons:[]}).delete()},exists:function(s){return new Xn(s,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return a=Xn.dependencies,l=a.indexedDB,a=a.IDBKeyRange,(Zc(l)?Promise.resolve(l.databases()).then(function(u){return u.map(function(f){return f.name}).filter(function(f){return f!==Zi})}):Kc(l,a).toCollection().primaryKeys()).then(s)}catch{return He(new te.MissingAPI)}var a,l},defineClass:function(){return function(s){c(this,s)}},ignoreTransaction:function(s){return X.trans?Zn(X.transless,s):s()},vip:Yc,async:function(s){return function(){try{var a=nl(s.apply(this,arguments));return a&&typeof a.then=="function"?a:K.resolve(a)}catch(l){return He(l)}}},spawn:function(s,a,l){try{var u=nl(s.apply(l,a||[]));return u&&typeof u.then=="function"?u:K.resolve(u)}catch(f){return He(f)}},currentTransaction:{get:function(){return X.trans||null}},waitFor:function(s,a){return a=K.resolve(typeof s=="function"?Xn.ignoreTransaction(s):s).timeout(a||6e4),X.trans?X.trans.waitFor(a):a},Promise:K,debug:{get:function(){return $t},set:function(s){_f(s)}},derive:A,extend:c,props:v,override:Ce,Events:Mo,on:bn,liveQuery:Qf,extendObservabilitySet:as,getByKeyPath:Xt,setByKeyPath:gt,delByKeyPath:function(s,a){typeof a=="string"?gt(s,a,void 0):"length"in a&&[].map.call(a,function(l){gt(s,l,void 0)})},shallowClone:hf,deepClone:$n,getObjectDiff:rl,cmp:me,asap:kr,minKey:-1/0,addons:[],connections:Lr,errnames:Mc,dependencies:ds,cache:Jn,semVer:"4.2.0",version:"4.2.0".split(".").map(function(s){return parseInt(s)}).reduce(function(s,a,l){return s+a/Math.pow(10,2*l)})})),Xn.maxKey=Ao(Xn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(bn(No,function(s){Dn||(s=new CustomEvent(Hc,{detail:s}),Dn=!0,dispatchEvent(s),Dn=!1)}),addEventListener(Hc,function(s){s=s.detail,Dn||al(s)}));var Hr,Dn=!1,Jf=function(){};return typeof BroadcastChannel<"u"&&((Jf=function(){(Hr=new BroadcastChannel(Hc)).onmessage=function(s){return s.data&&al(s.data)}})(),typeof Hr.unref=="function"&&Hr.unref(),bn(No,function(s){Dn||Hr.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!nn.disableBfCache&&s.persisted){$t&&console.debug("Dexie: handling persisted pagehide"),Hr?.close();for(var a=0,l=Lr;a<l.length;a++)l[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!nn.disableBfCache&&s.persisted&&($t&&console.debug("Dexie: handling persisted pageshow"),Jf(),al({all:new et(-1/0,[[]])}))})),K.rejectionMapper=function(s,a){return!s||s instanceof Ar||s instanceof TypeError||s instanceof SyntaxError||!s.name||!vf[s.name]?s:(a=new vf[s.name](a||s.message,s),"stack"in s&&V(a,"stack",{get:function(){return this.inner.stack}}),a)},_f($t),t(nn,Object.freeze({__proto__:null,Dexie:nn,liveQuery:Qf,Entity:Mf,cmp:me,PropModification:To,replacePrefix:function(s,a){return new To({replacePrefix:[s,a]})},add:function(s){return new To({add:s})},remove:function(s){return new To({remove:s})},default:nn,RangeSet:et,mergeRanges:Ro,rangesOverlap:Hf}),{default:nn}),nn})});var dl;function fl(){return dl}function rn(e){let t=dl;return dl=e,t}var Mv=Symbol("NotFound"),hs=class extends Error{name="\u0275NotFound";constructor(t){super(t)}};function $r(e){return e===Mv||e?.name==="\u0275NotFound"}function _s(e,t){return Object.is(e,t)}var We=null,gs=!1,pl=1,Sv=null,dt=Symbol("SIGNAL");function ue(e){let t=We;return We=e,t}function bs(){return We}var tr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ds(e){if(gs)throw new Error("");if(We===null)return;We.consumerOnSignalRead(e);let t=We.nextProducerIndex++;if(xs(We),t<We.producerNode.length&&We.producerNode[t]!==e&&Lo(We)){let n=We.producerNode[t];Is(n,We.producerIndexOfThis[t])}We.producerNode[t]!==e&&(We.producerNode[t]=e,We.producerIndexOfThis[t]=Lo(We)?rp(e,We,t):0),We.producerLastReadVersion[t]=e.version}function np(){pl++}function ws(e){if(!(Lo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===pl)){if(!e.producerMustRecompute(e)&&!Cs(e)){vs(e);return}e.producerRecomputeValue(e),vs(e)}}function hl(e){if(e.liveConsumerNode===void 0)return;let t=gs;gs=!0;try{for(let n of e.liveConsumerNode)n.dirty||Tv(n)}finally{gs=t}}function gl(){return We?.consumerAllowSignalWrites!==!1}function Tv(e){e.dirty=!0,hl(e),e.consumerMarkedDirty?.(e)}function vs(e){e.dirty=!1,e.lastCleanEpoch=pl}function Ur(e){return e&&(e.nextProducerIndex=0),ue(e)}function Vo(e,t){if(ue(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Lo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Is(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Cs(e){xs(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ws(n),r!==n.version))return!0}return!1}function Es(e){if(xs(e),Lo(e))for(let t=0;t<e.producerNode.length;t++)Is(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function rp(e,t,n){if(op(e),e.liveConsumerNode.length===0&&ip(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=rp(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Is(e,t){if(op(e),e.liveConsumerNode.length===1&&ip(e))for(let r=0;r<e.producerNode.length;r++)Is(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];xs(o),o.producerIndexOfThis[r]=t}}function Lo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function xs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function op(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ip(e){return e.producerNode!==void 0}function Ms(e){Sv?.(e)}function Ss(e,t){let n=Object.create(kv);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(ws(n),Ds(n),n.value===Fo)throw n.error;return n.value};return r[dt]=n,Ms(n),r}var ms=Symbol("UNSET"),ys=Symbol("COMPUTING"),Fo=Symbol("ERRORED"),kv=re(Q({},tr),{value:ms,dirty:!0,error:null,equal:_s,kind:"computed",producerMustRecompute(e){return e.value===ms||e.value===ys},producerRecomputeValue(e){if(e.value===ys)throw new Error("");let t=e.value;e.value=ys;let n=Ur(e),r,o=!1;try{r=e.computation(),ue(null),o=t!==ms&&t!==Fo&&r!==Fo&&e.equal(t,r)}catch(i){r=Fo,e.error=i}finally{Vo(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function Nv(){throw new Error}var sp=Nv;function ap(e){sp(e)}function ml(e){sp=e}var Av=null;function yl(e,t){let n=Object.create(lp);n.value=e,t!==void 0&&(n.equal=t);let r=()=>cp(n);return r[dt]=n,Ms(n),r}function cp(e){return Ds(e),e.value}function jo(e,t){gl()||ap(e),e.equal(e.value,t)||(e.value=t,Ov(e))}function Ts(e,t){gl()||ap(e),jo(e,t(e.value))}var lp=re(Q({},tr),{equal:_s,value:void 0,kind:"signal"});function Ov(e){e.version++,np(),hl(e),Av?.(e)}function be(e){return typeof e=="function"}function ks(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ns=ks(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function nr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ze=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(be(r))try{r()}catch(i){t=i instanceof Ns?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{up(i)}catch(c){t=t??[],c instanceof Ns?t=[...t,...c.errors]:t.push(c)}}if(t)throw new Ns(t)}}add(t){var n;if(t&&t!==this)if(this.closed)up(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&nr(n,t)}remove(t){let{_finalizers:n}=this;n&&nr(n,t),t instanceof e&&t._removeParent(this)}};ze.EMPTY=(()=>{let e=new ze;return e.closed=!0,e})();var vl=ze.EMPTY;function As(e){return e instanceof ze||e&&"closed"in e&&be(e.remove)&&be(e.add)&&be(e.unsubscribe)}function up(e){be(e)?e():e.unsubscribe()}var Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wr={setTimeout(e,t,...n){let{delegate:r}=Wr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Wr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Os(e){Wr.setTimeout(()=>{let{onUnhandledError:t}=Pt;if(t)t(e);else throw e})}function _l(){}var dp=bl("C",void 0,void 0);function fp(e){return bl("E",void 0,e)}function pp(e){return bl("N",e,void 0)}function bl(e,t,n){return{kind:e,value:t,error:n}}var rr=null;function zr(e){if(Pt.useDeprecatedSynchronousErrorHandling){let t=!rr;if(t&&(rr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=rr;if(rr=null,n)throw r}}else e()}function hp(e){Pt.useDeprecatedSynchronousErrorHandling&&rr&&(rr.errorThrown=!0,rr.error=e)}var or=class extends ze{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,As(t)&&t.add(this)):this.destination=Fv}static create(t,n,r){return new Gr(t,n,r)}next(t){this.isStopped?wl(pp(t),this):this._next(t)}error(t){this.isStopped?wl(fp(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?wl(dp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Pv=Function.prototype.bind;function Dl(e,t){return Pv.call(e,t)}var Cl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ps(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ps(r)}else Ps(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ps(n)}}},Gr=class extends or{constructor(t,n,r){super();let o;if(be(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Pt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Dl(t.next,i),error:t.error&&Dl(t.error,i),complete:t.complete&&Dl(t.complete,i)}):o=t}this.destination=new Cl(o)}};function Ps(e){Pt.useDeprecatedSynchronousErrorHandling?hp(e):Os(e)}function Rv(e){throw e}function wl(e,t){let{onStoppedNotification:n}=Pt;n&&Wr.setTimeout(()=>n(e,t))}var Fv={closed:!0,next:_l,error:Rv,complete:_l};var qr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gp(e){return e}function mp(e){return e.length===0?gp:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var Pe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Vv(n)?n:new Gr(n,r,o);return zr(()=>{let{operator:c,source:d}=this;i.add(c?c.call(i,d):d?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=yp(r),new r((o,i)=>{let c=new Gr({next:d=>{try{n(d)}catch(p){i(p),c.unsubscribe()}},error:i,complete:o});this.subscribe(c)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qr](){return this}pipe(...n){return mp(n)(this)}toPromise(n){return n=yp(n),new n((r,o)=>{let i;this.subscribe(c=>i=c,c=>o(c),()=>r(i))})}}return e.create=t=>new e(t),e})();function yp(e){var t;return(t=e??Pt.Promise)!==null&&t!==void 0?t:Promise}function Lv(e){return e&&be(e.next)&&be(e.error)&&be(e.complete)}function Vv(e){return e&&e instanceof or||Lv(e)&&As(e)}function jv(e){return be(e?.lift)}function wn(e){return t=>{if(jv(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Cn(e,t,n,r,o){return new El(e,t,n,r,o)}var El=class extends or{constructor(t,n,r,o,i,c){super(t),this.onFinalize=i,this.shouldUnsubscribe=c,this._next=n?function(d){try{n(d)}catch(p){t.error(p)}}:super._next,this._error=o?function(d){try{o(d)}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var vp=ks(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var on=(()=>{class e extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Rs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new vp}next(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?vl:(this.currentObservers=null,i.push(n),new ze(()=>{this.currentObservers=null,nr(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Pe;return n.source=this,n}}return e.create=(t,n)=>new Rs(t,n),e})(),Rs=class extends on{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:vl}};var wt=class extends on{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Il={now(){return(Il.delegate||Date).now()},delegate:void 0};var Fs=class extends ze{constructor(t,n){super()}schedule(t,n=0){return this}};var Bo={setInterval(e,t,...n){let{delegate:r}=Bo;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Bo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Ls=class extends Fs{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return Bo.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Bo.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,o;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,nr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Kr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Kr.now=Il.now;var Vs=class extends Kr{constructor(t,n=Kr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var xl=new Vs(Ls),_p=xl;function bp(e){return e&&be(e.schedule)}function Bv(e){return e[e.length-1]}function Dp(e){return be(Bv(e))?e.pop():void 0}function Cp(e,t,n,r){function o(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function d(v){try{m(r.next(v))}catch(N){c(N)}}function p(v){try{m(r.throw(v))}catch(N){c(N)}}function m(v){v.done?i(v.value):o(v.value).then(d,p)}m((r=r.apply(e,t||[])).next())})}function wp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ir(e){return this instanceof ir?(this.v=e,this):new ir(e)}function Ep(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(A){return function(J){return Promise.resolve(J).then(A,N)}}function d(A,J){r[A]&&(o[A]=function(he){return new Promise(function(Ie,Ce){i.push([A,he,Ie,Ce])>1||p(A,he)})},J&&(o[A]=J(o[A])))}function p(A,J){try{m(r[A](J))}catch(he){V(i[0][3],he)}}function m(A){A.value instanceof ir?Promise.resolve(A.value.v).then(v,N):V(i[0][2],A)}function v(A){p("next",A)}function N(A){p("throw",A)}function V(A,J){A(J),i.shift(),i.length&&p(i[0][0],i[0][1])}}function Ip(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof wp=="function"?wp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(c){return new Promise(function(d,p){c=e[i](c),o(d,p,c.done,c.value)})}}function o(i,c,d,p){Promise.resolve(p).then(function(m){i({value:m,done:d})},c)}}var js=e=>e&&typeof e.length=="number"&&typeof e!="function";function Bs(e){return be(e?.then)}function Hs(e){return be(e[qr])}function $s(e){return Symbol.asyncIterator&&be(e?.[Symbol.asyncIterator])}function Us(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Hv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ws=Hv();function zs(e){return be(e?.[Ws])}function Gs(e){return Ep(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield ir(n.read());if(o)return yield ir(void 0);yield yield ir(r)}}finally{n.releaseLock()}})}function qs(e){return be(e?.getReader)}function En(e){if(e instanceof Pe)return e;if(e!=null){if(Hs(e))return $v(e);if(js(e))return Uv(e);if(Bs(e))return Wv(e);if($s(e))return xp(e);if(zs(e))return zv(e);if(qs(e))return Gv(e)}throw Us(e)}function $v(e){return new Pe(t=>{let n=e[qr]();if(be(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Uv(e){return new Pe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Wv(e){return new Pe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Os)})}function zv(e){return new Pe(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function xp(e){return new Pe(t=>{qv(e,t).catch(n=>t.error(n))})}function Gv(e){return xp(Gs(e))}function qv(e,t){var n,r,o,i;return Cp(this,void 0,void 0,function*(){try{for(n=Ip(e);r=yield n.next(),!r.done;){let c=r.value;if(t.next(c),t.closed)return}}catch(c){o={error:c}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function zt(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Ks(e,t=0){return wn((n,r)=>{n.subscribe(Cn(r,o=>zt(r,e,()=>r.next(o),t),()=>zt(r,e,()=>r.complete(),t),o=>zt(r,e,()=>r.error(o),t)))})}function Zs(e,t=0){return wn((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Mp(e,t){return En(e).pipe(Zs(t),Ks(t))}function Sp(e,t){return En(e).pipe(Zs(t),Ks(t))}function Tp(e,t){return new Pe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function kp(e,t){return new Pe(n=>{let r;return zt(n,t,()=>{r=e[Ws](),zt(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(c){n.error(c);return}i?n.complete():n.next(o)},0,!0)}),()=>be(r?.return)&&r.return()})}function Ys(e,t){if(!e)throw new Error("Iterable cannot be null");return new Pe(n=>{zt(n,t,()=>{let r=e[Symbol.asyncIterator]();zt(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Np(e,t){return Ys(Gs(e),t)}function Ap(e,t){if(e!=null){if(Hs(e))return Mp(e,t);if(js(e))return Tp(e,t);if(Bs(e))return Sp(e,t);if($s(e))return Ys(e,t);if(zs(e))return kp(e,t);if(qs(e))return Np(e,t)}throw Us(e)}function Ue(e,t){return t?Ap(e,t):En(e)}function Op(e){return e instanceof Date&&!isNaN(e)}function sn(e,t){return wn((n,r)=>{let o=0;n.subscribe(Cn(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:Kv}=Array;function Zv(e,t){return Kv(t)?e(...t):e(t)}function Pp(e){return sn(t=>Zv(e,t))}var{isArray:Yv}=Array,{getPrototypeOf:Qv,prototype:Jv,keys:Xv}=Object;function Rp(e){if(e.length===1){let t=e[0];if(Yv(t))return{args:t,keys:null};if(e_(t)){let n=Xv(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function e_(e){return e&&typeof e=="object"&&Qv(e)===Jv}function Fp(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Ml(...e){let t=Dp(e),{args:n,keys:r}=Rp(e),o=new Pe(i=>{let{length:c}=n;if(!c){i.complete();return}let d=new Array(c),p=c,m=c;for(let v=0;v<c;v++){let N=!1;En(n[v]).subscribe(Cn(i,V=>{N||(N=!0,m--),d[v]=V},()=>p--,void 0,()=>{(!p||!N)&&(m||i.next(r?Fp(r,d):d),i.complete())}))}});return t?o.pipe(Pp(t)):o}function Lp(e=0,t,n=_p){let r=-1;return t!=null&&(bp(t)?n=t:r=t),new Pe(o=>{let i=Op(e)?+e-n.now():e;i<0&&(i=0);let c=0;return n.schedule(function(){o.closed||(o.next(c++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function Sl(e=0,t=xl){return e<0&&(e=0),Lp(e,e,t)}function Tl(e,t=!1){return wn((n,r)=>{let o=0;n.subscribe(Cn(r,i=>{let c=e(i,o++);(c||t)&&r.next(i),!c&&r.complete()}))})}function Vp(e){let t=ue(null);try{return e()}finally{ue(t)}}var $l="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",se=class extends Error{code;constructor(t,n){super(ta(t,n)),this.code=t}};function t_(e){return`NG0${Math.abs(e)}`}function ta(e,t){return`${t_(e)}${t?": "+t:""}`}function Ve(e){for(let t in e)if(e[t]===Ve)return t;throw Error("")}function $p(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function yt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(yt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function na(e,t){return e?t?`${e} ${t}`:e:t||""}var n_=Ve({__forward_ref__:Ve});function rt(e){return e.__forward_ref__=rt,e.toString=function(){return yt(this())},e}function Ze(e){return Ul(e)?e():e}function Ul(e){return typeof e=="function"&&e.hasOwnProperty(n_)&&e.__forward_ref__===rt}function Up(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function we(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Mn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ra(e){return r_(e,oa)}function r_(e,t){return e.hasOwnProperty(t)&&e[t]||null}function o_(e){let t=e?.[oa]??null;return t||null}function Nl(e){return e&&e.hasOwnProperty(Js)?e[Js]:null}var oa=Ve({\u0275prov:Ve}),Js=Ve({\u0275inj:Ve}),de=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=we({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wl(e){return e&&!!e.\u0275providers}var zl=Ve({\u0275cmp:Ve}),Gl=Ve({\u0275dir:Ve}),ql=Ve({\u0275pipe:Ve});var $o=Ve({\u0275fac:Ve}),dr=Ve({__NG_ELEMENT_ID__:Ve}),jp=Ve({__NG_ENV_ID__:Ve});function Yr(e){return typeof e=="string"?e:e==null?"":String(e)}function Wp(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Yr(e)}function Kl(e,t){throw new se(-200,e)}function ia(e,t){throw new se(-201,!1)}var Al;function zp(){return Al}function ct(e){let t=Al;return Al=e,t}function Zl(e,t,n){let r=ra(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;ia(e,"Injector")}var i_={},sr=i_,Ol="__NG_DI_FLAG__",Pl=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ar(n)||0;try{return this.injector.get(t,r&8?null:sr,r)}catch(o){if($r(o))return o;throw o}}},Xs="ngTempTokenPath",s_="ngTokenPath",a_=/\n/gm,c_="\u0275",Bp="__source";function l_(e,t=0){let n=fl();if(n===void 0)throw new se(-203,!1);if(n===null)return Zl(e,void 0,t);{let r=u_(t),o=n.retrieve(e,r);if($r(o)){if(r.optional)return null;throw o}return o}}function De(e,t=0){return(zp()||l_)(Ze(e),t)}function fe(e,t){return De(e,ar(t))}function ar(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function u_(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Rl(e){let t=[];for(let n=0;n<e.length;n++){let r=Ze(e[n]);if(Array.isArray(r)){if(r.length===0)throw new se(900,!1);let o,i=0;for(let c=0;c<r.length;c++){let d=r[c],p=d_(d);typeof p=="number"?p===-1?o=d.token:i|=p:o=d}t.push(De(o,i))}else t.push(De(r))}return t}function Yl(e,t){return e[Ol]=t,e.prototype[Ol]=t,e}function d_(e){return e[Ol]}function f_(e,t,n,r){let o=e[Xs];throw t[Bp]&&o.unshift(t[Bp]),e.message=p_(`
`+e.message,o,n,r),e[s_]=o,e[Xs]=null,e}function p_(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==c_?e.slice(2):e;let o=yt(t);if(Array.isArray(t))o=t.map(yt).join(" -> ");else if(typeof t=="object"){let i=[];for(let c in t)if(t.hasOwnProperty(c)){let d=t[c];i.push(c+":"+(typeof d=="string"?JSON.stringify(d):yt(d)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(a_,`
  `)}`}function In(e,t){let n=e.hasOwnProperty($o);return n?e[$o]:null}function sa(e,t){e.forEach(n=>Array.isArray(n)?sa(n,t):t(n))}function Ql(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Wo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gp(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function aa(e,t,n){let r=Qr(e,t);return r>=0?e[r|1]=n:(r=~r,Gp(e,r,t,n)),r}function ca(e,t){let n=Qr(e,t);if(n>=0)return e[n|1]}function Qr(e,t){return h_(e,t,1)}function h_(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),c=e[i<<n];if(t===c)return i<<n;c>t?o=i:r=i+1}return~(o<<n)}var Sn={},lt=[],fr=new de(""),Jl=new de("",-1),Xl=new de(""),Uo=class{get(t,n=sr){if(n===sr)throw new hs(`NullInjectorError: No provider for ${yt(t)}!`);return n}};function pr(e){return e[zl]||null}function eu(e){return e[Gl]||null}function qp(e){return e[ql]||null}function Kp(...e){return{\u0275providers:tu(!0,e),\u0275fromNgModule:!0}}function tu(e,...t){let n=[],r=new Set,o,i=c=>{n.push(c)};return sa(t,c=>{let d=c;ea(d,i,[],r)&&(o||=[],o.push(d))}),o!==void 0&&Zp(o,i),n}function Zp(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];nu(o,i=>{t(i,r)})}}function ea(e,t,n,r){if(e=Ze(e),!e)return!1;let o=null,i=Nl(e),c=!i&&pr(e);if(!i&&!c){let p=e.ngModule;if(i=Nl(p),i)o=p;else return!1}else{if(c&&!c.standalone)return!1;o=e}let d=r.has(o);if(c){if(d)return!1;if(r.add(o),c.dependencies){let p=typeof c.dependencies=="function"?c.dependencies():c.dependencies;for(let m of p)ea(m,t,n,r)}}else if(i){if(i.imports!=null&&!d){r.add(o);let m;try{sa(i.imports,v=>{ea(v,t,n,r)&&(m||=[],m.push(v))})}finally{}m!==void 0&&Zp(m,t)}if(!d){let m=In(o)||(()=>new o);t({provide:o,useFactory:m,deps:lt},o),t({provide:Xl,useValue:o,multi:!0},o),t({provide:fr,useValue:()=>De(o),multi:!0},o)}let p=i.providers;if(p!=null&&!d){let m=e;nu(p,v=>{t(v,m)})}}else return!1;return o!==e&&e.providers!==void 0}function nu(e,t){for(let n of e)Wl(n)&&(n=n.\u0275providers),Array.isArray(n)?nu(n,t):t(n)}var g_=Ve({provide:String,useValue:Ve});function Yp(e){return e!==null&&typeof e=="object"&&g_ in e}function m_(e){return!!(e&&e.useExisting)}function y_(e){return!!(e&&e.useFactory)}function cr(e){return typeof e=="function"}function Qp(e){return!!e.useClass}var zo=new de(""),Qs={},Hp={},kl;function Go(){return kl===void 0&&(kl=new Uo),kl}var Ct=class{},lr=class extends Ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Ll(t,c=>this.processProvider(c)),this.records.set(Jl,Zr(void 0,this)),o.has("environment")&&this.records.set(Ct,Zr(void 0,this));let i=this.records.get(zo);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Xl,lt,{self:!0}))}retrieve(t,n){let r=ar(n)||0;try{return this.get(t,sr,r)}catch(o){if($r(o))return o;throw o}}destroy(){Ho(this),this._destroyed=!0;let t=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(t)}}onDestroy(t){return Ho(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ho(this);let n=rn(this),r=ct(void 0),o;try{return t()}finally{rn(n),ct(r)}}get(t,n=sr,r){if(Ho(this),t.hasOwnProperty(jp))return t[jp](this);let o=ar(r),i,c=rn(this),d=ct(void 0);try{if(!(o&4)){let m=this.records.get(t);if(m===void 0){let v=w_(t)&&ra(t);v&&this.injectableDefInScope(v)?m=Zr(Fl(t),Qs):m=null,this.records.set(t,m)}if(m!=null)return this.hydrate(t,m)}let p=o&2?Go():this.parent;return n=o&8&&n===sr?null:n,p.get(t,n)}catch(p){if($r(p)){if((p[Xs]=p[Xs]||[]).unshift(yt(t)),c)throw p;return f_(p,t,"R3InjectorError",this.source)}else throw p}finally{ct(d),rn(c)}}resolveInjectorInitializers(){let t=ue(null),n=rn(this),r=ct(void 0),o;try{let i=this.get(fr,lt,{self:!0});for(let c of i)c()}finally{rn(n),ct(r),ue(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(yt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ze(t);let n=cr(t)?t:Ze(t&&t.provide),r=__(t);if(!cr(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Zr(void 0,Qs,!0),o.factory=()=>Rl(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=ue(null);try{return n.value===Hp?Kl(yt(t)):n.value===Qs&&(n.value=Hp,n.value=n.factory()),typeof n.value=="object"&&n.value&&D_(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ue(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ze(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Fl(e){let t=ra(e),n=t!==null?t.factory:In(e);if(n!==null)return n;if(e instanceof de)throw new se(204,!1);if(e instanceof Function)return v_(e);throw new se(204,!1)}function v_(e){if(e.length>0)throw new se(204,!1);let n=o_(e);return n!==null?()=>n.factory(e):()=>new e}function __(e){if(Yp(e))return Zr(void 0,e.useValue);{let t=ru(e);return Zr(t,Qs)}}function ru(e,t,n){let r;if(cr(e)){let o=Ze(e);return In(o)||Fl(o)}else if(Yp(e))r=()=>Ze(e.useValue);else if(y_(e))r=()=>e.useFactory(...Rl(e.deps||[]));else if(m_(e))r=()=>De(Ze(e.useExisting));else{let o=Ze(e&&(e.useClass||e.provide));if(b_(e))r=()=>new o(...Rl(e.deps));else return In(o)||Fl(o)}return r}function Ho(e){if(e.destroyed)throw new se(205,!1)}function Zr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function b_(e){return!!e.deps}function D_(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function w_(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Ll(e,t){for(let n of e)Array.isArray(n)?Ll(n,t):n&&Wl(n)?Ll(n.\u0275providers,t):t(n)}function la(e,t){let n;e instanceof lr?(Ho(e),n=e):n=new Pl(e);let r,o=rn(n),i=ct(void 0);try{return t()}finally{rn(o),ct(i)}}function Jp(){return zp()!==void 0||fl()!=null}var Rt=0,pe=1,ae=2,Ye=3,Et=4,It=5,qo=6,Jr=7,ot=8,hr=9,ln=10,je=11,Xr=12,ou=13,gr=14,xt=15,mr=16,yr=17,vr=18,Ko=19,iu=20,an=21,ua=22,Zo=23,vt=24,da=25,ft=26,Xp=1;var Tn=7,Yo=8,Qo=9,pt=10;function qt(e){return Array.isArray(e)&&typeof e[Xp]=="object"}function Ft(e){return Array.isArray(e)&&e[Xp]===!0}function su(e){return(e.flags&4)!==0}function kn(e){return e.componentOffset>-1}function fa(e){return(e.flags&1)===1}function Kt(e){return!!e.template}function eo(e){return(e[ae]&512)!==0}function to(e){return(e[ae]&256)===256}var au="svg",eh="math";function Mt(e){for(;Array.isArray(e);)e=e[Rt];return e}function cu(e,t){return Mt(t[e])}function Lt(e,t){return Mt(t[e.index])}function pa(e,t){return e.data[t]}function lu(e,t){return e[t]}function uu(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function St(e,t){let n=t[e];return qt(n)?n:n[Rt]}function ha(e){return(e[ae]&128)===128}function th(e){return Ft(e[Ye])}function Jo(e,t){return t==null?null:e[t]}function du(e){e[yr]=0}function fu(e){e[ae]&1024||(e[ae]|=1024,ha(e)&&ei(e))}function nh(e,t){for(;e>0;)t=t[gr],e--;return t}function Xo(e){return!!(e[ae]&9216||e[vt]?.dirty)}function ga(e){e[ln].changeDetectionScheduler?.notify(8),e[ae]&64&&(e[ae]|=1024),Xo(e)&&ei(e)}function ei(e){e[ln].changeDetectionScheduler?.notify(0);let t=xn(e);for(;t!==null&&!(t[ae]&8192||(t[ae]|=8192,!ha(t)));)t=xn(t)}function pu(e,t){if(to(e))throw new se(911,!1);e[an]===null&&(e[an]=[]),e[an].push(t)}function rh(e,t){if(e[an]===null)return;let n=e[an].indexOf(t);n!==-1&&e[an].splice(n,1)}function xn(e){let t=e[Ye];return Ft(t)?t[Ye]:t}function oh(e){return e[Jr]??=[]}function ih(e){return e.cleanup??=[]}var le={lFrame:Ch(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ti=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(ti||{}),C_=0,Vl=!1;function sh(){return le.lFrame.elementDepthCount}function ah(){le.lFrame.elementDepthCount++}function ch(){le.lFrame.elementDepthCount--}function hu(){return le.bindingsEnabled}function lh(){return le.skipHydrationRootTNode!==null}function uh(e){return le.skipHydrationRootTNode===e}function dh(){le.skipHydrationRootTNode=null}function Ee(){return le.lFrame.lView}function it(){return le.lFrame.tView}function W(e){return le.lFrame.contextLView=e,e[ot]}function z(e){return le.lFrame.contextLView=null,e}function ht(){let e=gu();for(;e!==null&&e.type===64;)e=e.parent;return e}function gu(){return le.lFrame.currentTNode}function fh(){let e=le.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function no(e,t){let n=le.lFrame;n.currentTNode=e,n.isParent=t}function mu(){return le.lFrame.isParent}function ph(){le.lFrame.isParent=!1}function hh(){return le.lFrame.contextLView}function yu(e){Up("Must never be called in production mode"),C_=e}function vu(){return Vl}function _u(e){let t=Vl;return Vl=e,t}function gh(){let e=le.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function mh(){return le.lFrame.bindingIndex}function yh(e){return le.lFrame.bindingIndex=e}function ni(){return le.lFrame.bindingIndex++}function ma(e){let t=le.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function vh(){return le.lFrame.inI18n}function _h(e,t){let n=le.lFrame;n.bindingIndex=n.bindingRootIndex=e,ya(t)}function bh(){return le.lFrame.currentDirectiveIndex}function ya(e){le.lFrame.currentDirectiveIndex=e}function Dh(e){let t=le.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function bu(e){le.lFrame.currentQueryIndex=e}function E_(e){let t=e[pe];return t.type===2?t.declTNode:t.type===1?e[It]:null}function Du(e,t,n){if(n&4){let o=t,i=e;for(;o=o.parent,o===null&&!(n&1);)if(o=E_(i),o===null||(i=i[gr],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=le.lFrame=wh();return r.currentTNode=t,r.lView=e,!0}function va(e){let t=wh(),n=e[pe];le.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function wh(){let e=le.lFrame,t=e===null?null:e.child;return t===null?Ch(e):t}function Ch(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Eh(){let e=le.lFrame;return le.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var wu=Eh;function _a(){let e=Eh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ih(e){return(le.lFrame.contextLView=nh(e,le.lFrame.contextLView))[ot]}function un(){return le.lFrame.selectedIndex}function Nn(e){le.lFrame.selectedIndex=e}function ba(){let e=le.lFrame;return pa(e.tView,e.selectedIndex)}function Da(){le.lFrame.currentNamespace=au}function wa(){I_()}function I_(){le.lFrame.currentNamespace=null}function xh(){return le.lFrame.currentNamespace}var Mh=!0;function Ca(){return Mh}function Ea(e){Mh=e}function jl(e,t=null,n=null,r){let o=Sh(e,t,n,r);return o.resolveInjectorInitializers(),o}function Sh(e,t=null,n=null,r,o=new Set){let i=[n||lt,Kp(e)];return r=r||(typeof e=="object"?void 0:yt(e)),new lr(i,t||Go(),r||null,o)}var cn=class e{static THROW_IF_NOT_FOUND=sr;static NULL=new Uo;static create(t,n){if(Array.isArray(t))return jl({name:""},n,t,"");{let r=t.name??"";return jl({name:r},t.parent,t.providers,r)}}static \u0275prov=we({token:e,providedIn:"any",factory:()=>De(Jl)});static __NG_ELEMENT_ID__=-1},Vt=new de(""),Ia=(()=>{class e{static __NG_ELEMENT_ID__=x_;static __NG_ENV_ID__=n=>n}return e})(),Bl=class extends Ia{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return pu(n,t),()=>rh(n,t)}};function x_(){return new Bl(Ee())}var Gt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Zt=new de("",{providedIn:"root",factory:()=>{let e=fe(Ct),t;return n=>{t??=e.get(Gt),t.handleError(n)}}}),Th={provide:fr,useValue:()=>void fe(Gt),multi:!0};function Cu(e){return typeof e=="function"&&e[dt]!==void 0}function _r(e,t){let n=yl(e,t?.equal),r=n[dt];return n.set=o=>jo(r,o),n.update=o=>Ts(r,o),n.asReadonly=kh.bind(n),n}function kh(){let e=this[dt];if(e.readonlyFn===void 0){let t=()=>this();t[dt]=e,e.readonlyFn=t}return e.readonlyFn}function Eu(e){return Cu(e)&&typeof e.set=="function"}var ur=class{},xa=new de("",{providedIn:"root",factory:()=>!1});var Iu=new de(""),xu=new de("");var ro=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new wt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Pe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=we({token:e,providedIn:"root",factory:()=>new e})}return e})();function ri(...e){}var Mu=(()=>{class e{static \u0275prov=we({token:e,providedIn:"root",factory:()=>new Hl})}return e})(),Hl=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function ao(e){return{toString:e}.toString()}var Ma="__parameters__";function V_(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function ig(e,t,n){return ao(()=>{let r=V_(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let c=new o(...i);return d.annotation=c,d;function d(p,m,v){let N=p.hasOwnProperty(Ma)?p[Ma]:Object.defineProperty(p,Ma,{value:[]})[Ma];for(;N.length<=v;)N.push(null);return(N[v]=N[v]||[]).push(c),p}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var sg=Yl(ig("Optional"),8);var ag=Yl(ig("SkipSelf"),4);function j_(e){return typeof e=="function"}var Aa=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cg(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var fi=(()=>{let e=()=>lg;return e.ngInherit=!0,e})();function lg(e){return e.type.prototype.ngOnChanges&&(e.setInput=H_),B_}function B_(){let e=dg(this),t=e?.current;if(t){let n=e.previous;if(n===Sn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function H_(e,t,n,r,o){let i=this.declaredInputs[r],c=dg(e)||$_(e,{previous:Sn,current:null}),d=c.current||(c.current={}),p=c.previous,m=p[i];d[i]=new Aa(m&&m.currentValue,n,p===Sn),cg(e,t,o,n)}var ug="__ngSimpleChanges__";function dg(e){return e[ug]||null}function $_(e,t){return e[ug]=t}var Nh=[];var Te=function(e,t=null,n){for(let r=0;r<Nh.length;r++){let o=Nh[r];o(e,t,n)}};function U_(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let c=lg(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function fg(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:p,ngAfterViewChecked:m,ngOnDestroy:v}=i;c&&(e.contentHooks??=[]).push(-n,c),d&&((e.contentHooks??=[]).push(n,d),(e.contentCheckHooks??=[]).push(n,d)),p&&(e.viewHooks??=[]).push(-n,p),m&&((e.viewHooks??=[]).push(n,m),(e.viewCheckHooks??=[]).push(n,m)),v!=null&&(e.destroyHooks??=[]).push(n,v)}}function Ta(e,t,n){pg(e,t,3,n)}function ka(e,t,n,r){(e[ae]&3)===n&&pg(e,t,n,r)}function Su(e,t){let n=e[ae];(n&3)===t&&(n&=16383,n+=1,e[ae]=n)}function pg(e,t,n,r){let o=r!==void 0?e[yr]&65535:0,i=r??-1,c=t.length-1,d=0;for(let p=o;p<c;p++)if(typeof t[p+1]=="number"){if(d=t[p],r!=null&&d>=r)break}else t[p]<0&&(e[yr]+=65536),(d<i||i==-1)&&(W_(e,n,t,p),e[yr]=(e[yr]&4294901760)+p+2),p++}function Ah(e,t){Te(4,e,t);let n=ue(null);try{t.call(e)}finally{ue(n),Te(5,e,t)}}function W_(e,t,n,r){let o=n[r]<0,i=n[r+1],c=o?-n[r]:n[r],d=e[c];o?e[ae]>>14<e[yr]>>16&&(e[ae]&3)===t&&(e[ae]+=16384,Ah(d,i)):Ah(d,i)}var io=-1,Dr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function z_(e){return(e.flags&8)!==0}function G_(e){return(e.flags&16)!==0}function q_(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],c=n[r++],d=n[r++];e.setAttribute(t,c,d,i)}else{let i=o,c=n[++r];Z_(i)?e.setProperty(t,i,c):e.setAttribute(t,i,c),r++}}return r}function K_(e){return e===3||e===4||e===6}function Z_(e){return e.charCodeAt(0)===64}function si(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Oh(e,n,o,null,t[++r]):Oh(e,n,o,null,null))}}return e}function Oh(e,t,n,r,o){let i=0,c=e.length;if(t===-1)c=-1;else for(;i<e.length;){let d=e[i++];if(typeof d=="number"){if(d===t){c=-1;break}else if(d>t){c=i-1;break}}}for(;i<e.length;){let d=e[i];if(typeof d=="number")break;if(d===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}c!==-1&&(e.splice(c,0,t),i=c+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function hg(e){return e!==io}function Oa(e){return e&32767}function Y_(e){return e>>16}function Pa(e,t){let n=Y_(e),r=t;for(;n>0;)r=r[gr],n--;return r}var Vu=!0;function Ra(e){let t=Vu;return Vu=e,t}var Q_=256,gg=Q_-1,mg=5,J_=0,Yt={};function X_(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(dr)&&(r=n[dr]),r==null&&(r=n[dr]=J_++);let o=r&gg,i=1<<o;t.data[e+(o>>mg)]|=i}function Fa(e,t){let n=yg(e,t);if(n!==-1)return n;let r=t[pe];r.firstCreatePass&&(e.injectorIndex=t.length,Tu(r.data,e),Tu(t,null),Tu(r.blueprint,null));let o=sd(e,t),i=e.injectorIndex;if(hg(o)){let c=Oa(o),d=Pa(o,t),p=d[pe].data;for(let m=0;m<8;m++)t[i+m]=d[c+m]|p[c+m]}return t[i+8]=o,i}function Tu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function yg(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function sd(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=wg(o),r===null)return io;if(n++,o=o[gr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return io}function ju(e,t,n){X_(e,t,n)}function vg(e,t,n){if(n&8||e!==void 0)return e;ia(t,"NodeInjector")}function _g(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=e[hr],i=ct(void 0);try{return o?o.get(t,r,n&8):Zl(t,r,n&8)}finally{ct(i)}}return vg(r,t,n)}function bg(e,t,n,r=0,o){if(e!==null){if(t[ae]&2048&&!(r&2)){let c=o0(e,t,n,r,Yt);if(c!==Yt)return c}let i=Dg(e,t,n,r,Yt);if(i!==Yt)return i}return _g(t,n,r,o)}function Dg(e,t,n,r,o){let i=n0(n);if(typeof i=="function"){if(!Du(t,e,r))return r&1?vg(o,n,r):_g(t,n,r,o);try{let c;if(c=i(r),c==null&&!(r&8))ia(n);else return c}finally{wu()}}else if(typeof i=="number"){let c=null,d=yg(e,t),p=io,m=r&1?t[xt][It]:null;for((d===-1||r&4)&&(p=d===-1?sd(e,t):t[d+8],p===io||!Rh(r,!1)?d=-1:(c=t[pe],d=Oa(p),t=Pa(p,t)));d!==-1;){let v=t[pe];if(Ph(i,d,v.data)){let N=e0(d,t,n,c,r,m);if(N!==Yt)return N}p=t[d+8],p!==io&&Rh(r,t[pe].data[d+8]===m)&&Ph(i,d,t)?(c=v,d=Oa(p),t=Pa(p,t)):d=-1}}return o}function e0(e,t,n,r,o,i){let c=t[pe],d=c.data[e+8],p=r==null?kn(d)&&Vu:r!=c&&(d.type&3)!==0,m=o&1&&i===d,v=t0(d,c,n,p,m);return v!==null?La(t,c,v,d):Yt}function t0(e,t,n,r,o){let i=e.providerIndexes,c=t.data,d=i&1048575,p=e.directiveStart,m=e.directiveEnd,v=i>>20,N=r?d:d+v,V=o?d+v:m;for(let A=N;A<V;A++){let J=c[A];if(A<p&&n===J||A>=p&&J.type===n)return A}if(o){let A=c[p];if(A&&Kt(A)&&A.type===n)return p}return null}function La(e,t,n,r){let o=e[n],i=t.data;if(o instanceof Dr){let c=o;c.resolving&&Kl(Wp(i[n]));let d=Ra(c.canSeeViewProviders);c.resolving=!0;let p=i[n].type||i[n],m,v=c.injectImpl?ct(c.injectImpl):null,N=Du(e,r,0);try{o=e[n]=c.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&U_(n,i[n],t)}finally{v!==null&&ct(v),Ra(d),c.resolving=!1,wu()}}return o}function n0(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(dr)?e[dr]:void 0;return typeof t=="number"?t>=0?t&gg:r0:t}function Ph(e,t,n){let r=1<<e;return!!(n[t+(e>>mg)]&r)}function Rh(e,t){return!(e&2)&&!(e&1&&t)}var br=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return bg(this._tNode,this._lView,t,ar(r),n)}};function r0(){return new br(ht(),Ee())}function Jt(e){return ao(()=>{let t=e.prototype.constructor,n=t[$o]||Bu(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[$o]||Bu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Bu(e){return Ul(e)?()=>{let t=Bu(Ze(e));return t&&t()}:In(e)}function o0(e,t,n,r,o){let i=e,c=t;for(;i!==null&&c!==null&&c[ae]&2048&&!eo(c);){let d=Dg(i,c,n,r|2,Yt);if(d!==Yt)return d;let p=i.parent;if(!p){let m=c[iu];if(m){let v=m.get(n,Yt,r);if(v!==Yt)return v}p=wg(c),c=c[gr]}i=p}return o}function wg(e){let t=e[pe],n=t.type;return n===2?t.declTNode:n===1?e[It]:null}function i0(){return Ua(ht(),Ee())}function Ua(e,t){return new pn(Lt(e,t))}var pn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=i0}return e})();function Cg(e){return(e.flags&128)===128}var ad=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ad||{}),Eg=new Map,s0=0;function a0(){return s0++}function c0(e){Eg.set(e[Ko],e)}function Hu(e){Eg.delete(e[Ko])}var Fh="__ngContext__";function pi(e,t){qt(t)?(e[Fh]=t[Ko],c0(t)):e[Fh]=t}function Ig(e){return Mg(e[Xr])}function xg(e){return Mg(e[Et])}function Mg(e){for(;e!==null&&!Ft(e);)e=e[Et];return e}var $u;function cd(e){$u=e}function Sg(){if($u!==void 0)return $u;if(typeof document<"u")return document;throw new se(210,!1)}var Wa=new de("",{providedIn:"root",factory:()=>l0}),l0="ng",za=new de(""),co=new de("",{providedIn:"platform",factory:()=>"unknown"});var Ga=new de("",{providedIn:"root",factory:()=>Sg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var u0="h",d0="b";var Tg=!1,kg=new de("",{providedIn:"root",factory:()=>Tg});var f0=(e,t,n,r)=>{};function p0(e,t,n,r){f0(e,t,n,r)}var h0=()=>null;function Ng(e,t,n=!1){return h0(e,t,n)}function Ag(e,t){let n=e.contentQueries;if(n!==null){let r=ue(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],c=n[o+1];if(c!==-1){let d=e.data[c];bu(i),d.contentQueries(2,t[c],c)}}}finally{ue(r)}}}function Uu(e,t,n){bu(0);let r=ue(null);try{t(e,n)}finally{ue(r)}}function Og(e,t,n){if(su(t)){let r=ue(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let c=o;c<i;c++){let d=e.data[c];if(d.contentQueries){let p=n[c];d.contentQueries(1,p,c)}}}finally{ue(r)}}}var dn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(dn||{});var Wu=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$l})`}};function ld(e){return e instanceof Wu?e.changingThisBreaksApplicationSecurity:e}function ud(e){return e.ownerDocument.defaultView}function g0(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Pg="ng-template";function m0(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&g0(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(dd(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function dd(e){return e.type===4&&e.value!==Pg}function y0(e,t,n){let r=e.type===4&&!n?Pg:e.value;return t===r}function v0(e,t,n){let r=4,o=e.attrs,i=o!==null?D0(o):0,c=!1;for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="number"){if(!c&&!jt(r)&&!jt(p))return!1;if(c&&jt(p))continue;c=!1,r=p|r&1;continue}if(!c)if(r&4){if(r=2|r&1,p!==""&&!y0(e,p,n)||p===""&&t.length===1){if(jt(r))return!1;c=!0}}else if(r&8){if(o===null||!m0(e,o,p,n)){if(jt(r))return!1;c=!0}}else{let m=t[++d],v=_0(p,o,dd(e),n);if(v===-1){if(jt(r))return!1;c=!0;continue}if(m!==""){let N;if(v>i?N="":N=o[v+1].toLowerCase(),r&2&&m!==N){if(jt(r))return!1;c=!0}}}}return jt(r)||c}function jt(e){return(e&1)===0}function _0(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let c=t[o];if(c===e)return o;if(c===3||c===6)i=!0;else if(c===1||c===2){let d=t[++o];for(;typeof d=="string";)d=t[++o];continue}else{if(c===4)break;if(c===0){o+=4;continue}}o+=i?1:2}return-1}else return w0(t,e)}function b0(e,t,n=!1){for(let r=0;r<t.length;r++)if(v0(e,t[r],n))return!0;return!1}function D0(e){for(let t=0;t<e.length;t++){let n=e[t];if(K_(n))return t}return e.length}function w0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Lh(e,t){return e?":not("+t.trim()+")":t}function C0(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let c=e[n];if(typeof c=="string")if(r&2){let d=e[++n];o+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else r&8?o+="."+c:r&4&&(o+=" "+c);else o!==""&&!jt(c)&&(t+=Lh(i,o),o=""),r=c,i=i||!jt(r);n++}return o!==""&&(t+=Lh(i,o)),t}function E0(e){return e.map(C0).join(",")}function I0(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!jt(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var _t={};function x0(e,t){return e.createText(t)}function M0(e,t,n){e.setValue(t,n)}function Rg(e,t,n){return e.createElement(t,n)}function Va(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Fg(e,t,n){e.appendChild(t,n)}function Vh(e,t,n,r,o){r!==null?Va(e,t,n,r,o):Fg(e,t,n)}function S0(e,t,n){e.removeChild(null,t,n)}function T0(e,t,n){e.setAttribute(t,"style",n)}function k0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Lg(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&q_(e,t,r),o!==null&&k0(e,t,o),i!==null&&T0(e,t,i)}function fd(e,t,n,r,o,i,c,d,p,m,v){let N=ft+r,V=N+o,A=N0(N,V),J=typeof m=="function"?m():m;return A[pe]={type:e,blueprint:A,template:n,queries:null,viewQuery:d,declTNode:t,data:A.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof c=="function"?c():c,firstChild:null,schemas:p,consts:J,incompleteFirstPass:!1,ssrId:v}}function N0(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:_t);return n}function A0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=fd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function pd(e,t,n,r,o,i,c,d,p,m,v){let N=t.blueprint.slice();return N[Rt]=o,N[ae]=r|4|128|8|64|1024,(m!==null||e&&e[ae]&2048)&&(N[ae]|=2048),du(N),N[Ye]=N[gr]=e,N[ot]=n,N[ln]=c||e&&e[ln],N[je]=d||e&&e[je],N[hr]=p||e&&e[hr]||null,N[It]=i,N[Ko]=a0(),N[qo]=v,N[iu]=m,N[xt]=t.type==2?e[xt]:N,N}function O0(e,t,n){let r=Lt(t,e),o=A0(n),i=e[ln].rendererFactory,c=hd(e,pd(e,o,null,Vg(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=c}function Vg(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function jg(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function hd(e,t){return e[Xr]?e[ou][Et]=t:e[Xr]=t,e[ou]=t,t}function L(e=1){Bg(it(),Ee(),un()+e,!1)}function Bg(e,t,n,r){if(!r)if((t[ae]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Ta(t,i,n)}else{let i=e.preOrderHooks;i!==null&&ka(t,i,0,n)}Nn(n)}var qa=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(qa||{});function zu(e,t,n,r){let o=ue(null);try{let[i,c,d]=e.inputs[n],p=null;(c&qa.SignalBased)!==0&&(p=t[i][dt]),p!==null&&p.transformFn!==void 0?r=p.transformFn(r):d!==null&&(r=d.call(t,r)),e.setInput!==null?e.setInput(t,p,r,n,i):cg(t,p,i,r)}finally{ue(o)}}function Hg(e,t,n,r,o){let i=un(),c=r&2;try{Nn(-1),c&&t.length>ft&&Bg(e,t,ft,!1),Te(c?2:0,o,n),n(r,o)}finally{Nn(i),Te(c?3:1,o,n)}}function gd(e,t,n){B0(e,t,n),(n.flags&64)===64&&H0(e,t,n)}function $g(e,t,n=Lt){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let c=r[i+1],d=c===-1?n(t,e):e[c];e[o++]=d}}}function P0(e,t,n,r){let i=r.get(kg,Tg)||n===dn.ShadowDom,c=e.selectRootElement(t,i);return R0(c),c}function R0(e){F0(e)}var F0=()=>null;function L0(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ug(e,t,n,r,o,i){let c=t[pe];if(md(e,c,t,n,r)){kn(e)&&j0(t,e.index);return}V0(e,t,n,r,o,i)}function V0(e,t,n,r,o,i){if(e.type&3){let c=Lt(e,t);n=L0(n),r=i!=null?i(r,e.value||"",n):r,o.setProperty(c,n,r)}else e.type&12}function j0(e,t){let n=St(t,e);n[ae]&16||(n[ae]|=64)}function B0(e,t,n){let r=n.directiveStart,o=n.directiveEnd;kn(n)&&O0(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Fa(n,t);let i=n.initialInputs;for(let c=r;c<o;c++){let d=e.data[c],p=La(t,e,c,n);if(pi(p,t),i!==null&&z0(t,c-r,p,d,n,i),Kt(d)){let m=St(n.index,t);m[ot]=La(t,e,c,n)}}}function H0(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,c=bh();try{Nn(i);for(let d=r;d<o;d++){let p=e.data[d],m=t[d];ya(d),(p.hostBindings!==null||p.hostVars!==0||p.hostAttrs!==null)&&$0(p,m)}}finally{Nn(-1),ya(c)}}function $0(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Wg(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];b0(t,i.selectors,!1)&&(r??=[],Kt(i)?r.unshift(i):r.push(i))}return r}function U0(e,t,n,r,o,i){let c=Lt(e,t);W0(t[je],c,i,e.value,n,r,o)}function W0(e,t,n,r,o,i,c){if(i==null)e.removeAttribute(t,o,n);else{let d=c==null?Yr(i):c(i,r||"",o);e.setAttribute(t,o,d,n)}}function z0(e,t,n,r,o,i){let c=i[t];if(c!==null)for(let d=0;d<c.length;d+=2){let p=c[d],m=c[d+1];zu(r,n,p,m)}}function G0(e,t){let n=e[hr];if(!n)return;n.get(Zt,null)?.(t)}function md(e,t,n,r,o){let i=e.inputs?.[r],c=e.hostDirectiveInputs?.[r],d=!1;if(c)for(let p=0;p<c.length;p+=2){let m=c[p],v=c[p+1],N=t.data[m];zu(N,n[m],v,o),d=!0}if(i)for(let p of i){let m=n[p],v=t.data[p];zu(v,m,r,o),d=!0}return d}function q0(e,t){let n=St(t,e),r=n[pe];K0(r,n);let o=n[Rt];o!==null&&n[qo]===null&&(n[qo]=Ng(o,n[hr])),Te(18),yd(r,n,n[ot]),Te(19,n[ot])}function K0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function yd(e,t,n){va(t);try{let r=e.viewQuery;r!==null&&Uu(1,r,n);let o=e.template;o!==null&&Hg(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[vr]?.finishViewCreation(e),e.staticContentQueries&&Ag(e,t),e.staticViewQueries&&Uu(2,e.viewQuery,n);let i=e.components;i!==null&&Z0(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ae]&=-5,_a()}}function Z0(e,t){for(let n=0;n<t.length;n++)q0(e,t[n])}function Y0(e,t,n,r){let o=ue(null);try{let i=t.tView,d=e[ae]&4096?4096:16,p=pd(e,i,n,d,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),m=e[t.index];p[mr]=m;let v=e[vr];return v!==null&&(p[vr]=v.createEmbeddedView(i)),yd(i,p,n),p}finally{ue(o)}}function jh(e,t){return!t||t.firstChild===null||Cg(e)}var Bh=!1,Q0=new de(""),J0;function vd(e,t){return J0(e,t)}var Qt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qt||{});function _d(e){return(e.flags&32)===32}function oo(e,t,n,r,o){if(r!=null){let i,c=!1;Ft(r)?i=r:qt(r)&&(c=!0,r=r[Rt]);let d=Mt(r);e===0&&n!==null?o==null?Fg(t,n,d):Va(t,n,d,o||null,!0):e===1&&n!==null?Va(t,n,d,o||null,!0):e===2?S0(t,d,c):e===3&&t.destroyNode(d),i!=null&&ub(t,e,i,n,o)}}function X0(e,t){zg(e,t),t[Rt]=null,t[It]=null}function eb(e,t,n,r,o,i){r[Rt]=o,r[It]=t,Ka(e,r,n,1,o,i)}function zg(e,t){t[ln].changeDetectionScheduler?.notify(9),Ka(e,t,t[je],2,null,null)}function tb(e){let t=e[Xr];if(!t)return ku(e[pe],e);for(;t;){let n=null;if(qt(t))n=t[Xr];else{let r=t[pt];r&&(n=r)}if(!n){for(;t&&!t[Et]&&t!==e;)qt(t)&&ku(t[pe],t),t=t[Ye];t===null&&(t=e),qt(t)&&ku(t[pe],t),n=t&&t[Et]}t=n}}function bd(e,t){let n=e[Qo],r=n.indexOf(t);n.splice(r,1)}function Gg(e,t){if(to(t))return;let n=t[je];n.destroyNode&&Ka(e,t,n,3,null,null),tb(t)}function ku(e,t){if(to(t))return;let n=ue(null);try{t[ae]&=-129,t[ae]|=256,t[vt]&&Es(t[vt]),rb(e,t),nb(e,t),t[pe].type===1&&t[je].destroy();let r=t[mr];if(r!==null&&Ft(t[Ye])){r!==t[Ye]&&bd(r,t);let o=t[vr];o!==null&&o.detachView(e)}Hu(t)}finally{ue(n)}}function nb(e,t){let n=e.cleanup,r=t[Jr];if(n!==null)for(let c=0;c<n.length-1;c+=2)if(typeof n[c]=="string"){let d=n[c+3];d>=0?r[d]():r[-d].unsubscribe(),c+=2}else{let d=r[n[c+1]];n[c].call(d)}r!==null&&(t[Jr]=null);let o=t[an];if(o!==null){t[an]=null;for(let c=0;c<o.length;c++){let d=o[c];d()}}let i=t[Zo];if(i!==null){t[Zo]=null;for(let c of i)c.destroy()}}function rb(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Dr)){let i=n[r+1];if(Array.isArray(i))for(let c=0;c<i.length;c+=2){let d=o[i[c]],p=i[c+1];Te(4,d,p);try{p.call(d)}finally{Te(5,d,p)}}else{Te(4,o,i);try{i.call(o)}finally{Te(5,o,i)}}}}}function ob(e,t,n){return ib(e,t.parent,n)}function ib(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Rt];if(kn(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===dn.None||o===dn.Emulated)return null}return Lt(r,n)}function sb(e,t,n){return cb(e,t,n)}function ab(e,t,n){return e.type&40?Lt(e,n):null}var cb=ab,Hh;function Dd(e,t,n,r){let o=ob(e,r,t),i=t[je],c=r.parent||t[It],d=sb(c,r,t);if(o!=null)if(Array.isArray(n))for(let p=0;p<n.length;p++)Vh(i,o,n[p],d,!1);else Vh(i,o,n,d,!1);Hh!==void 0&&Hh(i,r,t,n,o)}function oi(e,t){if(t!==null){let n=t.type;if(n&3)return Lt(t,e);if(n&4)return Gu(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return oi(e,r);{let o=e[t.index];return Ft(o)?Gu(-1,o):Mt(o)}}else{if(n&128)return oi(e,t.next);if(n&32)return vd(t,e)()||Mt(e[t.index]);{let r=qg(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=xn(e[xt]);return oi(o,r)}else return oi(e,t.next)}}}return null}function qg(e,t){if(t!==null){let r=e[xt][It],o=t.projection;return r.projection[o]}return null}function Gu(e,t){let n=pt+e+1;if(n<t.length){let r=t[n],o=r[pe].firstChild;if(o!==null)return oi(r,o)}return t[Tn]}function wd(e,t,n,r,o,i,c){for(;n!=null;){if(n.type===128){n=n.next;continue}let d=r[n.index],p=n.type;if(c&&t===0&&(d&&pi(Mt(d),r),n.flags|=2),!_d(n))if(p&8)wd(e,t,n.child,r,o,i,!1),oo(t,e,o,d,i);else if(p&32){let m=vd(n,r),v;for(;v=m();)oo(t,e,o,v,i);oo(t,e,o,d,i)}else p&16?lb(e,t,r,n,o,i):oo(t,e,o,d,i);n=c?n.projectionNext:n.next}}function Ka(e,t,n,r,o,i){wd(n,r,e.firstChild,t,o,i,!1)}function lb(e,t,n,r,o,i){let c=n[xt],p=c[It].projection[r.projection];if(Array.isArray(p))for(let m=0;m<p.length;m++){let v=p[m];oo(t,e,o,v,i)}else{let m=p,v=c[Ye];Cg(r)&&(m.flags|=128),wd(e,t,m,v,o,i,!0)}}function ub(e,t,n,r,o){let i=n[Tn],c=Mt(n);i!==c&&oo(t,e,r,i,o);for(let d=pt;d<n.length;d++){let p=n[d];Ka(p[pe],p,e,t,r,i)}}function db(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Qt.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Qt.Important),e.setStyle(n,r,o,i))}}function ai(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(Mt(i)),Ft(i)&&Kg(i,r);let c=n.type;if(c&8)ai(e,t,n.child,r);else if(c&32){let d=vd(n,t),p;for(;p=d();)r.push(p)}else if(c&16){let d=qg(t,n);if(Array.isArray(d))r.push(...d);else{let p=xn(t[xt]);ai(p[pe],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}function Kg(e,t){for(let n=pt;n<e.length;n++){let r=e[n],o=r[pe].firstChild;o!==null&&ai(r[pe],r,o,t)}e[Tn]!==e[Rt]&&t.push(e[Tn])}function Zg(e){if(e[da]!==null){for(let t of e[da])t.impl.addSequence(t);e[da].length=0}}var Yg=[];function fb(e){return e[vt]??pb(e)}function pb(e){let t=Yg.pop()??Object.create(gb);return t.lView=e,t}function hb(e){e.lView[vt]!==e&&(e.lView=null,Yg.push(e))}var gb=re(Q({},tr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ei(e.lView)},consumerOnSignalRead(){this.lView[vt]=this}});function mb(e){let t=e[vt]??Object.create(yb);return t.lView=e,t}var yb=re(Q({},tr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=xn(e.lView);for(;t&&!Qg(t[pe]);)t=xn(t);t&&fu(t)},consumerOnSignalRead(){this.lView[vt]=this}});function Qg(e){return e.type!==2}function Jg(e){if(e[Zo]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Zo])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[ae]&8192)}}var vb=100;function Cd(e,t=0){let r=e[ln].rendererFactory,o=!1;o||r.begin?.();try{_b(e,t)}finally{o||r.end?.()}}function _b(e,t){let n=vu();try{_u(!0),qu(e,t);let r=0;for(;Xo(e);){if(r===vb)throw new se(103,!1);r++,qu(e,1)}}finally{_u(n)}}function Xg(e,t){yu(t?ti.Exhaustive:ti.OnlyDirtyViews);try{Cd(e)}finally{yu(ti.Off)}}function bb(e,t,n,r){if(to(t))return;let o=t[ae],i=!1,c=!1;va(t);let d=!0,p=null,m=null;i||(Qg(e)?(m=fb(t),p=Ur(m)):bs()===null?(d=!1,m=mb(t),p=Ur(m)):t[vt]&&(Es(t[vt]),t[vt]=null));try{du(t),yh(e.bindingStartIndex),n!==null&&Hg(e,t,n,2,r);let v=(o&3)===3;if(!i)if(v){let A=e.preOrderCheckHooks;A!==null&&Ta(t,A,null)}else{let A=e.preOrderHooks;A!==null&&ka(t,A,0,null),Su(t,0)}if(c||Db(t),Jg(t),em(t,0),e.contentQueries!==null&&Ag(e,t),!i)if(v){let A=e.contentCheckHooks;A!==null&&Ta(t,A)}else{let A=e.contentHooks;A!==null&&ka(t,A,1),Su(t,1)}Cb(e,t);let N=e.components;N!==null&&nm(t,N,0);let V=e.viewQuery;if(V!==null&&Uu(2,V,r),!i)if(v){let A=e.viewCheckHooks;A!==null&&Ta(t,A)}else{let A=e.viewHooks;A!==null&&ka(t,A,2),Su(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[ua]){for(let A of t[ua])A();t[ua]=null}i||(Zg(t),t[ae]&=-73)}catch(v){throw i||ei(t),v}finally{m!==null&&(Vo(m,p),d&&hb(m)),_a()}}function em(e,t){for(let n=Ig(e);n!==null;n=xg(n))for(let r=pt;r<n.length;r++){let o=n[r];tm(o,t)}}function Db(e){for(let t=Ig(e);t!==null;t=xg(t)){if(!(t[ae]&2))continue;let n=t[Qo];for(let r=0;r<n.length;r++){let o=n[r];fu(o)}}}function wb(e,t,n){Te(18);let r=St(t,e);tm(r,n),Te(19,r[ot])}function tm(e,t){ha(e)&&qu(e,t)}function qu(e,t){let r=e[pe],o=e[ae],i=e[vt],c=!!(t===0&&o&16);if(c||=!!(o&64&&t===0),c||=!!(o&1024),c||=!!(i?.dirty&&Cs(i)),c||=!1,i&&(i.dirty=!1),e[ae]&=-9217,c)bb(r,e,r.template,e[ot]);else if(o&8192){Jg(e),em(e,1);let d=r.components;d!==null&&nm(e,d,1),Zg(e)}}function nm(e,t,n){for(let r=0;r<t.length;r++)wb(e,t[r],n)}function Cb(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Nn(~o);else{let i=o,c=n[++r],d=n[++r];_h(c,i);let p=t[i];Te(24,p),d(2,p),Te(25,p)}}}finally{Nn(-1)}}function Ed(e,t){let n=vu()?64:1088;for(e[ln].changeDetectionScheduler?.notify(t);e;){e[ae]|=n;let r=xn(e);if(eo(e)&&!r)return e;e=r}return null}function rm(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Eb(e,t,n,r=!0){let o=t[pe];if(Ib(o,t,e,n),r){let c=Gu(n,e),d=t[je],p=d.parentNode(e[Tn]);p!==null&&eb(o,e[It],d,t,p,c)}let i=t[qo];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Ku(e,t){if(e.length<=pt)return;let n=pt+t,r=e[n];if(r){let o=r[mr];o!==null&&o!==e&&bd(o,r),t>0&&(e[n-1][Et]=r[Et]);let i=Wo(e,pt+t);X0(r[pe],r);let c=i[vr];c!==null&&c.detachView(i[pe]),r[Ye]=null,r[Et]=null,r[ae]&=-129}return r}function Ib(e,t,n,r){let o=pt+r,i=n.length;r>0&&(n[o-1][Et]=t),r<i-pt?(t[Et]=n[o],Ql(n,pt+r,t)):(n.push(t),t[Et]=null),t[Ye]=n;let c=t[mr];c!==null&&n!==c&&om(c,t);let d=t[vr];d!==null&&d.insertView(e),ga(t),t[ae]|=128}function om(e,t){let n=e[Qo],r=t[Ye];if(qt(r))e[ae]|=2;else{let o=r[Ye][xt];t[xt]!==o&&(e[ae]|=2)}n===null?e[Qo]=[t]:n.push(t)}var An=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[pe];return ai(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ot]}set context(t){this._lView[ot]=t}get destroyed(){return to(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ye];if(Ft(t)){let n=t[Yo],r=n?n.indexOf(this):-1;r>-1&&(Ku(t,r),Wo(n,r))}this._attachedToViewContainer=!1}Gg(this._lView[pe],this._lView)}onDestroy(t){pu(this._lView,t)}markForCheck(){Ed(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){ga(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,Cd(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[hr].get(Q0,Bh)}catch{this.exhaustive=Bh}}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=eo(this._lView),n=this._lView[mr];n!==null&&!t&&bd(n,this._lView),zg(this._lView[pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=t;let n=eo(this._lView),r=this._lView[mr];r!==null&&!n&&om(r,this._lView),ga(this._lView)}};var hi=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=xb;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Y0(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new An(i)}}return e})();function xb(){return im(ht(),Ee())}function im(e,t){return e.type&4?new hi(t,e,Ua(e,t)):null}function Id(e,t,n,r,o){let i=e.data[t];if(i===null)i=Mb(e,t,n,r,o),vh()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let c=fh();i.injectorIndex=c===null?-1:c.injectorIndex}return no(i,!0),i}function Mb(e,t,n,r,o){let i=gu(),c=mu(),d=c?i:i&&i.parent,p=e.data[t]=Tb(e,d,n,t,r,o);return Sb(e,p,i,c),p}function Sb(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function Tb(e,t,n,r,o,i){let c=t?t.injectorIndex:-1,d=0;return lh()&&(d|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var RT=new RegExp(`^(\\d+)*(${d0}|${u0})*(.*)`);var kb=()=>null;function $h(e,t){return kb(e,t)}var sm=class{},Za=class{},Zu=class{resolveComponentFactory(t){throw new se(917,!1)}},Ya=class{static NULL=new Zu},wr=class{},On=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Nb()}return e})();function Nb(){let e=Ee(),t=ht(),n=St(t.index,e);return(qt(n)?n:e)[je]}var am=(()=>{class e{static \u0275prov=we({token:e,providedIn:"root",factory:()=>null})}return e})();var Na={},Yu=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let o=this.injector.get(t,Na,r);return o!==Na||n===Na?o:this.parentInjector.get(t,n,r)}};function Uh(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="number")i=d;else if(i==1)o=na(o,d);else if(i==2){let p=d,m=t[++c];r=na(r,p+": "+m+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function ne(e,t=0){let n=Ee();if(n===null)return De(e,t);let r=ht();return bg(r,n,Ze(e),t)}function cm(e,t,n,r,o){let i=r===null?null:{"":-1},c=o(e,n);if(c!==null){let d=c,p=null,m=null;for(let v of c)if(v.resolveHostDirectives!==null){[d,p,m]=v.resolveHostDirectives(c);break}Pb(e,t,n,d,i,p,m)}i!==null&&r!==null&&Ab(n,r,i)}function Ab(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new se(-301,!1);r.push(t[o],i)}}function Ob(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Pb(e,t,n,r,o,i,c){let d=r.length,p=!1;for(let V=0;V<d;V++){let A=r[V];!p&&Kt(A)&&(p=!0,Ob(e,n,V)),ju(Fa(n,t),e,A.type)}Bb(n,e.data.length,d);for(let V=0;V<d;V++){let A=r[V];A.providersResolver&&A.providersResolver(A)}let m=!1,v=!1,N=jg(e,t,d,null);d>0&&(n.directiveToIndex=new Map);for(let V=0;V<d;V++){let A=r[V];if(n.mergedAttrs=si(n.mergedAttrs,A.hostAttrs),Fb(e,n,t,N,A),jb(N,A,o),c!==null&&c.has(A)){let[he,Ie]=c.get(A);n.directiveToIndex.set(A.type,[N,he+n.directiveStart,Ie+n.directiveStart])}else(i===null||!i.has(A))&&n.directiveToIndex.set(A.type,N);A.contentQueries!==null&&(n.flags|=4),(A.hostBindings!==null||A.hostAttrs!==null||A.hostVars!==0)&&(n.flags|=64);let J=A.type.prototype;!m&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),m=!0),!v&&(J.ngOnChanges||J.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),v=!0),N++}Rb(e,n,i)}function Rb(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))Wh(0,t,o,r),Wh(1,t,o,r),Gh(t,r,!1);else{let i=n.get(o);zh(0,t,i,r),zh(1,t,i,r),Gh(t,r,!0)}}}function Wh(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let c;e===0?c=t.inputs??={}:c=t.outputs??={},c[i]??=[],c[i].push(r),lm(t,i)}}function zh(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let c=o[i],d;e===0?d=t.hostDirectiveInputs??={}:d=t.hostDirectiveOutputs??={},d[c]??=[],d[c].push(r,i),lm(t,c)}}function lm(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Gh(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||dd(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let c=null,d=0;for(;d<r.length;){let p=r[d];if(p===0){d+=4;continue}else if(p===5){d+=2;continue}else if(typeof p=="number")break;if(!n&&o.hasOwnProperty(p)){let m=o[p];for(let v of m)if(v===t){c??=[],c.push(p,r[d+1]);break}}else if(n&&i.hasOwnProperty(p)){let m=i[p];for(let v=0;v<m.length;v+=2)if(m[v]===t){c??=[],c.push(m[v+1],r[d+1]);break}}d+=2}e.initialInputs??=[],e.initialInputs.push(c)}function Fb(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=In(o.type,!0)),c=new Dr(i,Kt(o),ne);e.blueprint[r]=c,n[r]=c,Lb(e,t,r,jg(e,n,o.hostVars,_t),o)}function Lb(e,t,n,r,o){let i=o.hostBindings;if(i){let c=e.hostBindingOpCodes;c===null&&(c=e.hostBindingOpCodes=[]);let d=~t.index;Vb(c)!=d&&c.push(d),c.push(n,r,i)}}function Vb(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function jb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Kt(t)&&(n[""]=e)}}function Bb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function um(e,t,n,r,o,i,c,d){let p=t.consts,m=Jo(p,c),v=Id(t,e,2,r,m);return i&&cm(t,n,v,Jo(p,d),o),v.mergedAttrs=si(v.mergedAttrs,v.attrs),v.attrs!==null&&Uh(v,v.attrs,!1),v.mergedAttrs!==null&&Uh(v,v.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,v),v}function dm(e,t){fg(e,t),su(t)&&e.queries.elementEnd(t)}function xd(e){return pm(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function fm(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function pm(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Hb(e,t,n){return e[t]=n}function fn(e,t,n){if(n===_t)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function $b(e,t,n,r){let o=fn(e,t,n);return fn(e,t+1,r)||o}function Nu(e,t,n){return function r(o){let i=kn(e)?St(e.index,t):t;Ed(i,5);let c=t[ot],d=qh(t,c,n,o),p=r.__ngNextListenerFn__;for(;p;)d=qh(t,c,p,o)&&d,p=p.__ngNextListenerFn__;return d}}function qh(e,t,n,r){let o=ue(null);try{return Te(6,t,n),n(r)!==!1}catch(i){return G0(e,i),!1}finally{Te(7,t,n),ue(o)}}function Ub(e,t,n,r,o,i,c,d){let p=fa(e),m=!1,v=null;if(!r&&p&&(v=Wb(t,n,i,e.index)),v!==null){let N=v.__ngLastListenerFn__||v;N.__ngNextListenerFn__=c,v.__ngLastListenerFn__=c,m=!0}else{let N=Lt(e,n),V=r?r(N):N;p0(n,V,i,d);let A=o.listen(V,i,d),J=r?he=>r(Mt(he[e.index])):e.index;hm(J,t,n,i,d,A,!1)}return m}function Wb(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let c=o[i];if(c===n&&o[i+1]===r){let d=t[Jr],p=o[i+2];return d&&d.length>p?d[p]:null}typeof c=="string"&&(i+=2)}return null}function hm(e,t,n,r,o,i,c){let d=t.firstCreatePass?ih(t):null,p=oh(n),m=p.length;p.push(o,i),d&&d.push(r,e,m,(m+1)*(c?-1:1))}function Kh(e,t,n,r,o,i){let c=t[n],d=t[pe],m=d.data[n].outputs[r],N=c[m].subscribe(i);hm(e.index,d,t,o,i,N,!0)}var Qu=Symbol("BINDING");var Ju=class extends Ya{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=pr(t);return new ci(n,this.ngModule)}};function zb(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&qa.SignalBased)!==0};return o&&(i.transform=o),i})}function Gb(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function qb(e,t,n){let r=t instanceof Ct?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Yu(n,r):n}function Kb(e){let t=e.get(wr,null);if(t===null)throw new se(407,!1);let n=e.get(am,null),r=e.get(ur,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Zb(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Rg(t,n,n==="svg"?au:n==="math"?eh:null)}var ci=class extends Za{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=zb(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Gb(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=E0(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,c){Te(22);let d=ue(null);try{let p=this.componentDef,m=Yb(r,p,c,i),v=qb(p,o||this.ngModule,t),N=Kb(v),V=N.rendererFactory.createRenderer(null,p),A=r?P0(V,r,p.encapsulation,v):Zb(p,V),J=c?.some(Zh)||i?.some(Ce=>typeof Ce!="function"&&Ce.bindings.some(Zh)),he=pd(null,m,null,512|Vg(p),null,null,N,V,v,null,Ng(A,v,!0));he[ft]=A,va(he);let Ie=null;try{let Ce=um(ft,m,he,"#host",()=>m.directiveRegistry,!0,0);A&&(Lg(V,A,Ce),pi(A,he)),gd(m,he,Ce),Og(m,Ce,he),dm(m,Ce),n!==void 0&&Jb(Ce,this.ngContentSelectors,n),Ie=St(Ce.index,he),he[ot]=Ie[ot],yd(m,he,null)}catch(Ce){throw Ie!==null&&Hu(Ie),Hu(he),Ce}finally{Te(23),_a()}return new ja(this.componentType,he,!!J)}finally{ue(d)}}};function Yb(e,t,n,r){let o=e?["ng-version","20.0.0"]:I0(t.selectors[0]),i=null,c=null,d=0;if(n)for(let v of n)d+=v[Qu].requiredVars,v.create&&(v.targetIdx=0,(i??=[]).push(v)),v.update&&(v.targetIdx=0,(c??=[]).push(v));if(r)for(let v=0;v<r.length;v++){let N=r[v];if(typeof N!="function")for(let V of N.bindings){d+=V[Qu].requiredVars;let A=v+1;V.create&&(V.targetIdx=A,(i??=[]).push(V)),V.update&&(V.targetIdx=A,(c??=[]).push(V))}}let p=[t];if(r)for(let v of r){let N=typeof v=="function"?v:v.type,V=eu(N);p.push(V)}return fd(0,null,Qb(i,c),1,d,p,null,null,null,[o],null)}function Qb(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Zh(e){let t=e[Qu].kind;return t==="input"||t==="twoWay"}var ja=class extends sm{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=pa(n[pe],ft),this.location=Ua(this._tNode,n),this.instance=St(this._tNode.index,n)[ot],this.hostView=this.changeDetectorRef=new An(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=md(r,o[pe],o,t,n);this.previousInputValues.set(t,n);let c=St(r.index,o);Ed(c,1)}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Jb(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var gi=(()=>{class e{static __NG_ELEMENT_ID__=Xb}return e})();function Xb(){let e=ht();return tD(e,Ee())}var eD=gi,gm=class extends eD{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){let t=sd(this._hostTNode,this._hostLView);if(hg(t)){let n=Pa(t,this._hostLView),r=Oa(t),o=n[pe].data[r+8];return new br(o,n)}else return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Yh(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let c=$h(this._lContainer,t.ssrId),d=t.createEmbeddedViewImpl(n||{},i,c);return this.insertImpl(d,o,jh(this._hostTNode,c)),d}createComponent(t,n,r,o,i,c,d){let p=t&&!j_(t),m;if(p)m=n;else{let Ie=n||{};m=Ie.index,r=Ie.injector,o=Ie.projectableNodes,i=Ie.environmentInjector||Ie.ngModuleRef,c=Ie.directives,d=Ie.bindings}let v=p?t:new ci(pr(t)),N=r||this.parentInjector;if(!i&&v.ngModule==null){let Ce=(p?N:this.parentInjector).get(Ct,null);Ce&&(i=Ce)}let V=pr(v.componentType??{}),A=$h(this._lContainer,V?.id??null),J=A?.firstChild??null,he=v.create(N,o,J,i,c,d);return this.insertImpl(he.hostView,m,jh(this._hostTNode,A)),he}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(th(o)){let d=this.indexOf(t);if(d!==-1)this.detach(d);else{let p=o[Ye],m=new gm(p,p[It],p[Ye]);m.detach(m.indexOf(t))}}let i=this._adjustIndex(n),c=this._lContainer;return Eb(c,o,i,r),t.attachToViewContainerRef(),Ql(Au(c),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Yh(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ku(this._lContainer,n);r&&(Wo(Au(this._lContainer),n),Gg(r[pe],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ku(this._lContainer,n);return r&&Wo(Au(this._lContainer),n)!=null?new An(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Yh(e){return e[Yo]}function Au(e){return e[Yo]||(e[Yo]=[])}function tD(e,t){let n,r=t[e.index];return Ft(r)?n=r:(n=rm(r,t,null,e),t[e.index]=n,hd(t,n)),rD(n,t,e,r),new gm(n,e,t)}function nD(e,t){let n=e[je],r=n.createComment(""),o=Lt(t,e),i=n.parentNode(o);return Va(n,i,r,n.nextSibling(o),!1),r}var rD=sD,oD=()=>!1;function iD(e,t,n){return oD(e,t,n)}function sD(e,t,n,r){if(e[Tn])return;let o;n.type&8?o=Mt(r):o=nD(t,n),e[Tn]=o}var Qh=new Set;function mm(e){Qh.has(e)||(Qh.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var li=class{};var ui=class extends li{injector;componentFactoryResolver=new Ju(this);instance=null;constructor(t){super();let n=new lr([...t.providers,{provide:li,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver}],t.parent||Go(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ym(e,t,n=null){return new ui({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var aD=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=tu(!1,n.type),o=r.length>0?ym([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=we({token:e,providedIn:"environment",factory:()=>new e(De(Ct))})}return e})();function Ht(e){return ao(()=>{let t=vm(e),n=re(Q({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ad.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(aD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||dn.Emulated,styles:e.styles||lt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&mm("NgStandalone"),_m(n);let r=e.dependencies;return n.directiveDefs=Jh(r,!1),n.pipeDefs=Jh(r,!0),n.id=fD(n),n})}function cD(e){return pr(e)||eu(e)}function lD(e){return e!==null}function Er(e){return ao(()=>({type:e.type,bootstrap:e.bootstrap||lt,declarations:e.declarations||lt,imports:e.imports||lt,exports:e.exports||lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function uD(e,t){if(e==null)return Sn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,c,d,p;Array.isArray(o)?(d=o[0],i=o[1],c=o[2]??i,p=o[3]||null):(i=o,c=o,d=qa.None,p=null),n[i]=[r,d,p],t[i]=c}return n}function dD(e){if(e==null)return Sn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Oe(e){return ao(()=>{let t=vm(e);return _m(t),t})}function Md(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function vm(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Sn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||lt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:uD(e.inputs,t),outputs:dD(e.outputs),debugInfo:null}}function _m(e){e.features?.forEach(t=>t(e))}function Jh(e,t){if(!e)return null;let n=t?qp:cD;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(lD)}function fD(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function pD(e){return Object.getPrototypeOf(e.prototype).constructor}function Je(e){let t=pD(e.type),n=!0,r=[e];for(;t;){let o;if(Kt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new se(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let c=e;c.inputs=Ou(e.inputs),c.declaredInputs=Ou(e.declaredInputs),c.outputs=Ou(e.outputs);let d=o.hostBindings;d&&vD(e,d);let p=o.viewQuery,m=o.contentQueries;if(p&&mD(e,p),m&&yD(e,m),hD(e,o),$p(e.outputs,o.outputs),Kt(o)&&o.data.animation){let v=e.data;v.animation=(v.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let c=0;c<i.length;c++){let d=i[c];d&&d.ngInherit&&d(e),d===Je&&(n=!1)}}t=Object.getPrototypeOf(t)}gD(r)}function hD(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function gD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=si(o.hostAttrs,n=si(n,o.hostAttrs))}}function Ou(e){return e===Sn?{}:e===lt?[]:e}function mD(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function yD(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function vD(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function _D(e,t,n,r,o,i,c,d,p){let m=t.consts,v=Id(t,e,4,c||null,d||null);hu()&&cm(t,n,v,Jo(m,p),Wg),v.mergedAttrs=si(v.mergedAttrs,v.attrs),fg(t,v);let N=v.tView=fd(2,v,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m,null);return t.queries!==null&&(t.queries.template(t,v),N.queries=t.queries.embeddedTView(v)),v}function bD(e,t,n,r,o,i,c,d,p,m,v){let N=n+ft,V=t.firstCreatePass?_D(N,t,e,r,o,i,c,d,m):t.data[N];p&&(V.flags|=p),no(V,!1);let A=DD(t,e,V,n);Ca()&&Dd(t,e,A,V),pi(A,e);let J=rm(A,e,A,V);return e[N]=J,hd(e,J),iD(J,V,e),fa(V)&&gd(t,e,V),m!=null&&$g(e,V,v),V}function ge(e,t,n,r,o,i,c,d){let p=Ee(),m=it(),v=Jo(m.consts,i);return bD(p,m,e,t,n,r,o,v,void 0,c,d),ge}var DD=wD;function wD(e,t,n,r){return Ea(!0),t[je].createComment("")}var Sd=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Sd||{}),mi=new de(""),bm=!1,Xu=class extends on{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Jp()&&(this.destroyRef=fe(Ia,{optional:!0})??void 0,this.pendingTasks=fe(ro,{optional:!0})??void 0)}emit(t){let n=ue(null);try{super.next(t)}finally{ue(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),c=r;if(t&&typeof t=="object"){let p=t;o=p.next?.bind(p),i=p.error?.bind(p),c=p.complete?.bind(p)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),c&&(c=this.wrapInTimeout(c)));let d=super.subscribe({next:o,error:i,complete:c});return t instanceof ze&&t.add(d),d}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=Xu;function Dm(e){let t,n;function r(){e=ri;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Xh(e){return queueMicrotask(()=>e()),()=>{e=ri}}var Td="isAngularZone",Ba=Td+"_ID",CD=0,Qe=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=bm}=t;if(typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();let c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&r,c.shouldCoalesceRunChangeDetection=o,c.callbackScheduled=!1,c.scheduleInRootZone=i,xD(c)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Td)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new se(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,c=i.scheduleEventTask("NgZoneEvent: "+o,t,ED,ri,ri);try{return i.runTask(c,n,r)}finally{i.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},ED={};function kd(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ID(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Dm(()=>{e.callbackScheduled=!1,ed(e),e.isCheckStableRunning=!0,kd(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ed(e)}function xD(e){let t=()=>{ID(e)},n=CD++;e._inner=e._inner.fork({name:"angular",properties:{[Td]:!0,[Ba]:n,[Ba+n]:!0},onInvokeTask:(r,o,i,c,d,p)=>{if(MD(p))return r.invokeTask(i,c,d,p);try{return eg(e),r.invokeTask(i,c,d,p)}finally{(e.shouldCoalesceEventChangeDetection&&c.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),tg(e)}},onInvoke:(r,o,i,c,d,p,m)=>{try{return eg(e),r.invoke(i,c,d,p,m)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!SD(p)&&t(),tg(e)}},onHasTask:(r,o,i,c)=>{r.hasTask(i,c),o===i&&(c.change=="microTask"?(e._hasPendingMicrotasks=c.microTask,ed(e),kd(e)):c.change=="macroTask"&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,o,i,c)=>(r.handleError(i,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}function ed(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function eg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function tg(e){e._nesting--,kd(e)}var Ha=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function MD(e){return wm(e,"__ignore_ng_zone__")}function SD(e){return wm(e,"__scheduler_tick__")}function wm(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Cm=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=we({token:e,providedIn:"root",factory:()=>new e})}return e})();var Nd=new de("");function Ir(e){return!!e&&typeof e.then=="function"}function Qa(e){return!!e&&typeof e.subscribe=="function"}var Em=new de("");var Ad=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=fe(Em,{optional:!0})??[];injector=fe(cn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=la(this.injector,o);if(Ir(i))n.push(i);else if(Qa(i)){let c=new Promise((d,p)=>{i.subscribe({complete:d,error:p})});n.push(c)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Im=new de("");function xm(){ml(()=>{let e="";throw new se(600,e)})}function Mm(e){return e.isBoundToModule}var TD=10;var yi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=fe(Zt);afterRenderManager=fe(Cm);zonelessEnabled=fe(xa);rootEffectScheduler=fe(Mu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new on;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=fe(ro);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(sn(n=>!n))}constructor(){fe(mi,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=fe(Ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=cn.NULL){return this._injector.get(Qe).run(()=>{Te(10);let c=n instanceof Za;if(!this._injector.get(Ad).done){let J="";throw new se(405,J)}let p;c?p=n:p=this._injector.get(Ya).resolveComponentFactory(n),this.componentTypes.push(p.componentType);let m=Mm(p)?void 0:this._injector.get(li),v=r||p.selector,N=p.create(o,[],v,m),V=N.location.nativeElement,A=N.injector.get(Nd,null);return A?.registerApplication(V),N.onDestroy(()=>{this.detachView(N.hostView),ii(this.components,N),A?.unregisterApplication(V)}),this._loadComponent(N),Te(11,N),N})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Sd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new se(101,!1);let n=ue(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(n),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<TD;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Xo(o))continue;let i=r&&!this.zonelessEnabled?0:1;Cd(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Xo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ii(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(Im,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ii(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new se(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ii(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Pn(e,t,n,r){let o=Ee(),i=ni();if(fn(o,i,t)){let c=it(),d=ba();U0(d,o,e,t,n,r)}return Pn}function ee(e,t,n){let r=Ee(),o=ni();if(fn(r,o,t)){let i=it(),c=ba();Ug(c,r,e,t,r[je],n)}return ee}function td(e,t,n,r,o){md(t,e,n,o?"class":"style",r)}function I(e,t,n,r){let o=Ee(),i=it(),c=ft+e,d=o[je],p=i.firstCreatePass?um(c,i,o,t,Wg,hu(),n,r):i.data[c],m=kD(i,o,p,d,t,e);o[c]=m;let v=fa(p);return no(p,!0),Lg(d,m,p),!_d(p)&&Ca()&&Dd(i,o,m,p),(sh()===0||v)&&pi(m,o),ah(),v&&(gd(i,o,p),Og(i,p,o)),r!==null&&$g(o,p),I}function S(){let e=ht();mu()?ph():(e=e.parent,no(e,!1));let t=e;uh(t)&&dh(),ch();let n=it();return n.firstCreatePass&&dm(n,t),t.classesWithoutHost!=null&&z_(t)&&td(n,t,Ee(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&G_(t)&&td(n,t,Ee(),t.stylesWithoutHost,!1),S}function Xe(e,t,n,r){return I(e,t,n,r),S(),Xe}var kD=(e,t,n,r,o,i)=>(Ea(!0),Rg(r,o,xh()));function Se(){return Ee()}var vi="en-US";var ND=vi;function Sm(e){typeof e=="string"&&(ND=e.toLowerCase().replace(/_/g,"-"))}function Y(e,t,n){let r=Ee(),o=it(),i=ht();return Tm(o,r,r[je],i,e,t,n),Y}function Tm(e,t,n,r,o,i,c){let d=!0,p=null;if((r.type&3||c)&&(p??=Nu(r,t,i),Ub(r,e,t,c,n,o,i,p)&&(d=!1)),d){let m=r.outputs?.[o],v=r.hostDirectiveOutputs?.[o];if(v&&v.length)for(let N=0;N<v.length;N+=2){let V=v[N],A=v[N+1];p??=Nu(r,t,i),Kh(r,t,V,A,o,p)}if(m&&m.length)for(let N of m)p??=Nu(r,t,i),Kh(r,t,N,o,o,p)}}function j(e=1){return Ih(e)}function lo(e){let t=hh();return lu(t,ft+e)}function Sa(e,t){return e<<17|t<<2}function Cr(e){return e>>17&32767}function AD(e){return(e&2)==2}function OD(e,t){return e&131071|t<<17}function nd(e){return e|2}function so(e){return(e&131068)>>2}function Pu(e,t){return e&-131069|t<<2}function PD(e){return(e&1)===1}function rd(e){return e|1}function RD(e,t,n,r,o,i){let c=i?t.classBindings:t.styleBindings,d=Cr(c),p=so(c);e[r]=n;let m=!1,v;if(Array.isArray(n)){let N=n;v=N[1],(v===null||Qr(N,v)>0)&&(m=!0)}else v=n;if(o)if(p!==0){let V=Cr(e[d+1]);e[r+1]=Sa(V,d),V!==0&&(e[V+1]=Pu(e[V+1],r)),e[d+1]=OD(e[d+1],r)}else e[r+1]=Sa(d,0),d!==0&&(e[d+1]=Pu(e[d+1],r)),d=r;else e[r+1]=Sa(p,0),d===0?d=r:e[p+1]=Pu(e[p+1],r),p=r;m&&(e[r+1]=nd(e[r+1])),ng(e,v,r,!0),ng(e,v,r,!1),FD(t,v,e,r,i),c=Sa(d,p),i?t.classBindings=c:t.styleBindings=c}function FD(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&Qr(i,t)>=0&&(n[r+1]=rd(n[r+1]))}function ng(e,t,n,r){let o=e[n+1],i=t===null,c=r?Cr(o):so(o),d=!1;for(;c!==0&&(d===!1||i);){let p=e[c],m=e[c+1];LD(p,t)&&(d=!0,e[c+1]=r?rd(m):nd(m)),c=r?Cr(m):so(m)}d&&(e[n+1]=r?nd(o):rd(o))}function LD(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Qr(e,t)>=0:!1}var Bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VD(e){return e.substring(Bt.key,Bt.keyEnd)}function jD(e){return BD(e),km(e,Nm(e,0,Bt.textEnd))}function km(e,t){let n=Bt.textEnd;return n===t?-1:(t=Bt.keyEnd=HD(e,Bt.key=t,n),Nm(e,t,n))}function BD(e){Bt.key=0,Bt.keyEnd=0,Bt.value=0,Bt.valueEnd=0,Bt.textEnd=e.length}function Nm(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function HD(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Rn(e,t,n){return Am(e,t,n,!1),Rn}function ut(e,t){return Am(e,t,null,!0),ut}function Fn(e){UD(ZD,$D,e,!0)}function $D(e,t){for(let n=jD(t);n>=0;n=km(t,n))aa(e,VD(t),!0)}function Am(e,t,n,r){let o=Ee(),i=it(),c=ma(2);if(i.firstUpdatePass&&Pm(i,e,c,r),t!==_t&&fn(o,c,t)){let d=i.data[un()];Rm(i,d,o,o[je],e,o[c+1]=QD(t,n),r,c)}}function UD(e,t,n,r){let o=it(),i=ma(2);o.firstUpdatePass&&Pm(o,null,i,r);let c=Ee();if(n!==_t&&fn(c,i,n)){let d=o.data[un()];if(Fm(d,r)&&!Om(o,i)){let p=r?d.classesWithoutHost:d.stylesWithoutHost;p!==null&&(n=na(p,n||"")),td(o,d,c,n,r)}else YD(o,d,c,c[je],c[i+1],c[i+1]=KD(e,t,n),r,i)}}function Om(e,t){return t>=e.expandoStartIndex}function Pm(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[un()],c=Om(e,n);Fm(i,r)&&t===null&&!c&&(t=!1),t=WD(o,i,t,r),RD(o,i,t,n,c,r)}}function WD(e,t,n,r){let o=Dh(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Ru(null,e,t,n,r),n=di(n,t.attrs,r),i=null);else{let c=t.directiveStylingLast;if(c===-1||e[c]!==o)if(n=Ru(o,e,t,n,r),i===null){let p=zD(e,t,r);p!==void 0&&Array.isArray(p)&&(p=Ru(null,e,t,p[1],r),p=di(p,t.attrs,r),GD(e,t,r,p))}else i=qD(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function zD(e,t,n){let r=n?t.classBindings:t.styleBindings;if(so(r)!==0)return e[Cr(r)]}function GD(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[Cr(o)]=r}function qD(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let c=e[i].hostAttrs;r=di(r,c,n)}return di(r,t.attrs,n)}function Ru(e,t,n,r,o){let i=null,c=n.directiveEnd,d=n.directiveStylingLast;for(d===-1?d=n.directiveStart:d++;d<c&&(i=t[d],r=di(r,i.hostAttrs,o),i!==e);)d++;return e!==null&&(n.directiveStylingLast=d),r}function di(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let c=t[i];typeof c=="number"?o=c:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),aa(e,c,n?!0:t[++i]))}return e===void 0?null:e}function KD(e,t,n){if(n==null||n==="")return lt;let r=[],o=ld(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else typeof o=="string"&&t(r,o);return r}function ZD(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&aa(e,r,n)}function YD(e,t,n,r,o,i,c,d){o===_t&&(o=lt);let p=0,m=0,v=0<o.length?o[0]:null,N=0<i.length?i[0]:null;for(;v!==null||N!==null;){let V=p<o.length?o[p+1]:void 0,A=m<i.length?i[m+1]:void 0,J=null,he;v===N?(p+=2,m+=2,V!==A&&(J=N,he=A)):N===null||v!==null&&v<N?(p+=2,J=v):(m+=2,J=N,he=A),J!==null&&Rm(e,t,n,r,J,he,c,d),v=p<o.length?o[p]:null,N=m<i.length?i[m]:null}}function Rm(e,t,n,r,o,i,c,d){if(!(t.type&3))return;let p=e.data,m=p[d+1],v=PD(m)?rg(p,t,n,o,so(m),c):void 0;if(!$a(v)){$a(i)||AD(m)&&(i=rg(p,null,n,o,d,c));let N=cu(un(),n);db(r,c,N,o,i)}}function rg(e,t,n,r,o,i){let c=t===null,d;for(;o>0;){let p=e[o],m=Array.isArray(p),v=m?p[1]:p,N=v===null,V=n[o+1];V===_t&&(V=N?lt:void 0);let A=N?ca(V,r):v===r?V:void 0;if(m&&!$a(A)&&(A=ca(p,r)),$a(A)&&(d=A,c))return d;let J=e[o+1];o=c?Cr(J):so(J)}if(t!==null){let p=i?t.residualClasses:t.residualStyles;p!=null&&(d=ca(p,r))}return d}function $a(e){return e!==void 0}function QD(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=yt(ld(e)))),e}function Fm(e,t){return(e.flags&(t?8:16))!==0}function F(e,t=""){let n=Ee(),r=it(),o=e+ft,i=r.firstCreatePass?Id(r,o,1,t,null):r.data[o],c=JD(r,n,i,t,e);n[o]=c,Ca()&&Dd(r,n,c,i),no(i,!1)}var JD=(e,t,n,r,o)=>(Ea(!0),x0(t[je],r));function XD(e,t,n,r=""){return fn(e,ni(),n)?t+Yr(n)+r:_t}function ew(e,t,n,r,o,i=""){let c=mh(),d=$b(e,c,n,o);return ma(2),d?t+Yr(n)+r+Yr(o)+i:_t}function Ke(e){return ke("",e),Ke}function ke(e,t,n){let r=Ee(),o=XD(r,e,t,n);return o!==_t&&Lm(r,un(),o),ke}function Tt(e,t,n,r,o){let i=Ee(),c=ew(i,e,t,n,r,o);return c!==_t&&Lm(i,un(),c),Tt}function Lm(e,t,n){let r=cu(t,e);M0(e[je],r,n)}function Re(e,t,n){Eu(t)&&(t=t());let r=Ee(),o=ni();if(fn(r,o,t)){let i=it(),c=ba();Ug(c,r,e,t,r[je],n)}return Re}function Be(e,t){let n=Eu(e);return n&&e.set(t),n}function Fe(e,t){let n=Ee(),r=it(),o=ht();return Tm(r,n,n[je],o,e,t),Fe}function tw(e,t,n){let r=it();if(r.firstCreatePass){let o=Kt(e);od(n,r.data,r.blueprint,o,!0),od(t,r.data,r.blueprint,o,!1)}}function od(e,t,n,r,o){if(e=Ze(e),Array.isArray(e))for(let i=0;i<e.length;i++)od(e[i],t,n,r,o);else{let i=it(),c=Ee(),d=ht(),p=cr(e)?e:Ze(e.provide),m=ru(e),v=d.providerIndexes&1048575,N=d.directiveStart,V=d.providerIndexes>>20;if(cr(e)||!e.multi){let A=new Dr(m,o,ne),J=Lu(p,t,o?v:v+V,N);J===-1?(ju(Fa(d,c),i,p),Fu(i,e,t.length),t.push(p),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(A),c.push(A)):(n[J]=A,c[J]=A)}else{let A=Lu(p,t,v+V,N),J=Lu(p,t,v,v+V),he=A>=0&&n[A],Ie=J>=0&&n[J];if(o&&!Ie||!o&&!he){ju(Fa(d,c),i,p);let Ce=ow(o?rw:nw,n.length,o,r,m);!o&&Ie&&(n[J].providerFactory=Ce),Fu(i,e,t.length,0),t.push(p),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(Ce),c.push(Ce)}else{let Ce=Vm(n[o?J:A],m,!o&&r);Fu(i,e,A>-1?A:J,Ce)}!o&&r&&Ie&&n[J].componentProviders++}}}function Fu(e,t,n,r){let o=cr(t),i=Qp(t);if(o||i){let p=(i?Ze(t.useClass):t).prototype.ngOnDestroy;if(p){let m=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let v=m.indexOf(n);v===-1?m.push(n,[r,p]):m[v+1].push(r,p)}else m.push(n,p)}}}function Vm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Lu(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function nw(e,t,n,r){return id(this.multi,[])}function rw(e,t,n,r){let o=this.multi,i;if(this.providerFactory){let c=this.providerFactory.componentProviders,d=La(n,n[pe],this.providerFactory.index,r);i=d.slice(0,c),id(o,i);for(let p=c;p<d.length;p++)i.push(d[p])}else i=[],id(o,i);return i}function id(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function ow(e,t,n,r,o){let i=new Dr(e,n,ne);return i.multi=[],i.index=t,i.componentProviders=0,Vm(i,o,r&&!n),i}function bt(e,t=[]){return n=>{n.providersResolver=(r,o)=>tw(r,o?o(e):e,t)}}function iw(e,t){let n=e[t];return n===_t?void 0:n}function sw(e,t,n,r,o,i){let c=t+n;return fn(e,c,o)?Hb(e,c+1,i?r.call(i,o):r(o)):iw(e,c+1)}function xr(e,t){let n=it(),r,o=e+ft;n.firstCreatePass?(r=aw(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=In(r.type,!0)),c,d=ct(ne);try{let p=Ra(!1),m=i();return Ra(p),uu(n,Ee(),o,m),m}finally{ct(d)}}function aw(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Mr(e,t,n){let r=e+ft,o=Ee(),i=lu(o,r);return cw(o,r)?sw(o,gh(),t,i.transform,n,i):i.transform(n)}function cw(e,t){return e[pe].data[t].pure}function Od(e,t){return im(e,t)}var lw=(()=>{class e{zone=fe(Qe);changeDetectionScheduler=fe(ur);applicationRef=fe(yi);applicationErrorHandler=fe(Zt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jm({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Qe(re(Q({},Bm()),{scheduleInRootZone:n})),[{provide:Qe,useFactory:e},{provide:fr,multi:!0,useFactory:()=>{let r=fe(lw,{optional:!0});return()=>r.initialize()}},{provide:fr,multi:!0,useFactory:()=>{let r=fe(uw);return()=>{r.initialize()}}},t===!0?{provide:Iu,useValue:!0}:[],{provide:xu,useValue:n??bm},{provide:Zt,useFactory:()=>{let r=fe(Qe),o=fe(Ct),i;return c=>{i??=o.get(Gt),r.runOutsideAngular(()=>i.handleError(c))}}}]}function Bm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var uw=(()=>{class e{subscription=new ze;initialized=!1;zone=fe(Qe);pendingTasks=fe(ro);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Qe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Qe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Hm=(()=>{class e{applicationErrorHandler=fe(Zt);appRef=fe(yi);taskService=fe(ro);ngZone=fe(Qe);zonelessEnabled=fe(xa);tracing=fe(mi,{optional:!0});disableScheduling=fe(Iu,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ba):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(fe(xu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ha||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Xh:Dm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ba+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Xh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dw(){return typeof $localize<"u"&&$localize.locale||vi}var Ja=new de("",{providedIn:"root",factory:()=>fe(Ja,{optional:!0,skipSelf:!0})||dw()});function kt(e){return Vp(e)}function uo(e,t){return Ss(e,t?.equal)}var $m=class{[dt];constructor(t){this[dt]=t}destroy(){this[dt].destroy()}};var Ew=new de("");Ew.__NG_ELEMENT_ID__=e=>{let t=ht();if(t===null)throw new se(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new se(204,!1)};var Pd=new de(""),Iw=new de("");function _i(e){return!e.moduleRef}function xw(e){let t=_i(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Qe);return n.run(()=>{_i(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Zt),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),_i(e)){let i=()=>t.destroy(),c=e.platformInjector.get(Pd);c.add(i),t.onDestroy(()=>{o.unsubscribe(),c.delete(i)})}else{let i=()=>e.moduleRef.destroy(),c=e.platformInjector.get(Pd);c.add(i),e.moduleRef.onDestroy(()=>{ii(e.allPlatformModules,e.moduleRef),o.unsubscribe(),c.delete(i)})}return Sw(r,n,()=>{let i=t.get(Ad);return i.runInitializers(),i.donePromise.then(()=>{let c=t.get(Ja,vi);if(Sm(c||vi),!t.get(Iw,!0))return _i(e)?t.get(yi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(_i(e)){let p=t.get(yi);return e.rootComponent!==void 0&&p.bootstrap(e.rootComponent),p}else return Mw?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var Mw;function Sw(e,t,n){try{let r=n();return Ir(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Xa=null;function Tw(e=[],t){return cn.create({name:t,providers:[{provide:zo,useValue:"platform"},{provide:Pd,useValue:new Set([()=>Xa=null])},...e]})}function kw(e=[]){if(Xa)return Xa;let t=Tw(e);return Xa=t,xm(),Nw(t),t}function Nw(e){let t=e.get(za,null);la(e,()=>{t?.forEach(n=>n())})}var tc=(()=>{class e{static __NG_ELEMENT_ID__=Aw}return e})();function Aw(e){return Ow(ht(),Ee(),(e&16)===16)}function Ow(e,t,n){if(kn(e)&&!n){let r=St(e.index,t);return new An(r,r)}else if(e.type&175){let r=t[xt];return new An(r,t)}return null}var Rd=class{constructor(){}supports(t){return xd(t)}create(t){return new Fd(t)}},Pw=(e,t)=>t,Fd=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Pw}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let c=!r||n&&n.currentIndex<Um(r,o,i)?n:r,d=Um(c,o,i),p=c.currentIndex;if(c===r)o--,r=r._nextRemoved;else if(n=n._next,c.previousIndex==null)o++;else{i||(i=[]);let m=d-o,v=p-o;if(m!=v){for(let V=0;V<m;V++){let A=V<i.length?i[V]:i[V]=0,J=A+V;v<=J&&J<m&&(i[V]=A+1)}let N=c.previousIndex;i[N]=v-m}}d!==p&&t(c,d,p)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!xd(t))throw new se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,c;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)i=t[d],c=this._trackByFn(d,i),n===null||!Object.is(n.trackById,c)?(n=this._mismatch(n,i,c,d),r=!0):(r&&(n=this._verifyReinsertion(n,i,c,d)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,fm(t,d=>{c=this._trackByFn(o,d),n===null||!Object.is(n.trackById,c)?(n=this._mismatch(n,d,c,o),r=!0):(r&&(n=this._verifyReinsertion(n,d,c,o)),Object.is(n.item,d)||this._addIdentityChange(n,d)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Ld(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new ec),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ec),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ld=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Vd=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ec=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Vd,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Um(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function Wm(){return new jd([new Rd])}var jd=(()=>{class e{factories;static \u0275prov=we({token:e,providedIn:"root",factory:Wm});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Wm()),deps:[[e,new ag,new sg]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new se(901,!1)}}return e})();function zm(e){Te(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=kw(r),i=[jm({}),{provide:ur,useExisting:Hm},Th,...n||[]],c=new ui({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return xw({r3Injector:c.injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Te(9)}}function Bd(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var Gm=null;function Ln(){return Gm}function Hd(e){Gm??=e}var bi=class{};var nc=class{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},At=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,c)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new nc(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)r.remove(i===null?void 0:i);else if(i!==null){let d=r.get(i);r.move(d,c),qm(d,o)}});for(let o=0,i=r.length;o<i;o++){let d=r.get(o).context;d.index=o,d.count=i,d.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);qm(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ne(gi),ne(hi),ne(jd))};static \u0275dir=Oe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function qm(e,t){e.context.$implicit=t.item}var hn=(()=>{class e{_viewContainer;_context=new rc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Km(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Km(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(ne(gi),ne(hi))};static \u0275dir=Oe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),rc=class{$implicit=null;ngIf=null};function Km(e,t){if(e&&!e.createEmbeddedView)throw new se(2020,!1)}function Rw(e,t){return new se(2100,!1)}var $d=class{createSubscription(t,n,r){return kt(()=>t.subscribe({next:n,error:r}))}dispose(t){kt(()=>t.unsubscribe())}},Ud=class{createSubscription(t,n,r){return t.then(o=>n?.(o),o=>r?.(o)),{unsubscribe:()=>{n=null,r=null}}}dispose(t){t.unsubscribe()}},Fw=new Ud,Lw=new $d,Di=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=fe(Zt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Ir(n))return Fw;if(Qa(n))return Lw;throw Rw(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(ne(tc,16))};static \u0275pipe=Md({name:"async",type:e,pure:!1})}return e})();var Ot=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Er({type:e});static \u0275inj=Mn({})}return e})();function Wd(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}var zd="browser",Zm="server";function Gd(e){return e===Zm}var wi=class{};var sc=new de(""),Yd=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new se(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(De(sc),De(Qe))};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),Ei=class{_doc;constructor(t){this._doc=t}manager},oc="ng-app-id";function Ym(e){for(let t of e)t.remove()}function Qm(e,t){let n=t.createElement("style");return n.textContent=e,n}function Vw(e,t,n,r){let o=e.head?.querySelectorAll(`style[${oc}="${t}"],link[${oc}="${t}"]`);if(o)for(let i of o)i.removeAttribute(oc),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Kd(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Qd=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=Gd(i),Vw(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Qm);r?.forEach(o=>this.addUsage(o,this.external,Kd))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Ym(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ym(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Qm(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Kd(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(oc,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(De(Vt),De(Wa),De(Ga,8),De(co))};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),qd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Jd=/%COMP%/g;var Xm="%COMP%",jw=`_nghost-${Xm}`,Bw=`_ngcontent-${Xm}`,Hw=!0,$w=new de("",{providedIn:"root",factory:()=>Hw});function Uw(e){return Bw.replace(Jd,e)}function Ww(e){return jw.replace(Jd,e)}function ey(e,t){return t.map(n=>n.replace(Jd,e))}var Xd=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,c,d,p,m=null,v=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=c,this.platformId=d,this.ngZone=p,this.nonce=m,this.tracingService=v,this.platformIsServer=!1,this.defaultRenderer=new Ii(n,c,p,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof ic?o.applyToHost(n):o instanceof xi&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let c=this.doc,d=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,N=this.platformIsServer,V=this.tracingService;switch(r.encapsulation){case dn.Emulated:i=new ic(p,m,r,this.appId,v,c,d,N,V);break;case dn.ShadowDom:return new Zd(p,m,n,r,c,d,this.nonce,N,V);default:i=new xi(p,m,r,v,c,d,N,V);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(De(Yd),De(Qd),De(Wa),De($w),De(Vt),De(co),De(Qe),De(Ga),De(mi,8))};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),Ii=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(qd[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Jm(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Jm(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new se(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;let i=qd[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let o=qd[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Qt.DashCase|Qt.Important)?t.style.setProperty(n,r,o&Qt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Qt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if(typeof t=="string"&&(t=Ln().getGlobalEventTarget(this.doc,t),!t))throw new se(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Jm(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Zd=class extends Ii{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,c,d,p,m){super(t,i,c,p,m),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=o.styles;v=ey(o.id,v);for(let V of v){let A=document.createElement("style");d&&A.setAttribute("nonce",d),A.textContent=V,this.shadowRoot.appendChild(A)}let N=o.getExternalStyles?.();if(N)for(let V of N){let A=Kd(V,i);d&&A.setAttribute("nonce",d),this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xi=class extends Ii{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,o,i,c,d,p,m){super(t,i,c,d,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let v=r.styles;this.styles=m?ey(m,v):v,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ic=class extends xi{contentAttr;hostAttr;constructor(t,n,r,o,i,c,d,p,m){let v=o+"-"+r.id;super(t,n,r,i,c,d,p,m,v),this.contentAttr=Uw(v),this.hostAttr=Ww(v)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var ac=class e extends bi{supportsDOMEvents=!0;static makeCurrent(){Hd(new e)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=zw();return n==null?null:Gw(n)}resetBaseElement(){Mi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Wd(document.cookie,t)}},Mi=null;function zw(){return Mi=Mi||document.head.querySelector("base"),Mi?Mi.getAttribute("href"):null}function Gw(e){return new URL(e,document.baseURI).pathname}var qw=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),ny=(()=>{class e extends Ei{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(De(Vt))};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})(),ty=["alt","control","meta","shift"],Kw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zw={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ry=(()=>{class e extends Ei{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o,i){let c=e.parseEventName(r),d=e.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ln().onAndCancel(n,c.domEventName,d,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),ty.forEach(m=>{let v=r.indexOf(m);v>-1&&(r.splice(v,1),c+=m+".")}),c+=i,r.length!=0||i.length===0)return null;let p={};return p.domEventName=o,p.fullKey=c,p}static matchEventFullKeyCode(n,r){let o=Kw[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),ty.forEach(c=>{if(c!==o){let d=Zw[c];d(n)&&(i+=c+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(De(Vt))};static \u0275prov=we({token:e,factory:e.\u0275fac})}return e})();function ef(e,t){return zm(Q({rootComponent:e},Yw(t)))}function Yw(e){return{appProviders:[...tC,...e?.providers??[]],platformProviders:eC}}function Qw(){ac.makeCurrent()}function Jw(){return new Gt}function Xw(){return cd(document),document}var eC=[{provide:co,useValue:zd},{provide:za,useValue:Qw,multi:!0},{provide:Vt,useFactory:Xw}];var tC=[{provide:zo,useValue:"root"},{provide:Gt,useFactory:Jw},{provide:sc,useClass:ny,multi:!0,deps:[Vt]},{provide:sc,useClass:ry,multi:!0,deps:[Vt]},Xd,Qd,Yd,{provide:wr,useExisting:Xd},{provide:wi,useClass:qw},[]];var py=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(ne(On),ne(pn))};static \u0275dir=Oe({type:e})}return e})(),mo=(()=>{class e extends py{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jt(e)))(o||e)}})();static \u0275dir=Oe({type:e,features:[Je]})}return e})(),Sr=new de(""),nC={provide:Sr,useExisting:rt(()=>of),multi:!0},of=(()=>{class e extends mo{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jt(e)))(o||e)}})();static \u0275dir=Oe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&Y("change",function(c){return o.onChange(c.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[bt([nC]),Je]})}return e})(),rC={provide:Sr,useExisting:rt(()=>jn),multi:!0};function oC(){let e=Ln()?Ln().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var iC=new de(""),jn=(()=>{class e extends py{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!oC())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(ne(On),ne(pn),ne(iC,8))};static \u0275dir=Oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Y("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},standalone:!1,features:[bt([rC]),Je]})}return e})();function sC(e){return e==null||aC(e)===0}function aC(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Oi=new de(""),hy=new de("");function cC(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function lC(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function uC(e){return sC(e.value)?{required:!0}:null}function oy(e){return null}function gy(e){return e!=null}function my(e){return Ir(e)?Ue(e):e}function yy(e){let t={};return e.forEach(n=>{t=n!=null?Q(Q({},t),n):t}),Object.keys(t).length===0?null:t}function vy(e,t){return t.map(n=>n(e))}function dC(e){return!e.validate}function _y(e){return e.map(t=>dC(t)?t:n=>t.validate(n))}function fC(e){if(!e)return null;let t=e.filter(gy);return t.length==0?null:function(n){return yy(vy(n,t))}}function sf(e){return e!=null?fC(_y(e)):null}function pC(e){if(!e)return null;let t=e.filter(gy);return t.length==0?null:function(n){let r=vy(n,t).map(my);return Ml(r).pipe(sn(yy))}}function af(e){return e!=null?pC(_y(e)):null}function iy(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function hC(e){return e._rawValidators}function gC(e){return e._rawAsyncValidators}function tf(e){return e?Array.isArray(e)?e:[e]:[]}function lc(e,t){return Array.isArray(e)?e.includes(t):e===t}function sy(e,t){let n=tf(t);return tf(e).forEach(o=>{lc(n,o)||n.push(o)}),n}function ay(e,t){return tf(t).filter(n=>!lc(e,n))}var uc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=sf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=af(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},ho=class extends uc{name;get formDirective(){return null}get path(){return null}},go=class extends uc{_parent=null;name=null;valueAccessor=null},dc=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},mC={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},VL=re(Q({},mC),{"[class.ng-submitted]":"isSubmitted"}),yo=(()=>{class e extends dc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ne(go,2))};static \u0275dir=Oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ut("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Je]})}return e})(),gc=(()=>{class e extends dc{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(ne(ho,10))};static \u0275dir=Oe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ut("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Je]})}return e})();var Si="VALID",cc="INVALID",fo="PENDING",Ti="DISABLED",Vn=class{},fc=class extends Vn{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ni=class extends Vn{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ai=class extends Vn{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},po=class extends Vn{status;source;constructor(t,n){super(),this.status=t,this.source=n}},nf=class extends Vn{source;constructor(t){super(),this.source=t}},rf=class extends Vn{source;constructor(t){super(),this.source=t}};function by(e){return(mc(e)?e.validators:e)||null}function yC(e){return Array.isArray(e)?sf(e):e||null}function Dy(e,t){return(mc(t)?t.asyncValidators:e)||null}function vC(e){return Array.isArray(e)?af(e):e||null}function mc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function _C(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new se(1e3,"");if(!r[n])throw new se(1001,"")}function bC(e,t,n){e._forEachChild((r,o)=>{if(n[o]===void 0)throw new se(1002,"")})}var pc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return kt(this.statusReactive)}set status(t){kt(()=>this.statusReactive.set(t))}_status=uo(()=>this.statusReactive());statusReactive=_r(void 0);get valid(){return this.status===Si}get invalid(){return this.status===cc}get pending(){return this.status==fo}get disabled(){return this.status===Ti}get enabled(){return this.status!==Ti}errors;get pristine(){return kt(this.pristineReactive)}set pristine(t){kt(()=>this.pristineReactive.set(t))}_pristine=uo(()=>this.pristineReactive());pristineReactive=_r(!0);get dirty(){return!this.pristine}get touched(){return kt(this.touchedReactive)}set touched(t){kt(()=>this.touchedReactive.set(t))}_touched=uo(()=>this.touchedReactive());touchedReactive=_r(!1);get untouched(){return!this.touched}_events=new on;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(sy(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(sy(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ay(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ay(t,this._rawAsyncValidators))}hasValidator(t){return lc(this._rawValidators,t)}hasAsyncValidator(t){return lc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(re(Q({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ai(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ai(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(re(Q({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ni(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ni(!0,r))}markAsPending(t={}){this.status=fo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new po(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(re(Q({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ti,this.errors=null,this._forEachChild(o=>{o.disable(re(Q({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fc(this.value,r)),this._events.next(new po(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(Q({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Si,this._forEachChild(r=>{r.enable(re(Q({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(re(Q({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Si||this.status===fo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new fc(this.value,n)),this._events.next(new po(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(re(Q({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ti:Si}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=fo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=my(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new po(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Ti:this.errors?cc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fo)?fo:this._anyControlsHaveStatus(cc)?cc:Si}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new Ni(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ai(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){mc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=yC(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=vC(this._rawAsyncValidators)}},hc=class extends pc{constructor(t,n,r){super(by(n),Dy(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){bC(this,!0,t),Object.keys(t).forEach(r=>{_C(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var yc=new de("",{providedIn:"root",factory:()=>vc}),vc="always";function DC(e,t){return[...t.path,e]}function wy(e,t,n=vc){Cy(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),CC(e,t),IC(e,t),EC(e,t),wC(e,t)}function cy(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function wC(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Cy(e,t){let n=hC(e);t.validator!==null?e.setValidators(iy(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=gC(e);t.asyncValidator!==null?e.setAsyncValidators(iy(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();cy(t._rawValidators,o),cy(t._rawAsyncValidators,o)}function CC(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Ey(e,t)})}function EC(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Ey(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function Ey(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function IC(e,t){let n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function xC(e,t){e==null,Cy(e,t)}function MC(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function SC(e){return Object.getPrototypeOf(e.constructor)===mo}function TC(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kC(e,t){if(!t)return null;Array.isArray(t);let n,r,o;return t.forEach(i=>{i.constructor===jn?n=i:SC(i)?r=i:o=i}),o||r||n||null}var NC={provide:ho,useExisting:rt(()=>Pi)},ki=Promise.resolve(),Pi=(()=>{class e extends ho{callSetDisabledState;get submitted(){return kt(this.submittedReactive)}_submitted=uo(()=>this.submittedReactive());submittedReactive=_r(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new hc({},sf(n),af(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ki.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),wy(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ki.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ki.then(()=>{let r=this._findContainer(n.path),o=new hc({});xC(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ki.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ki.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),TC(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new nf(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new rf(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(ne(Oi,10),ne(hy,10),ne(yc,8))};static \u0275dir=Oe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Y("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[bt([NC]),Je]})}return e})();function ly(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function uy(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var AC=class extends pc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(by(n),Dy(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(uy(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ly(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ly(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){uy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var OC={provide:go,useExisting:rt(()=>Tr)},dy=Promise.resolve(),Tr=(()=>{class e extends go{_changeDetectorRef;callSetDisabledState;control=new AC;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(n,r,o,i,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=kC(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),MC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){dy.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Bd(r);dy.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?DC(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(ne(ho,9),ne(Oi,10),ne(hy,10),ne(Sr,10),ne(tc,8),ne(yc,8))};static \u0275dir=Oe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[bt([OC]),Je,fi]})}return e})();var _c=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Oe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),PC={provide:Sr,useExisting:rt(()=>Ri),multi:!0},Ri=(()=>{class e extends mo{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jt(e)))(o||e)}})();static \u0275dir=Oe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&Y("input",function(c){return o.onChange(c.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[bt([PC]),Je]})}return e})(),RC={provide:Sr,useExisting:rt(()=>cf),multi:!0};var FC=(()=>{class e{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cf=(()=>{class e extends mo{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=fe(yc,{optional:!0})??vc;constructor(n,r,o,i){super(n,r),this._registry=o,this._injector=i}ngOnInit(){this._control=this._injector.get(go),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(ne(On),ne(pn),ne(FC),ne(cn))};static \u0275dir=Oe({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,o){r&1&&Y("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[bt([RC]),Je]})}return e})();var LC={provide:Sr,useExisting:rt(()=>Bn),multi:!0};function Iy(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function VC(e){return e.split(":")[0]}var Bn=(()=>{class e extends mo{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),o=Iy(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=VC(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jt(e)))(o||e)}})();static \u0275dir=Oe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&Y("change",function(c){return o.onChange(c.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[bt([LC]),Je]})}return e})(),vo=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Iy(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(ne(pn),ne(On),ne(Bn,9))};static \u0275dir=Oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),jC={provide:Sr,useExisting:rt(()=>xy),multi:!0};function fy(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function BC(e){return e.split(":")[0]}var xy=(()=>{class e extends mo{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,c)=>{i._setSelected(o.indexOf(c.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let c=i;for(let d=0;d<c.length;d++){let p=c[d],m=this._getOptionValue(p.value);o.push(m)}}else{let c=r.options;for(let d=0;d<c.length;d++){let p=c[d];if(p.selected){let m=this._getOptionValue(p.value);o.push(m)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=BC(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jt(e)))(o||e)}})();static \u0275dir=Oe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&Y("change",function(c){return o.onChange(c.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[bt([jC]),Je]})}return e})(),_o=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(fy(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(fy(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(ne(pn),ne(On),ne(xy,9))};static \u0275dir=Oe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function My(e){return typeof e=="number"?e:parseFloat(e)}var lf=(()=>{class e{_validator=oy;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):oy,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Oe({type:e,features:[fi]})}return e})(),HC={provide:Oi,useExisting:rt(()=>Fi),multi:!0},Fi=(()=>{class e extends lf{max;inputName="max";normalizeInput=n=>My(n);createValidator=n=>lC(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jt(e)))(o||e)}})();static \u0275dir=Oe({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Pn("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[bt([HC]),Je]})}return e})(),$C={provide:Oi,useExisting:rt(()=>Li),multi:!0},Li=(()=>{class e extends lf{min;inputName="min";normalizeInput=n=>My(n);createValidator=n=>cC(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jt(e)))(o||e)}})();static \u0275dir=Oe({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Pn("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[bt([$C]),Je]})}return e})(),UC={provide:Oi,useExisting:rt(()=>Vi),multi:!0};var Vi=(()=>{class e extends lf{required;inputName="required";normalizeInput=Bd;createValidator=n=>uC;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Jt(e)))(o||e)}})();static \u0275dir=Oe({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Pn("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[bt([UC]),Je]})}return e})();var WC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Er({type:e});static \u0275inj=Mn({})}return e})();var bo=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:yc,useValue:n.callSetDisabledState??vc}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Er({type:e});static \u0275inj=Mn({imports:[WC]})}return e})();var bc=xv(Sy(),1),Ty=Symbol.for("Dexie"),Dc=globalThis[Ty]||(globalThis[Ty]=bc.default);if(bc.default.semVer!==Dc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${bc.default.semVer} and ${Dc.semVer}`);var{liveQuery:HL,mergeRanges:$L,rangesOverlap:UL,RangeSet:WL,cmp:zL,Entity:GL,PropModification:qL,replacePrefix:KL,add:ZL,remove:YL,DexieYProvider:QL}=Dc;var ky=Dc;var pf=class extends ky{constructor(){super("StudyTrackerDB"),this.version(1).stores({categories:"id, name, icon, color, weekly_goal, created_at, user_id",tasks:"++id, description, category, duration, scheduled_time, completed, completed_at, date, created_at, user_id, notes",timeSessions:"++id, task_id, category, description, duration, date, started_at, completed_at, created_at, user_id",userSettings:"user_id, sound_enabled, notifications_enabled, auto_start_next, theme, updated_at",userStreaks:"user_id, current_streak, longest_streak, last_activity_date, total_practice_days, created_at, updated_at",weeklyResets:"++id, user_id, reset_date, previous_stats, created_at",dailyMotivations:"++id, user_id, message, is_active, created_at"})}},Hn=(()=>{let t=class t{constructor(){this.db=new pf,this.currentUser$=new wt("local-user"),this.isOnline$=new wt(!0),this.initializeDefaultData()}getTodayString(){return new Date().toISOString().split("T")[0]}get user$(){return this.currentUser$.asObservable()}get isOnline(){return this.isOnline$.asObservable()}initializeDefaultData(){return _e(this,null,function*(){try{(yield this.db.categories.count())===0&&(yield this.createDefaultCategoriesFromJson()),(yield this.db.tasks.count())===0&&(yield this.createDefaultTasks()),(yield this.db.userSettings.count())===0&&(yield this.createDefaultSettings()),(yield this.db.userStreaks.count())===0&&(yield this.createDefaultStreak()),(yield this.db.dailyMotivations.count())===0&&(yield this.createDefaultMotivations())}catch(r){console.error("Error initializing default data:",r)}})}createDefaultTasks(){return _e(this,null,function*(){let r=this.getTodayString(),o=[{description:"Escalas con cambio de posici\xF3n",category:"viola",duration:10,scheduled_time:"06:30",completed:!1,date:r,created_at:new Date().toISOString(),user_id:"local-user"},{description:"T\xE9cnica espec\xEDfica o repertorio",category:"viola",duration:15,scheduled_time:"06:40",completed:!1,date:r,created_at:new Date().toISOString(),user_id:"local-user"},{description:"Lectura a primera vista",category:"viola",duration:5,scheduled_time:"06:55",completed:!1,date:r,created_at:new Date().toISOString(),user_id:"local-user"},{description:"M\xF3dulos AZ-204 WhizLabs",category:"az204",duration:30,scheduled_time:"07:00",completed:!1,date:r,created_at:new Date().toISOString(),user_id:"local-user"},{description:"Laboratorio pr\xE1ctico Azure",category:"az204",duration:45,scheduled_time:"20:00",completed:!1,date:r,created_at:new Date().toISOString(),user_id:"local-user"},{description:"Lectura direcci\xF3n orquestal",category:"conducting",duration:20,scheduled_time:"20:45",completed:!1,date:r,created_at:new Date().toISOString(),user_id:"local-user"}];yield this.db.tasks.bulkAdd(o)})}createDefaultCategoriesFromJson(){return _e(this,null,function*(){let o=[{idx:0,id:"az204",name:"AZ-204",icon:"\u{1F4BB}",color:"#3498db",weekly_goal:5,created_at:"2025-09-16 16:22:57.590532+00",user_id:null},{idx:1,id:"conducting",name:"Direcci\xF3n",icon:"\u{1F3BC}",color:"#2ecc71",weekly_goal:2,created_at:"2025-09-16 16:22:57.590532+00",user_id:null},{idx:2,id:"ear_training",name:"Entrenamiento Auditivo",icon:"\u{1F442}",color:"#f39c12",weekly_goal:1,created_at:"2025-09-16 16:23:40.004774+00",user_id:null},{idx:3,id:"music_theory",name:"Teor\xEDa Musical",icon:"\u{1F3B5}",color:"#9b59b6",weekly_goal:2,created_at:"2025-09-16 16:23:40.004774+00",user_id:null},{idx:4,id:"viola",name:"Viola",icon:"\u{1F3BB}",color:"#e74c3c",weekly_goal:3,created_at:"2025-09-16 16:22:57.590532+00",user_id:null}].map(i=>({id:i.id,name:i.name,icon:i.icon,color:i.color,weekly_goal:i.weekly_goal,created_at:i.created_at,user_id:i.user_id??"local-user"}));yield this.db.categories.bulkAdd(o)})}createDefaultSettings(){return _e(this,null,function*(){let r={user_id:"local-user",sound_enabled:!0,notifications_enabled:!0,auto_start_next:!1,theme:"default",updated_at:new Date().toISOString()};yield this.db.userSettings.add(r)})}createDefaultStreak(){return _e(this,null,function*(){let r={user_id:"local-user",current_streak:0,longest_streak:0,total_practice_days:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};yield this.db.userStreaks.add(r)})}createDefaultMotivations(){return _e(this,null,function*(){let o=["\u{1F3AF} Cada peque\xF1o paso te acerca m\xE1s a tu meta. \xA1Hoy es un gran d\xEDa para practicar!","\u{1F3BC} La m\xFAsica y la tecnolog\xEDa se combinan en ti. \xA1Eres \xFAnico y talentoso!","\u{1F4AA} A los 33 a\xF1os tienes la experiencia y la determinaci\xF3n. \xA1Es tu momento!","\u{1F3BB} Cada escala que practicas te hace mejor m\xFAsico. \xA1La constancia es clave!","\u2601\uFE0F Azure espera por ti. Cada concepto aprendido te acerca a la certificaci\xF3n.","\u{1F3B5} Dirigir esa orquesta de ni\xF1os es inspirador. \xA1Est\xE1s marcando vidas!","\u{1F31F} Balancear familia, trabajo y sue\xF1os no es f\xE1cil, pero lo est\xE1s logrando.","\u{1F525} Tu racha de constancia est\xE1 creciendo. \xA1No la rompas hoy!","\u{1F3AF} Peque\xF1os momentos, grandes resultados. \xA1Cada minuto cuenta!","\u{1F4AB} Eres un ejemplo de perseverancia. \xA1Tus hijas estar\xE1n orgullosas!"].map(i=>({user_id:"local-user",message:i,is_active:!0,created_at:new Date().toISOString()}));yield this.db.dailyMotivations.bulkAdd(o)})}getCategories(){return Ue(this.db.categories.where("user_id").equals("local-user").toArray())}createCategory(r){let o=re(Q({},r),{created_at:new Date().toISOString(),user_id:"local-user"});return Ue(this.db.categories.add(o).then(()=>o))}getTasks(r){let o=this.db.tasks.where("user_id").equals("local-user");return r?Ue(o.and(i=>i.date===r).toArray()):Ue(o.toArray())}createTask(r){let o=re(Q({},r),{created_at:new Date().toISOString(),user_id:"local-user"});return Ue(this.db.tasks.add(o).then(i=>re(Q({},o),{id:i})))}updateTask(r,o){return Ue(this.db.tasks.update(r,o).then(()=>this.db.tasks.get(r).then(i=>i)))}deleteTask(r){return Ue(this.db.tasks.delete(r))}getWeeklyTasks(r){return _e(this,null,function*(){let o=new Date(r);o.setDate(o.getDate()+6);let i=o.toISOString().split("T")[0];return this.db.tasks.where("user_id").equals("local-user").and(c=>c.date>=r&&c.date<=i).toArray()})}importFromJson(r){return _e(this,null,function*(){try{let o=0;if(r.categories&&r.categories.length>0)for(let i of r.categories)(yield this.db.categories.where("id").equals(i.id).first())||(yield this.db.categories.add(re(Q({},i),{user_id:"local-user",created_at:new Date().toISOString()})));if(r.tasks&&r.tasks.length>0)for(let i of r.tasks){if(!i.description||!i.category||!i.duration)continue;let c=i.date;r.type==="single-day"&&r.date&&(c=r.date);let d={description:i.description,category:i.category,duration:i.duration,scheduled_time:i.scheduled_time||"",completed:i.completed||!1,completed_at:i.completed_at,date:c||new Date().toISOString().split("T")[0],created_at:new Date().toISOString(),user_id:"local-user",notes:i.notes||""};yield this.db.tasks.add(d),o++}return{success:!0,message:`Se importaron ${o} tareas exitosamente`,imported:o}}catch(o){return console.error("Error importing JSON:",o),{success:!1,message:"Error al importar datos: "+o.message,imported:0}}})}generateWeekTemplate(){let r=new Date,o=new Date(r),i=r.getDay(),c=i===0?1:1-i;o.setDate(r.getDate()+c);let d=[],p=["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado","Domingo"];for(let m=0;m<7;m++){let v=new Date(o);v.setDate(o.getDate()+m);let N=v.toISOString().split("T")[0];d.push({id:0,description:`Pr\xE1ctica matutina - ${p[m]}`,category:"viola",duration:30,scheduled_time:"07:00",completed:!1,date:N,created_at:new Date().toISOString(),user_id:"local-user"},{id:0,description:`Estudio AZ-204 - ${p[m]}`,category:"az204",duration:45,scheduled_time:"20:00",completed:!1,date:N,created_at:new Date().toISOString(),user_id:"local-user"})}return{type:"full-week",tasks:d}}createTimeSession(r){let o=re(Q({},r),{created_at:new Date().toISOString(),user_id:"local-user"});return Ue(this.db.timeSessions.add(o).then(i=>re(Q({},o),{id:i})))}getWeeklyStats(){let r=new Date,o=r.getDay(),i=o===0?1:1-o;r.setDate(r.getDate()+i);let c=r.toISOString().split("T")[0];return Ue(this.db.timeSessions.where("user_id").equals("local-user").and(d=>d.date>=c).toArray().then(d=>{let p={};return d.forEach(m=>{p[m.category]=(p[m.category]||0)+m.duration}),p}))}getUserSettings(){return Ue(this.db.userSettings.get("local-user").then(r=>r||{user_id:"local-user",sound_enabled:!0,notifications_enabled:!0,auto_start_next:!1,theme:"default",updated_at:new Date().toISOString()}))}updateUserSettings(r){return Ue(this.db.userSettings.get("local-user").then(o=>{let i={user_id:"local-user",sound_enabled:r.sound_enabled??o?.sound_enabled??!0,notifications_enabled:r.notifications_enabled??o?.notifications_enabled??!0,auto_start_next:r.auto_start_next??o?.auto_start_next??!1,theme:r.theme??o?.theme??"default",updated_at:new Date().toISOString()};return this.db.userSettings.put(i).then(()=>i)}))}getUserStreak(){return Ue(this.db.userStreaks.get("local-user").then(r=>r||{user_id:"local-user",current_streak:0,longest_streak:0,total_practice_days:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}))}updateUserStreak(){return _e(this,null,function*(){let r=new Date().toISOString().split("T")[0],o=new Date;o.setDate(o.getDate()-1);let i=o.toISOString().split("T")[0];if((yield this.db.tasks.where("user_id").equals("local-user").and(N=>N.date===r&&N.completed).toArray()).length===0)return;let d=yield this.db.userStreaks.get("local-user");if(!d)return;let p=d.current_streak,m=d.longest_streak,v=d.total_practice_days;d.last_activity_date===i?p++:d.last_activity_date!==r&&(p=1),p>m&&(m=p),d.last_activity_date!==r&&v++,yield this.db.userStreaks.update("local-user",{current_streak:p,longest_streak:m,total_practice_days:v,last_activity_date:r,updated_at:new Date().toISOString()})})}resetWeeklyProgress(){return _e(this,null,function*(){let r=yield this.getWeeklyStats().toPromise(),o={user_id:"local-user",reset_date:new Date().toISOString().split("T")[0],previous_stats:r,created_at:new Date().toISOString()};yield this.db.weeklyResets.add(o).then(m=>re(Q({},o),{id:m}));let i=new Date,c=i.getDay(),d=c===0?1:1-c;i.setDate(i.getDate()+d);let p=i.toISOString().split("T")[0];yield this.db.timeSessions.where("user_id").equals("local-user").and(m=>m.date>=p).delete()})}getDailyMotivation(){return Ue(this.db.dailyMotivations.where("user_id").equals("local-user").and(r=>r.is_active).toArray().then(r=>{if(r.length===0)return"\u{1F3AF} \xA1Hoy es un gran d\xEDa para practicar!";let o=new Date().getDate();return r[o%r.length].message}))}addCustomMotivation(r){let o={user_id:"local-user",message:r,is_active:!0,created_at:new Date().toISOString()};return Ue(this.db.dailyMotivations.add(o).then(i=>re(Q({},o),{id:i})))}getCustomMotivations(){return Ue(this.db.dailyMotivations.where("user_id").equals("local-user").toArray())}deleteMotivation(r){return Ue(this.db.dailyMotivations.delete(r))}checkAndResetWeekly(){return _e(this,null,function*(){let r=new Date;if(!(r.getDay()===1))return;let i=r.toISOString().split("T")[0];(yield this.db.weeklyResets.where("user_id").equals("local-user").and(d=>d.reset_date===i).first())||(yield this.resetWeeklyProgress())})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Cc=(()=>{let t=class t{constructor(r){this.localDb=r,this.timerState$=new wt({isRunning:!1,remainingTime:0,totalTime:0}),this.initializeAudio()}initializeAudio(){return _e(this,null,function*(){try{this.audioContext=new AudioContext,yield this.createCompletionSound()}catch(r){console.warn("Audio context not available:",r)}})}createCompletionSound(){return _e(this,null,function*(){if(!this.audioContext)return;let r=this.audioContext.sampleRate,i=this.audioContext.createBuffer(1,r*1,r),c=i.getChannelData(0),d=[523.25,659.25,783.99];for(let p=0;p<c.length;p++){let m=0,v=p/r;d.forEach((N,V)=>{let A=Math.exp(-v*2);m+=Math.sin(2*Math.PI*N*v)*A*.1}),c[p]=m}this.completionSound=i})}get timerState(){return this.timerState$.asObservable()}startTimer(r,o){this.stopTimer();let i=r*60,c=Date.now(),d={isRunning:!0,remainingTime:i,totalTime:i,taskId:o,startedAt:new Date};this.timerState$.next(d),this.timerSubscription=Sl(1e3).pipe(sn(()=>{let p=Math.floor((Date.now()-c)/1e3);return Math.max(0,i-p)}),Tl(p=>p>=0,!0)).subscribe(p=>{let m=this.timerState$.value;p===0?(this.onTimerComplete(),this.timerState$.next(re(Q({},m),{isRunning:!1,remainingTime:0}))):this.timerState$.next(re(Q({},m),{remainingTime:p}))})}pauseTimer(){let r=this.timerState$.value;r.isRunning&&(this.timerSubscription?.unsubscribe(),this.timerState$.next(re(Q({},r),{isRunning:!1})))}resumeTimer(){let r=this.timerState$.value;!r.isRunning&&r.remainingTime>0&&this.startTimer(r.remainingTime/60,r.taskId)}stopTimer(){this.timerSubscription?.unsubscribe(),this.timerState$.next({isRunning:!1,remainingTime:0,totalTime:0})}addTime(r){let o=this.timerState$.value,i=r*60;this.timerState$.next(re(Q({},o),{remainingTime:o.remainingTime+i,totalTime:o.totalTime+i}))}onTimerComplete(){this.playCompletionSound(),this.showCompletionNotification(),this.triggerCompletionAnimation();let r=this.timerState$.value;this.onTimerCompleteCallback&&r.taskId&&this.onTimerCompleteCallback(r.taskId)}setOnCompleteCallback(r){this.onTimerCompleteCallback=r}playCompletionSound(){return _e(this,null,function*(){if(!(!this.audioContext||!this.completionSound))try{this.audioContext.state==="suspended"&&(yield this.audioContext.resume());let r=this.audioContext.createBufferSource(),o=this.audioContext.createGain();r.buffer=this.completionSound,r.connect(o),o.connect(this.audioContext.destination),o.gain.setValueAtTime(.3,this.audioContext.currentTime),o.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+1),r.start()}catch(r){console.warn("Could not play completion sound:",r)}})}showCompletionNotification(){if("Notification"in window&&Notification.permission==="granted"){let r=this.timerState$.value,o=Math.floor(r.totalTime/60);new Notification("\u{1F3AF} \xA1Sesi\xF3n Completada!",{body:`Has completado ${o} minutos de pr\xE1ctica. \xA1Excelente trabajo!`,icon:"/assets/icon-192x192.png",badge:"/assets/badge-72x72.png"})}}triggerCompletionAnimation(){let r=new CustomEvent("timerCompleted",{detail:this.timerState$.value});window.dispatchEvent(r)}formatTime(r){let o=Math.floor(r/60),i=r%60;return`${o.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}getProgress(){let r=this.timerState$.value;return r.totalTime===0?0:(r.totalTime-r.remainingTime)/r.totalTime*100}};t.\u0275fac=function(o){return new(o||t)(De(Hn))},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function zC(e,t){if(e&1){let n=Se();I(0,"div",11)(1,"button",12),Y("click",function(){W(n);let o=j(2);return z(o.toggleTimer())}),I(2,"span",13),F(3),S(),F(4),S(),I(5,"button",14),Y("click",function(){W(n);let o=j(2);return z(o.stopTimer())}),I(6,"span",13),F(7,"\u23F9\uFE0F"),S(),F(8," Detener "),S(),I(9,"button",15),Y("click",function(){W(n);let o=j(2);return z(o.addTime(5))}),I(10,"span",13),F(11,"\u2795"),S(),F(12," +5min "),S()()}if(e&2){let n=j().ngIf;L(),ut("primary",!n.isRunning)("secondary",n.isRunning),L(2),Ke(n.isRunning?"\u23F8\uFE0F":"\u25B6\uFE0F"),L(),ke(" ",n.isRunning?"Pausar":"Reanudar"," ")}}function GC(e,t){if(e&1&&(I(0,"div",4)(1,"div",5),Da(),I(2,"svg",6),Xe(3,"circle",7)(4,"circle",8),S(),wa(),I(5,"div",9),F(6),S()(),ge(7,zC,13,6,"div",10),S()),e&2){let n=t.ngIf,r=j();L(4),Pn("stroke",r.getProgressColor())("stroke-dasharray",r.circumference+" "+r.circumference)("stroke-dashoffset",r.getStrokeDashoffset()),L(2),ke(" ",r.formatTime(n.remainingTime)," "),L(),ee("ngIf",n.totalTime>0)}}function qC(e,t){if(e&1){let n=Se();I(0,"button",19),Y("click",function(){let o=W(n).$implicit,i=j(2);return z(i.startQuickTimer(o))}),F(1),S()}if(e&2){let n=t.$implicit;L(),ke(" ",n,"min ")}}function KC(e,t){if(e&1&&(I(0,"div",16)(1,"h3"),F(2,"Iniciar Sesi\xF3n de Pr\xE1ctica"),S(),I(3,"div",17),ge(4,qC,2,1,"button",18),S()()),e&2){let n=j();L(4),ee("ngForOf",n.quickTimes)}}function ZC(e,t){e&1&&(I(0,"div",20)(1,"div",21)(2,"div",22),F(3,"\u{1F389} \xA1Sesi\xF3n Completada! \u{1F389}"),S(),Xe(4,"div",23),S()())}var Ay=(()=>{let t=class t{constructor(r){this.timerService=r,this.timerComplete=new Me,this.timerStarted=new Me,this.navigateToTimer=new Me,this.quickTimes=[5,10,15,20,30,45],this.circumference=2*Math.PI*50,this.showCompletionAnimation=!1}ngOnInit(){this.timerState$=this.timerService.timerState,this.subscription=this.timerState$.subscribe(r=>{r.remainingTime===0&&r.totalTime>0&&this.onTimerComplete(r)})}ngOnDestroy(){this.subscription?.unsubscribe()}onGlobalTimerComplete(r){this.showCompletionAnimation=!0,setTimeout(()=>{this.showCompletionAnimation=!1},3e3)}startQuickTimer(r){this.timerService.startTimer(r,this.taskId),this.timerStarted.emit({isRunning:!0,remainingTime:r*60,totalTime:r*60,taskId:this.taskId})}toggleTimer(){this.timerService.timerState.subscribe(o=>{o.isRunning?this.timerService.pauseTimer():this.timerService.resumeTimer()}).unsubscribe()}stopTimer(){this.timerService.stopTimer()}addTime(r){this.timerService.addTime(r)}formatTime(r){return this.timerService.formatTime(r)}getStrokeDashoffset(){let r=this.timerService.getProgress();return this.circumference-r/100*this.circumference}getProgressColor(){let r=this.timerService.getProgress();return r<25?"#e74c3c":r<50?"#f39c12":r<75?"#f1c40f":"#27ae60"}onTimerComplete(r){this.timerComplete.emit(r)}};t.\u0275fac=function(o){return new(o||t)(ne(Cc))},t.\u0275cmp=Ht({type:t,selectors:[["app-timer"]],hostBindings:function(o,i){o&1&&Y("timerCompleted",function(d){return i.onGlobalTimerComplete(d)},ud)},inputs:{taskId:"taskId"},outputs:{timerComplete:"timerComplete",timerStarted:"timerStarted",navigateToTimer:"navigateToTimer"},decls:7,vars:11,consts:[[1,"timer-container"],["class","timer-display",4,"ngIf"],["class","timer-setup",4,"ngIf"],["class","completion-overlay",4,"ngIf"],[1,"timer-display"],[1,"timer-circle"],["width","120","height","120",1,"progress-ring"],["stroke","#e0e0e0","stroke-width","8","fill","transparent","r","50","cx","60","cy","60",1,"progress-ring-circle"],["stroke-width","8","fill","transparent","r","50","cx","60","cy","60",1,"progress-ring-progress"],[1,"timer-time"],["class","timer-controls",4,"ngIf"],[1,"timer-controls"],[1,"timer-btn",3,"click"],[1,"btn-icon"],[1,"timer-btn","secondary",3,"click"],[1,"timer-btn","add-time",3,"click"],[1,"timer-setup"],[1,"quick-times"],["class","quick-time-btn",3,"click",4,"ngFor","ngForOf"],[1,"quick-time-btn",3,"click"],[1,"completion-overlay"],[1,"celebration"],[1,"celebration-text"],[1,"confetti"]],template:function(o,i){if(o&1&&(I(0,"div",0),xr(1,"async"),ge(2,GC,8,5,"div",1),xr(3,"async"),ge(4,KC,5,1,"div",2),xr(5,"async"),ge(6,ZC,5,0,"div",3),S()),o&2){let c,d;ut("active",(c=Mr(1,5,i.timerState$))==null?null:c.isRunning),L(2),ee("ngIf",Mr(3,7,i.timerState$)),L(2),ee("ngIf",!((d=Mr(5,9,i.timerState$))!=null&&d.totalTime)),L(2),ee("ngIf",i.showCompletionAnimation)}},dependencies:[Ot,At,hn,Di],styles:['.timer-container[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:20px;padding:30px;text-align:center;color:#fff;margin-bottom:20px;transition:all .3s ease;min-height:200px;display:flex;flex-direction:column;justify-content:center}.timer-container.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d);box-shadow:0 0 30px #11998e66;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 30px #11998e66}to{box-shadow:0 0 50px #11998e99}}.timer-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.timer-circle[_ngcontent-%COMP%]{position:relative}.progress-ring[_ngcontent-%COMP%]{transform:rotate(-90deg)}.progress-ring-circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .5s ease-in-out}.progress-ring-progress[_ngcontent-%COMP%]{transition:stroke-dashoffset .5s ease-in-out,stroke .3s ease}.timer-time[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.8rem;font-weight:700;font-family:Monaco,Menlo,monospace}.timer-controls[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}.timer-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;padding:10px 20px;border-radius:25px;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;gap:8px}.timer-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px)}.timer-btn.primary[_ngcontent-%COMP%]{background:#ffffffe6;color:#667eea}.timer-btn.add-time[_ngcontent-%COMP%]{background:#ffc10733;border-color:#ffc10780}.btn-icon[_ngcontent-%COMP%]{font-size:1rem}.timer-setup[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1.5rem}.quick-times[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}.quick-time-btn[_ngcontent-%COMP%]{background:#fff3;border:2px solid rgba(255,255,255,.3);color:#fff;padding:15px 25px;border-radius:20px;cursor:pointer;font-weight:600;font-size:1.1rem;transition:all .3s ease}.quick-time-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.05)}.completion-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000c;border-radius:20px;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .5s ease}.celebration[_ngcontent-%COMP%]{text-align:center;position:relative}.celebration-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;animation:_ngcontent-%COMP%_bounce 1s ease-in-out infinite}.confetti[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}.confetti[_ngcontent-%COMP%]:before, .confetti[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:10px;background:#ff6b6b;animation:_ngcontent-%COMP%_confetti-fall 3s ease-in-out infinite}.confetti[_ngcontent-%COMP%]:before{left:20%;animation-delay:.5s;background:#4ecdc4}.confetti[_ngcontent-%COMP%]:after{right:20%;animation-delay:1s;background:#ffe66d}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-20px)}60%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_confetti-fall{0%{transform:translateY(-100px) rotate(0);opacity:1}to{transform:translateY(300px) rotate(360deg);opacity:0}}@media (max-width: 768px){.timer-container[_ngcontent-%COMP%]{padding:20px;margin:10px}.timer-time[_ngcontent-%COMP%]{font-size:1.5rem}.quick-times[_ngcontent-%COMP%]{flex-direction:column}}']});let e=t;return e})();function YC(e,t){if(e&1&&(I(0,"span"),F(1),S()),e&2){let n=j();L(),Tt("",n.getCategoryIcon()," ",n.getCategoryName())}}function QC(e,t){e&1&&(I(0,"span"),F(1,"\u{1F4CB} Tareas de Hoy"),S())}function JC(e,t){if(e&1&&(I(0,"span",26),F(1),S()),e&2){let n=j().$implicit,r=j(2);L(),ke(" \u{1F552} ",r.formatTime(n.scheduled_time)," ")}}function XC(e,t){if(e&1&&(I(0,"div",27)(1,"small"),F(2),S()()),e&2){let n=j().$implicit;L(2),ke("\u{1F4DD} ",n.notes)}}function eE(e,t){if(e&1){let n=Se();I(0,"button",28),Y("click",function(){W(n);let o=j().$implicit,i=j(2);return z(i.onStartTimer(o))}),F(1," \u25B6\uFE0F "),S()}}function tE(e,t){if(e&1){let n=Se();I(0,"div",29)(1,"textarea",30),Fe("ngModelChange",function(o){W(n);let i=j(3);return Be(i.noteText,o)||(i.noteText=o),z(o)}),S(),I(2,"div",31)(3,"button",32),Y("click",function(){W(n);let o=j().$implicit,i=j(2);return z(i.saveNote(o))}),F(4,"Guardar"),S(),I(5,"button",33),Y("click",function(){W(n);let o=j(3);return z(o.cancelNote())}),F(6,"Cancelar"),S()()()}if(e&2){let n=j(3);L(),Re("ngModel",n.noteText)}}function nE(e,t){if(e&1){let n=Se();I(0,"div",10)(1,"div",11)(2,"label",12)(3,"input",13),Y("change",function(){let o=W(n).$implicit,i=j(2);return z(i.onTaskToggle(o))}),S(),Xe(4,"span",14),S(),I(5,"div",15)(6,"div",16),F(7),S(),I(8,"div",17),ge(9,JC,2,1,"span",18),I(10,"span",19),F(11),S()(),ge(12,XC,3,1,"div",20),S(),I(13,"div",21),ge(14,eE,2,0,"button",22),I(15,"button",23),Y("click",function(){let o=W(n).$implicit,i=j(2);return z(i.onAddNote(o))}),F(16," \u{1F4DD} "),S(),I(17,"button",24),Y("click",function(){let o=W(n).$implicit,i=j(2);return z(i.onDeleteTask(o))}),F(18," \u{1F5D1}\uFE0F "),S()()(),ge(19,tE,7,1,"div",25),S()}if(e&2){let n=t.$implicit,r=j(2);ut("completed",n.completed)("category-viola",n.category==="viola")("category-az204",n.category==="az204")("category-conducting",n.category==="conducting"),L(3),ee("checked",n.completed),L(4),Tt(" ",r.getCategoryIcon(n.category)," ",n.description," "),L(2),ee("ngIf",n.scheduled_time),L(2),ke("\u23F1\uFE0F ",n.duration,"min"),L(),ee("ngIf",n.notes),L(2),ee("ngIf",!n.completed),L(),ee("title",n.notes?"Editar nota":"Agregar nota"),L(4),ee("ngIf",r.editingNoteTaskId===n.id)}}function rE(e,t){if(e&1&&(I(0,"div",8),ge(1,nE,20,17,"div",9),S()),e&2){let n=j();L(),ee("ngForOf",n.tasks)("ngForTrackBy",n.trackByTaskId)}}function oE(e,t){if(e&1){let n=Se();I(0,"div",34)(1,"div",35),F(2,"\u{1F3AF}"),S(),I(3,"p"),F(4,"No hay tareas para mostrar"),S(),I(5,"button",36),Y("click",function(){W(n);let o=j();return z(o.openAddTaskModal())}),F(6," Crear primera tarea "),S()()}}function iE(e,t){if(e&1&&(I(0,"option",50),F(1),S()),e&2){let n=t.$implicit;ee("value",n.id),L(),Tt(" ",n.icon," ",n.name," ")}}function sE(e,t){if(e&1){let n=Se();I(0,"div",37),Y("click",function(o){W(n);let i=j();return z(i.closeAddModal(o))}),I(1,"div",38)(2,"h3"),F(3,"\u2795 Nueva Tarea"),S(),I(4,"form",39,1),Y("ngSubmit",function(){W(n);let o=j();return z(o.onAddTask())}),I(6,"div",40)(7,"label"),F(8,"Descripci\xF3n *"),S(),I(9,"input",41),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.newTask.description,o)||(i.newTask.description=o),z(o)}),S()(),I(10,"div",40)(11,"label"),F(12,"Categor\xEDa *"),S(),I(13,"select",42),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.newTask.category,o)||(i.newTask.category=o),z(o)}),ge(14,iE,2,3,"option",43),S()(),I(15,"div",44)(16,"div",40)(17,"label"),F(18,"Duraci\xF3n (min) *"),S(),I(19,"input",45),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.newTask.duration,o)||(i.newTask.duration=o),z(o)}),S()(),I(20,"div",40)(21,"label"),F(22,"Hora programada"),S(),I(23,"input",46),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.newTask.scheduled_time,o)||(i.newTask.scheduled_time=o),z(o)}),S()()(),I(24,"div",47)(25,"button",48),F(26," Crear Tarea "),S(),I(27,"button",49),Y("click",function(){W(n);let o=j();return z(o.closeAddModal())}),F(28," Cancelar "),S()()()()()}if(e&2){let n=lo(5),r=j();L(9),Re("ngModel",r.newTask.description),L(4),Re("ngModel",r.newTask.category),L(),ee("ngForOf",r.categories),L(5),Re("ngModel",r.newTask.duration),L(4),Re("ngModel",r.newTask.scheduled_time),L(2),ee("disabled",!n.valid)}}var Oy=(()=>{let t=class t{constructor(r){this.localDb=r,this.tasks=[],this.categories=[],this.taskToggle=new Me,this.startTimer=new Me,this.addTask=new Me,this.deleteTask=new Me,this.updateTask=new Me,this.showAddModal=!1,this.editingNoteTaskId=null,this.noteText="",this.newTask={description:"",category:"",duration:30,scheduled_time:"",date:new Date().toISOString().split("T")[0]}}ngOnInit(){this.category&&!this.newTask.category&&(this.newTask.category=this.category)}trackByTaskId(r,o){return o.id}getCategoryIcon(r){let o=r||this.category;return this.categories.find(c=>c.id===o)?.icon||"\u{1F3AF}"}getCategoryName(){return this.categories.find(o=>o.id===this.category)?.name||"Categor\xEDa"}formatTime(r){return new Date(`2000-01-01T${r}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}onTaskToggle(r){this.taskToggle.emit(re(Q({},r),{completed:!r.completed,completed_at:r.completed?void 0:new Date().toISOString()}))}onStartTimer(r){this.startTimer.emit(r)}onAddNote(r){this.editingNoteTaskId=r.id,this.noteText=r.notes||""}saveNote(r){this.noteText.trim()&&this.updateTask.emit({task:r,updates:{notes:this.noteText.trim()}}),this.cancelNote()}cancelNote(){this.editingNoteTaskId=null,this.noteText=""}onDeleteTask(r){confirm("\xBFEst\xE1s seguro de que deseas eliminar esta tarea?")&&this.deleteTask.emit(r)}openAddTaskModal(){this.showAddModal=!0,this.category&&(this.newTask.category=this.category)}closeAddModal(r){r&&r.target!==r.currentTarget||(this.showAddModal=!1,this.resetNewTask())}onAddTask(){this.newTask.description&&this.newTask.category&&this.newTask.duration&&(this.addTask.emit(Q({},this.newTask)),this.closeAddModal())}resetNewTask(){this.newTask={description:"",category:this.category||"",duration:30,scheduled_time:"",date:new Date().toISOString().split("T")[0]}}};t.\u0275fac=function(o){return new(o||t)(ne(Hn))},t.\u0275cmp=Ht({type:t,selectors:[["app-task-list"]],inputs:{tasks:"tasks",categories:"categories",category:"category"},outputs:{taskToggle:"taskToggle",startTimer:"startTimer",addTask:"addTask",deleteTask:"deleteTask",updateTask:"updateTask"},decls:13,vars:5,consts:[["noTasks",""],["taskForm","ngForm"],[1,"task-list-container"],[1,"task-list-header"],[4,"ngIf"],[1,"add-btn",3,"click"],["class","tasks-container",4,"ngIf","ngIfElse"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"tasks-container"],["class","task-item",3,"completed","category-viola","category-az204","category-conducting",4,"ngFor","ngForOf","ngForTrackBy"],[1,"task-item"],[1,"task-main"],[1,"task-checkbox-container"],["type","checkbox",1,"task-checkbox",3,"change","checked"],[1,"checkmark"],[1,"task-content"],[1,"task-description"],[1,"task-meta"],["class","task-time",4,"ngIf"],[1,"task-duration"],["class","task-notes",4,"ngIf"],[1,"task-actions"],["class","action-btn start-btn","title","Iniciar cron\xF3metro",3,"click",4,"ngIf"],[1,"action-btn","note-btn",3,"click","title"],["title","Eliminar tarea",1,"action-btn","delete-btn",3,"click"],["class","task-note-form",4,"ngIf"],[1,"task-time"],[1,"task-notes"],["title","Iniciar cron\xF3metro",1,"action-btn","start-btn",3,"click"],[1,"task-note-form"],["placeholder","Agregar una nota (ej: 'Completado a las 21:00 en lugar de la hora programada')","rows","2",1,"note-textarea",3,"ngModelChange","ngModel"],[1,"note-actions"],[1,"save-note-btn",3,"click"],[1,"cancel-note-btn",3,"click"],[1,"no-tasks"],[1,"no-tasks-icon"],[1,"add-btn","primary",3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","description","required","","placeholder","Ej: Escalas con cambio de posici\xF3n",1,"form-input",3,"ngModelChange","ngModel"],["name","category","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"form-row"],["type","number","name","duration","min","5","max","240","required","",1,"form-input",3,"ngModelChange","ngModel"],["type","time","name","time",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-actions"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"],[3,"value"]],template:function(o,i){if(o&1){let c=Se();I(0,"div",2)(1,"div",3)(2,"h3"),ge(3,YC,2,2,"span",4)(4,QC,2,0,"span",4),S(),I(5,"button",5),Y("click",function(){return W(c),z(i.openAddTaskModal())}),I(6,"span"),F(7,"\u2795"),S(),F(8," Agregar "),S()(),ge(9,rE,2,2,"div",6)(10,oE,7,0,"ng-template",null,0,Od)(12,sE,29,6,"div",7),S()}if(o&2){let c=lo(11);L(3),ee("ngIf",i.category),L(),ee("ngIf",!i.category),L(5),ee("ngIf",i.tasks.length>0)("ngIfElse",c),L(3),ee("ngIf",i.showAddModal)}},dependencies:[Ot,At,hn,bo,_c,vo,_o,jn,Ri,Bn,yo,gc,Vi,Li,Fi,Tr,Pi],styles:['.task-list-container[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;padding:25px;margin-bottom:20px;box-shadow:0 8px 32px #0000001a}.task-list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:2px solid #f0f0f0}.task-list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin:0}.add-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:10px 20px;border-radius:20px;cursor:pointer;font-weight:600;font-size:.9rem;transition:all .3s ease;display:flex;align-items:center;gap:8px}.add-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.add-btn.primary[_ngcontent-%COMP%]{font-size:1rem;padding:12px 24px}.tasks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.task-item[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;border-left:4px solid #ddd;transition:all .3s ease;overflow:hidden}.task-item[_ngcontent-%COMP%]:hover{transform:translate(5px);box-shadow:0 5px 15px #0000001a}.task-item.completed[_ngcontent-%COMP%]{opacity:.6;background:#e8f5e8}.task-item.completed[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]{text-decoration:line-through}.task-item.category-viola[_ngcontent-%COMP%]{border-left-color:#e74c3c}.task-item.category-az204[_ngcontent-%COMP%]{border-left-color:#3498db}.task-item.category-conducting[_ngcontent-%COMP%]{border-left-color:#2ecc71}.task-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px}.task-checkbox-container[_ngcontent-%COMP%]{position:relative;cursor:pointer}.task-checkbox[_ngcontent-%COMP%]{width:20px;height:20px;opacity:0;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:20px;width:20px;background:#fff;border:2px solid #ddd;border-radius:4px;transition:all .3s ease}.task-checkbox[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#27ae60;border-color:#27ae60}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:6px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.task-checkbox[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{display:block}.task-content[_ngcontent-%COMP%]{flex:1}.task-description[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#333;margin-bottom:8px}.task-meta[_ngcontent-%COMP%]{display:flex;gap:15px;font-size:.85rem;color:#666}.task-notes[_ngcontent-%COMP%]{margin-top:8px;color:#7f8c8d;font-style:italic}.task-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border:none;border-radius:8px;cursor:pointer;font-size:1rem;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.start-btn[_ngcontent-%COMP%]{background:#e8f5e8;color:#27ae60}.start-btn[_ngcontent-%COMP%]:hover{background:#27ae60;color:#fff;transform:scale(1.1)}.note-btn[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.note-btn[_ngcontent-%COMP%]:hover{background:#ffc107;color:#fff}.delete-btn[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.delete-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;transform:scale(1.1)}.task-note-form[_ngcontent-%COMP%]{padding:15px;background:#fff;border-top:1px solid #eee}.note-textarea[_ngcontent-%COMP%]{width:100%;border:2px solid #e0e0e0;border-radius:8px;padding:12px;font-size:.9rem;resize:vertical;font-family:inherit}.note-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.note-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}.save-note-btn[_ngcontent-%COMP%], .cancel-note-btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;border:none;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .3s ease}.save-note-btn[_ngcontent-%COMP%]{background:#27ae60;color:#fff}.save-note-btn[_ngcontent-%COMP%]:hover{background:#219a52}.cancel-note-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.cancel-note-btn[_ngcontent-%COMP%]:hover{background:#5a6268}.no-tasks[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:#7f8c8d}.no-tasks-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:20px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:30px;min-width:400px;max-width:90vw;max-height:90vh;overflow-y:auto}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1.5rem;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#555}.form-input[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;transition:border-color .3s ease}.form-input[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;margin-top:25px}.submit-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{padding:12px 24px;border:none;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.cancel-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover{background:#5a6268}@media (max-width: 768px){.task-list-container[_ngcontent-%COMP%]{padding:15px;margin:10px}.task-main[_ngcontent-%COMP%]{padding:12px;gap:10px}.task-actions[_ngcontent-%COMP%]{flex-direction:column;gap:5px}.action-btn[_ngcontent-%COMP%]{width:30px;height:30px;font-size:.8rem}.modal-content[_ngcontent-%COMP%]{min-width:320px;padding:20px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}']});let e=t;return e})();function aE(e,t){if(e&1&&(I(0,"div",10)(1,"div",11)(2,"span",12),F(3),S(),I(4,"h4"),F(5),S()(),I(6,"div",13),F(7),S(),I(8,"div",14),F(9," esta semana "),S(),I(10,"div",15),Xe(11,"div",16),S(),I(12,"div",17),F(13),S(),I(14,"div",18),F(15),S()()),e&2){let n=t.$implicit,r=j();Fn("category-"+n.id),L(3),Ke(n.icon),L(2),Ke(n.name),L(2),ke(" ",r.getWeeklyHours(n.id),"h "),L(4),Fn("progress-"+n.id),Rn("width",r.getProgressPercentage(n.id),"%"),L(2),ke(" Meta: ",n.weekly_goal,"h/semana "),L(),Fn(r.getStatusClass(n.id)),L(),ke(" ",r.getStatusText(n.id)," ")}}function cE(e,t){if(e&1&&(I(0,"div",19),Xe(1,"div",20),I(2,"div",21)(3,"div",22),F(4),S(),I(5,"div",23),F(6),S()()()),e&2){let n=t.$implicit,r=j();Rn("flex",1),L(),Fn("bar-"+n.id),Rn("height",r.getBarHeight(n.id),"%"),L(3),Ke(n.icon),L(2),ke("",r.getWeeklyHours(n.id),"h")}}var Py=(()=>{let t=class t{constructor(){this.categories=[],this.weeklyStats={},this.streak={user_id:"",current_streak:0,longest_streak:0,total_practice_days:0}}ngOnInit(){}getWeeklyHours(r){let o=this.weeklyStats[r]||0;return Math.round(o/60*10)/10}getProgressPercentage(r){let o=this.categories.find(c=>c.id===r);if(!o)return 0;let i=this.getWeeklyHours(r);return Math.min(i/o.weekly_goal*100,100)}getStatusClass(r){let o=this.getProgressPercentage(r);return o>=100?"excellent":o>=75?"good":"needs-attention"}getStatusText(r){let o=this.getProgressPercentage(r);return o>=100?"\xA1Objetivo alcanzado!":o>=75?"Buen progreso":"Necesita atenci\xF3n"}getBarHeight(r){let o=Math.max(...this.categories.map(c=>c.weekly_goal)),i=this.getWeeklyHours(r);return Math.max(i/o*100,5)}getCompletionRate(){let r=this.categories.reduce((o,i)=>o+this.getProgressPercentage(i.id),0);return Math.round(r/this.categories.length)}getTotalWeeklyHours(){let r=Object.values(this.weeklyStats).reduce((o,i)=>o+i,0);return Math.round(r/60*10)/10}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-stats-dashboard"]],inputs:{categories:"categories",weeklyStats:"weeklyStats",streak:"streak"},decls:29,vars:5,consts:[[1,"stats-grid"],["class","stat-card",3,"class",4,"ngFor","ngForOf"],[1,"weekly-chart"],[1,"chart-container"],["class","chart-bar",3,"flex",4,"ngFor","ngForOf"],[1,"quick-stats"],[1,"quick-stat"],[1,"quick-stat-icon"],[1,"quick-stat-value"],[1,"quick-stat-label"],[1,"stat-card"],[1,"stat-header"],[1,"stat-icon"],[1,"stat-number"],[1,"stat-subtitle"],[1,"progress-bar"],[1,"progress-fill"],[1,"stat-goal"],[1,"stat-status"],[1,"chart-bar"],[1,"bar"],[1,"bar-label"],[1,"bar-icon"],[1,"bar-hours"]],template:function(o,i){o&1&&(I(0,"div",0),ge(1,aE,16,13,"div",1),S(),I(2,"div",2)(3,"h3"),F(4,"\u{1F4CA} Progreso Semanal"),S(),I(5,"div",3),ge(6,cE,7,8,"div",4),S()(),I(7,"div",5)(8,"div",6)(9,"div",7),F(10,"\u{1F3AF}"),S(),I(11,"div",8),F(12),S(),I(13,"div",9),F(14,"Objetivos Completados"),S()(),I(15,"div",6)(16,"div",7),F(17,"\u{1F525}"),S(),I(18,"div",8),F(19),S(),I(20,"div",9),F(21,"D\xEDas Consecutivos"),S()(),I(22,"div",6)(23,"div",7),F(24,"\u2B50"),S(),I(25,"div",8),F(26),S(),I(27,"div",9),F(28,"Total esta Semana"),S()()()),o&2&&(L(),ee("ngForOf",i.categories),L(5),ee("ngForOf",i.categories),L(6),ke("",i.getCompletionRate(),"%"),L(7),Ke(i.streak.current_streak||0),L(7),ke("",i.getTotalWeeklyHours(),"h"))},dependencies:[Ot,At],styles:['.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;padding:25px;text-align:center;box-shadow:0 8px 32px #0000001a;transition:all .3s ease;position:relative;overflow:hidden}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;transition:all .3s ease}.stat-card.category-viola[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#e74c3c,#c0392b)}.stat-card.category-az204[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#3498db,#2980b9)}.stat-card.category-conducting[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#2ecc71,#27ae60)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #00000026}.stat-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px;margin-bottom:15px}.stat-icon[_ngcontent-%COMP%]{font-size:1.8rem}.stat-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333;margin:0}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:5px}.category-viola[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#e74c3c}.category-az204[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#3498db}.category-conducting[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#2ecc71}.stat-subtitle[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.9rem;margin-bottom:15px}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#ecf0f1;border-radius:4px;margin:15px 0;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width 1s ease}.progress-viola[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e74c3c,#c0392b)}.progress-az204[_ngcontent-%COMP%]{background:linear-gradient(90deg,#3498db,#2980b9)}.progress-conducting[_ngcontent-%COMP%]{background:linear-gradient(90deg,#2ecc71,#27ae60)}.stat-goal[_ngcontent-%COMP%]{font-size:.85rem;color:#95a5a6;margin-bottom:10px}.stat-status[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;padding:5px 12px;border-radius:15px;display:inline-block}.stat-status.excellent[_ngcontent-%COMP%]{background:#27ae601a;color:#27ae60}.stat-status.good[_ngcontent-%COMP%]{background:#f1c40f1a;color:#f39c12}.stat-status.needs-attention[_ngcontent-%COMP%]{background:#e74c3c1a;color:#e74c3c}.weekly-chart[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;padding:25px;margin-bottom:30px;box-shadow:0 8px 32px #0000001a}.weekly-chart[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#333;margin-bottom:25px;text-align:center}.chart-container[_ngcontent-%COMP%]{display:flex;align-items:end;justify-content:space-around;height:200px;gap:20px;padding:20px 0}.chart-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%}.bar[_ngcontent-%COMP%]{width:60px;border-radius:8px 8px 0 0;transition:all .8s ease;margin-bottom:15px;position:relative}.bar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-30px;left:50%;transform:translate(-50%);background:#000c;color:#fff;padding:4px 8px;border-radius:4px;font-size:.8rem;font-weight:600;opacity:0;transition:opacity .3s ease;pointer-events:none}.bar[_ngcontent-%COMP%]:hover:after{opacity:1}.bar-viola[_ngcontent-%COMP%]{background:linear-gradient(180deg,#e74c3c,#c0392b)}.bar-az204[_ngcontent-%COMP%]{background:linear-gradient(180deg,#3498db,#2980b9)}.bar-conducting[_ngcontent-%COMP%]{background:linear-gradient(180deg,#2ecc71,#27ae60)}.bar-label[_ngcontent-%COMP%]{text-align:center}.bar-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:5px}.bar-hours[_ngcontent-%COMP%]{font-weight:700;color:#333}.quick-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.quick-stat[_ngcontent-%COMP%]{background:#fffffff2;border-radius:12px;padding:20px;text-align:center;box-shadow:0 4px 20px #0000001a;transition:transform .3s ease}.quick-stat[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.quick-stat-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px}.quick-stat-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333;margin-bottom:5px}.quick-stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}.stat-card[_ngcontent-%COMP%]{padding:20px}.chart-container[_ngcontent-%COMP%]{height:150px;gap:10px}.bar[_ngcontent-%COMP%]{width:40px}.quick-stats[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:15px}}']});let e=t;return e})();function lE(e,t){if(e&1){let n=Se();I(0,"button",24),Y("click",function(){W(n);let o=j().$implicit,i=j();return z(i.clearDay(o.date))}),F(1," \u{1F5D1}\uFE0F "),S()}}function uE(e,t){if(e&1&&(I(0,"div",35),F(1),S()),e&2){let n=j().$implicit,r=j(2);L(),ke(" \u{1F552} ",r.formatTime(n.scheduled_time)," ")}}function dE(e,t){if(e&1){let n=Se();I(0,"button",36),Y("click",function(){W(n);let o=j().$implicit,i=j(2);return z(i.startTaskTimer(o))}),F(1," \u25B6\uFE0F "),S()}}function fE(e,t){if(e&1){let n=Se();I(0,"div",25)(1,"div",26),ge(2,uE,2,1,"div",27),I(3,"div",28),F(4),S(),I(5,"div",29),F(6),S(),I(7,"div",30)(8,"button",31),Y("click",function(){let o=W(n).$implicit,i=j(2);return z(i.toggleTask(o))}),F(9),S(),ge(10,dE,2,0,"button",32),I(11,"button",33),Y("click",function(){let o=W(n).$implicit,i=j(2);return z(i.editTask(o))}),F(12," \u270F\uFE0F "),S(),I(13,"button",34),Y("click",function(){let o=W(n).$implicit,i=j(2);return z(i.deleteTask(o))}),F(14," \u{1F5D1}\uFE0F "),S()()()()}if(e&2){let n=t.$implicit,r=j(2);Fn("category-"+n.category),ut("completed",n.completed),L(2),ee("ngIf",n.scheduled_time),L(2),Tt(" ",r.getCategoryIcon(n.category)," ",n.description," "),L(2),ke("\u23F1\uFE0F ",n.duration,"min"),L(2),ee("title",n.completed?"Marcar como pendiente":"Marcar como completada"),L(),ke(" ",n.completed?"\u2705":"\u2B55"," "),L(),ee("ngIf",!n.completed)}}function pE(e,t){if(e&1&&(I(0,"div",37)(1,"span",38),F(2),S(),I(3,"span",39),F(4),S()()),e&2){let n=t.$implicit,r=j().$implicit;L(2),Ke(n.icon),L(2),ke("",r.categoryStats[n.id]||0,"min")}}function hE(e,t){if(e&1){let n=Se();I(0,"div",12)(1,"div",13)(2,"h4"),F(3),S(),I(4,"span",14),F(5),S(),I(6,"div",15)(7,"span",16),F(8),S()(),I(9,"div",17),ge(10,lE,2,0,"button",18),S()(),I(11,"div",19),ge(12,fE,15,11,"div",20),I(13,"button",21),Y("click",function(){let o=W(n).$implicit,i=j();return z(i.addQuickTask(o.date))}),F(14," \u2795 "),S()(),I(15,"div",22),ge(16,pE,5,2,"div",23),S()()}if(e&2){let n=t.$implicit,r=j();ut("today",r.isToday(n.date)),L(3),Ke(n.dayName),L(2),Ke(r.formatDate(n.date)),L(3),ke("\u23F1\uFE0F ",n.totalMinutes,"min"),L(2),ee("ngIf",n.tasks.length>0),L(2),ee("ngForOf",n.tasks)("ngForTrackBy",r.trackByTaskId),L(4),ee("ngForOf",r.categories)}}function gE(e,t){if(e&1){let n=Se();I(0,"div",54)(1,"label"),F(2,"Fecha:"),S(),I(3,"input",55),Fe("ngModelChange",function(o){W(n);let i=j(2);return Be(i.importDate,o)||(i.importDate=o),z(o)}),S()()}if(e&2){let n=j(2);L(3),Re("ngModel",n.importDate)}}function mE(e,t){if(e&1&&(I(0,"div",56)(1,"h4"),F(2,"Vista previa:"),S(),I(3,"pre"),F(4),S()()),e&2){let n=j(2);L(4),Ke(n.jsonPreview)}}function yE(e,t){if(e&1){let n=Se();I(0,"div",40),Y("click",function(o){W(n);let i=j();return z(i.closeImportModal(o))}),I(1,"div",41)(2,"h3"),F(3,"\u{1F4E5} Importar Tareas desde JSON"),S(),I(4,"div",42)(5,"div",43)(6,"label")(7,"input",44),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.importType,o)||(i.importType=o),z(o)}),S(),F(8," Importar para un d\xEDa espec\xEDfico "),S(),ge(9,gE,4,1,"div",45),S(),I(10,"div",43)(11,"label")(12,"input",46),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.importType,o)||(i.importType=o),z(o)}),S(),F(13," Importar semana completa (usar fechas del JSON) "),S()()(),I(14,"div",47)(15,"label",48),F(16," \u{1F4C1} Seleccionar archivo JSON "),S(),I(17,"input",49),Y("change",function(o){W(n);let i=j();return z(i.onFileSelected(o))}),S()(),ge(18,mE,5,1,"div",50),I(19,"div",51)(20,"button",52),Y("click",function(){W(n);let o=j();return z(o.importJson())}),F(21," Importar "),S(),I(22,"button",53),Y("click",function(){W(n);let o=j();return z(o.closeImportModal())}),F(23," Cancelar "),S()()()()}if(e&2){let n=j();L(7),Re("ngModel",n.importType),L(2),ee("ngIf",n.importType==="single-day"),L(3),Re("ngModel",n.importType),L(6),ee("ngIf",n.selectedFile),L(2),ee("disabled",!n.selectedFile)}}function vE(e,t){if(e&1&&(I(0,"option",65),F(1),S()),e&2){let n=t.$implicit;ee("value",n.id),L(),Tt(" ",n.icon," ",n.name," ")}}function _E(e,t){if(e&1){let n=Se();I(0,"div",40),Y("click",function(o){W(n);let i=j();return z(i.closeEditModal(o))}),I(1,"div",57)(2,"h3"),F(3,"\u270F\uFE0F Editar Tarea"),S(),I(4,"div",58)(5,"label"),F(6,"Descripci\xF3n:"),S(),I(7,"input",59),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.editingTask.description,o)||(i.editingTask.description=o),z(o)}),S()(),I(8,"div",58)(9,"label"),F(10,"Categor\xEDa:"),S(),I(11,"select",60),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.editingTask.category,o)||(i.editingTask.category=o),z(o)}),ge(12,vE,2,3,"option",61),S()(),I(13,"div",58)(14,"label"),F(15,"Duraci\xF3n (minutos):"),S(),I(16,"input",62),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.editingTask.duration,o)||(i.editingTask.duration=o),z(o)}),S()(),I(17,"div",58)(18,"label"),F(19,"Hora programada (opcional):"),S(),I(20,"input",63),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.editingTask.scheduled_time,o)||(i.editingTask.scheduled_time=o),z(o)}),S()(),I(21,"div",58)(22,"label"),F(23,"Fecha:"),S(),I(24,"input",55),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.editingTask.date,o)||(i.editingTask.date=o),z(o)}),S()(),I(25,"div",51)(26,"button",64),Y("click",function(){W(n);let o=j();return z(o.saveTask())}),F(27," Guardar Cambios "),S(),I(28,"button",53),Y("click",function(){W(n);let o=j();return z(o.closeEditModal())}),F(29," Cancelar "),S()()()()}if(e&2){let n=j();L(7),Re("ngModel",n.editingTask.description),L(4),Re("ngModel",n.editingTask.category),L(),ee("ngForOf",n.categories),L(4),Re("ngModel",n.editingTask.duration),L(4),Re("ngModel",n.editingTask.scheduled_time),L(4),Re("ngModel",n.editingTask.date)}}var Ry=(()=>{let t=class t{constructor(r){this.localDb=r,this.categories=[],this.taskToggle=new Me,this.startTimer=new Me,this.addTask=new Me,this.weeklyView={startDate:"",endDate:"",days:[]},this.currentWeekStart=new Date,this.showImportModal=!1,this.importType="single-day",this.importDate=new Date().toISOString().split("T")[0],this.selectedFile=null,this.jsonPreview="",this.showEditModal=!1,this.editingTask={id:0,description:"",category:"",duration:30,scheduled_time:"",date:"",completed:!1};let o=new Date,i=o.getDay(),c=i===0?1:1-i;this.currentWeekStart.setDate(o.getDate()+c)}ngOnInit(){this.loadWeeklyView()}loadWeeklyView(){return _e(this,null,function*(){let r=this.currentWeekStart.getFullYear(),o=(this.currentWeekStart.getMonth()+1).toString().padStart(2,"0"),i=this.currentWeekStart.getDate().toString().padStart(2,"0"),c=`${r}-${o}-${i}`,d=yield this.localDb.getWeeklyTasks(c);this.weeklyView=this.buildWeeklyView(c,d)})}buildWeeklyView(r,o){let[i,c,d]=r.split("-").map(Number),p=new Date(i,c-1,d),m=new Date(p);m.setDate(p.getDate()+6);let v=[],N=["Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado","Domingo"];for(let V=0;V<7;V++){let A=new Date(p);A.setDate(p.getDate()+V);let J=A.toISOString().split("T")[0],he=o.filter(st=>st.date===J).sort((st,kr)=>(st.scheduled_time||"").localeCompare(kr.scheduled_time||"")),Ie=he.reduce((st,kr)=>st+kr.duration,0),Ce={};he.forEach(st=>{Ce[st.category]=(Ce[st.category]||0)+st.duration}),v.push({date:J,dayName:N[V],tasks:he,totalMinutes:Ie,categoryStats:Ce})}return{startDate:r,endDate:m.toISOString().split("T")[0],days:v}}getWeekTitle(){let[r,o,i]=this.weeklyView.startDate.split("-").map(Number),c=new Date(r,o-1,i),[d,p,m]=this.weeklyView.endDate.split("-").map(Number),v=new Date(d,p-1,m),N=c.toLocaleDateString("es-ES",{day:"numeric",month:"short"}),V=v.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"});return`${N} - ${V}`}previousWeek(){this.currentWeekStart.setDate(this.currentWeekStart.getDate()-7),this.loadWeeklyView()}nextWeek(){this.currentWeekStart.setDate(this.currentWeekStart.getDate()+7),this.loadWeeklyView()}isToday(r){let o=new Date,i=o.getFullYear(),c=(o.getMonth()+1).toString().padStart(2,"0"),d=o.getDate().toString().padStart(2,"0"),p=`${i}-${c}-${d}`;return r===p}formatDate(r){let[o,i,c]=r.split("-").map(Number);return new Date(o,i-1,c).toLocaleDateString("es-ES",{day:"numeric",month:"numeric"})}formatTime(r){return new Date(`2000-01-01T${r}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}getCategoryIcon(r){return this.categories.find(i=>i.id===r)?.icon||"\u{1F3AF}"}trackByTaskId(r,o){return o.id}toggleTask(r){this.taskToggle.emit(re(Q({},r),{completed:!r.completed,completed_at:r.completed?void 0:new Date().toISOString()}))}startTaskTimer(r){this.startTimer.emit(r)}addQuickTask(r){return _e(this,null,function*(){let o={description:"Nueva tarea",category:this.categories[0]?.id||"",duration:30,scheduled_time:"",completed:!1,date:r};try{yield this.localDb.createTask(o).toPromise(),yield this.loadWeeklyView()}catch(i){console.error("Error adding quick task:",i),alert("Error al agregar la tarea")}})}editTask(r){this.editingTask=Q({},r),this.showEditModal=!0}closeEditModal(r){r&&r.target!==r.currentTarget||(this.showEditModal=!1,this.editingTask={id:0,description:"",category:"",duration:30,scheduled_time:"",date:"",completed:!1})}saveTask(){return _e(this,null,function*(){if(!this.editingTask.description.trim()){alert("La descripci\xF3n es requerida");return}try{let r=this.editingTask,{id:o}=r,i=tp(r,["id"]);yield this.localDb.updateTask(o,i).toPromise(),yield this.loadWeeklyView(),this.closeEditModal()}catch(o){console.error("Error updating task:",o),alert("Error al actualizar la tarea")}})}openImportModal(){this.showImportModal=!0,this.selectedFile=null,this.jsonPreview=""}closeImportModal(r){r&&r.target!==r.currentTarget||(this.showImportModal=!1)}onFileSelected(r){let o=r.target.files[0];if(o&&o.type==="application/json"){this.selectedFile=o;let i=new FileReader;i.onload=c=>{try{let d=c.target?.result,p=JSON.parse(d);this.jsonPreview=JSON.stringify(p,null,2).substring(0,500)+"..."}catch{this.jsonPreview="Error: Archivo JSON inv\xE1lido"}},i.readAsText(o)}}importJson(){return _e(this,null,function*(){if(this.selectedFile)try{let r=yield this.selectedFile.text(),o=JSON.parse(r),i=re(Q({},o),{type:this.importType,date:this.importType==="single-day"?this.importDate:void 0}),c=yield this.localDb.importFromJson(i);c.success?(alert(c.message),this.loadWeeklyView(),this.closeImportModal()):alert("Error: "+c.message)}catch{alert("Error al procesar el archivo JSON")}})}exportWeek(){let r={type:"full-week",weekStart:this.weeklyView.startDate,weekEnd:this.weeklyView.endDate,tasks:this.weeklyView.days.flatMap(d=>d.tasks),categories:this.categories,exportDate:new Date().toISOString()},o=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),c=document.createElement("a");c.href=i,c.download=`semana-${this.weeklyView.startDate}.json`,c.click(),URL.revokeObjectURL(i)}downloadTemplate(){let r=this.localDb.generateWeekTemplate(),o=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),c=document.createElement("a");c.href=i,c.download="plantilla-semanal.json",c.click(),URL.revokeObjectURL(i)}deleteTask(r){confirm(`\xBFEst\xE1s seguro de que quieres borrar la tarea "${r.description}"?`)&&this.localDb.deleteTask(r.id).subscribe({next:()=>{this.loadWeeklyView(),alert("Tarea borrada exitosamente")},error:o=>{console.error("Error al borrar la tarea:",o),alert("Error al borrar la tarea")}})}clearDay(r){return _e(this,null,function*(){let o=this.weeklyView.days.find(i=>i.date===r)?.dayName||"el d\xEDa";if(confirm(`\xBFEst\xE1s seguro de que quieres borrar todas las tareas de ${o}?`))try{let i=this.weeklyView.days.find(d=>d.date===r)?.tasks||[],c=0;for(let d of i)yield new Promise((p,m)=>{this.localDb.deleteTask(d.id).subscribe({next:()=>{c++,p()},error:m})});yield this.loadWeeklyView(),alert(`Se han borrado ${c} tareas de ${o}`)}catch(i){console.error("Error al limpiar el d\xEDa:",i),alert("Error al limpiar el d\xEDa")}})}clearWeek(){return _e(this,null,function*(){let r=this.getWeekTitle();if(confirm(`\xBFEst\xE1s seguro de que quieres borrar TODAS las tareas de la semana ${r}?`))try{let o=0;for(let i of this.weeklyView.days)for(let c of i.tasks)yield new Promise((d,p)=>{this.localDb.deleteTask(c.id).subscribe({next:()=>{o++,d()},error:p})});yield this.loadWeeklyView(),alert(`Se han borrado ${o} tareas de la semana`)}catch(o){console.error("Error al limpiar la semana:",o),alert("Error al limpiar la semana")}})}};t.\u0275fac=function(o){return new(o||t)(ne(Hn))},t.\u0275cmp=Ht({type:t,selectors:[["app-weekly-view"]],inputs:{categories:"categories"},outputs:{taskToggle:"taskToggle",startTimer:"startTimer",addTask:"addTask"},decls:22,vars:4,consts:[[1,"weekly-view-container"],[1,"weekly-header"],[1,"week-navigation"],[1,"nav-btn",3,"click"],[1,"week-actions"],[1,"action-btn","import-btn",3,"click"],[1,"action-btn","export-btn",3,"click"],[1,"action-btn","template-btn",3,"click"],[1,"action-btn","clear-week-btn",3,"click"],[1,"weekly-grid"],["class","day-column",3,"today",4,"ngFor","ngForOf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"day-column"],[1,"day-header"],[1,"day-date"],[1,"day-stats"],[1,"total-time"],[1,"day-actions"],["class","clear-day-btn","title","Limpiar d\xEDa",3,"click",4,"ngIf"],[1,"day-tasks"],["class","task-card",3,"completed","class",4,"ngFor","ngForOf","ngForTrackBy"],["title","Agregar tarea r\xE1pida",1,"add-task-btn",3,"click"],[1,"day-summary"],["class","category-summary",4,"ngFor","ngForOf"],["title","Limpiar d\xEDa",1,"clear-day-btn",3,"click"],[1,"task-card"],[1,"task-content"],["class","task-time",4,"ngIf"],[1,"task-description"],[1,"task-duration"],[1,"task-actions"],[1,"toggle-btn",3,"click","title"],["class","start-btn","title","Iniciar cron\xF3metro",3,"click",4,"ngIf"],["title","Editar tarea",1,"edit-btn",3,"click"],["title","Borrar tarea",1,"delete-btn",3,"click"],[1,"task-time"],["title","Iniciar cron\xF3metro",1,"start-btn",3,"click"],[1,"category-summary"],[1,"cat-icon"],[1,"cat-time"],[1,"modal-overlay",3,"click"],[1,"modal-content","import-modal"],[1,"import-options"],[1,"import-type"],["type","radio","value","single-day","name","importType",3,"ngModelChange","ngModel"],["class","date-selector",4,"ngIf"],["type","radio","value","full-week","name","importType",3,"ngModelChange","ngModel"],[1,"file-upload"],["for","jsonFile",1,"file-label"],["type","file","id","jsonFile","accept",".json",1,"file-input",3,"change"],["class","json-preview",4,"ngIf"],[1,"modal-actions"],[1,"submit-btn",3,"click","disabled"],[1,"cancel-btn",3,"click"],[1,"date-selector"],["type","date",1,"form-input",3,"ngModelChange","ngModel"],[1,"json-preview"],[1,"modal-content","edit-modal"],[1,"form-group"],["type","text","placeholder","Descripci\xF3n de la tarea",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-input",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","number","min","1","max","480",1,"form-input",3,"ngModelChange","ngModel"],["type","time",1,"form-input",3,"ngModelChange","ngModel"],[1,"submit-btn",3,"click"],[3,"value"]],template:function(o,i){o&1&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Y("click",function(){return i.previousWeek()}),F(4,"\u2B05\uFE0F"),S(),I(5,"h3"),F(6),S(),I(7,"button",3),Y("click",function(){return i.nextWeek()}),F(8,"\u27A1\uFE0F"),S()(),I(9,"div",4)(10,"button",5),Y("click",function(){return i.openImportModal()}),F(11," \u{1F4E5} Importar JSON "),S(),I(12,"button",6),Y("click",function(){return i.exportWeek()}),F(13," \u{1F4E4} Exportar Semana "),S(),I(14,"button",7),Y("click",function(){return i.downloadTemplate()}),F(15," \u{1F4CB} Plantilla Semanal "),S(),I(16,"button",8),Y("click",function(){return i.clearWeek()}),F(17," \u{1F5D1}\uFE0F Limpiar Semana "),S()()(),I(18,"div",9),ge(19,hE,17,9,"div",10),S(),ge(20,yE,24,5,"div",11)(21,_E,30,6,"div",11),S()),o&2&&(L(6),Ke(i.getWeekTitle()),L(13),ee("ngForOf",i.weeklyView.days),L(),ee("ngIf",i.showImportModal),L(),ee("ngIf",i.showEditModal))},dependencies:[Ot,At,hn,bo,vo,_o,jn,Ri,Bn,cf,yo,Li,Fi,Tr],styles:[".weekly-view-container[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;padding:25px;margin-bottom:20px;box-shadow:0 8px 32px #0000001a}.weekly-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;flex-wrap:wrap;gap:15px}.week-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.nav-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:10px 15px;border-radius:8px;cursor:pointer;font-size:1rem;transition:transform .2s}.nav-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.week-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.action-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d);color:#fff;border:none;padding:8px 16px;border-radius:8px;cursor:pointer;font-size:.9rem;transition:transform .2s}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.import-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.export-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.template-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.clear-week-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a24)}.clear-day-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff7675,#fd79a8);color:#fff;border:none;padding:4px 8px;border-radius:6px;cursor:pointer;font-size:.8rem;transition:transform .2s;margin-top:5px}.clear-day-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a24);color:#fff;border:none;cursor:pointer;font-size:.8rem;padding:2px 4px;border-radius:4px;transition:transform .2s}.delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.day-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:5px}.weekly-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:15px;min-height:500px}.day-column[_ngcontent-%COMP%]{background:#fffc;border-radius:12px;padding:15px;border:2px solid transparent;transition:border-color .3s}.day-column.today[_ngcontent-%COMP%]{border-color:#667eea;background:#667eea1a}.day-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}.day-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.1rem}.day-date[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#666;margin:5px 0}.day-stats[_ngcontent-%COMP%]{font-size:.8rem;color:#667eea;font-weight:600}.day-tasks[_ngcontent-%COMP%]{min-height:300px;display:flex;flex-direction:column;gap:8px}.task-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:10px;border-left:4px solid #ddd;transition:all .3s;font-size:.85rem}.task-card.completed[_ngcontent-%COMP%]{opacity:.7;background:#f8f9fa}.task-card.category-viola[_ngcontent-%COMP%]{border-left-color:#e74c3c}.task-card.category-az204[_ngcontent-%COMP%]{border-left-color:#3498db}.task-card.category-conducting[_ngcontent-%COMP%]{border-left-color:#2ecc71}.task-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.task-time[_ngcontent-%COMP%]{font-size:.75rem;color:#666;font-weight:500}.task-description[_ngcontent-%COMP%]{font-weight:600;color:#333;line-height:1.2}.task-duration[_ngcontent-%COMP%]{font-size:.75rem;color:#667eea;font-weight:500}.task-actions[_ngcontent-%COMP%]{display:flex;gap:5px;margin-top:5px}.toggle-btn[_ngcontent-%COMP%], .start-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;font-size:1rem;padding:2px;transition:transform .2s}.toggle-btn[_ngcontent-%COMP%]:hover, .start-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover, .delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.add-task-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:8px;border-radius:6px;cursor:pointer;font-size:1rem;margin-top:auto;transition:transform .2s}.add-task-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.day-summary[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px;border-top:1px solid rgba(0,0,0,.1);display:flex;flex-wrap:wrap;gap:5px}.category-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:3px;font-size:.7rem;background:#667eea1a;padding:2px 6px;border-radius:4px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:25px;box-shadow:0 20px 40px #0003}.import-modal[_ngcontent-%COMP%]{max-width:600px;width:90%;max-height:80vh;overflow-y:auto}.import-options[_ngcontent-%COMP%]{margin:20px 0}.import-type[_ngcontent-%COMP%]{margin-bottom:15px;padding:15px;border:1px solid #ddd;border-radius:8px}.import-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-weight:500}.date-selector[_ngcontent-%COMP%]{margin-top:10px;margin-left:25px}.form-input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:6px;font-size:.9rem}.file-upload[_ngcontent-%COMP%]{margin:20px 0}.file-label[_ngcontent-%COMP%]{display:inline-block;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;transition:transform .2s}.file-label[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.file-input[_ngcontent-%COMP%]{display:none}.json-preview[_ngcontent-%COMP%]{margin:20px 0;background:#f8f9fa;padding:15px;border-radius:8px;border:1px solid #ddd}.json-preview[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;font-size:.8rem;margin:0}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#11998e,#38ef7d);color:#fff;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;transition:transform .2s}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.cancel-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;transition:transform .2s}.cancel-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.edit-modal[_ngcontent-%COMP%]{max-width:500px;width:90%}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:500;color:#333}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:.9rem;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea33}@media (max-width: 1200px){.weekly-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (max-width: 768px){.weekly-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.weekly-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;text-align:center}.week-actions[_ngcontent-%COMP%]{justify-content:center}}@media (max-width: 480px){.weekly-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let e=t;return e})();var Fy=(()=>{let t=class t{constructor(){this.permission$=new wt("default"),"Notification"in window&&this.permission$.next(Notification.permission)}get permissionStatus(){return this.permission$.asObservable()}requestPermission(){return _e(this,null,function*(){if("Notification"in window){let r=yield Notification.requestPermission();return this.permission$.next(r),r}return"denied"})}showNotification(r,o){"Notification"in window&&Notification.permission==="granted"&&new Notification(r,Q({icon:"/assets/icon-192x192.png",badge:"/assets/badge-72x72.png"},o))}scheduleNotification(r,o,i){setTimeout(()=>{this.showNotification(r,i)},o)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=we({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function DE(e,t){if(e&1){let n=Se();I(0,"div",16)(1,"div",17)(2,"span",18),F(3,"\u{1F514}"),S(),I(4,"div",19)(5,"strong"),F(6,"Activa las Notificaciones"),S(),I(7,"p"),F(8,"Recibe recordatorios para mantener tu pr\xE1ctica constante"),S()(),I(9,"button",20),Y("click",function(){W(n);let o=j();return z(o.requestNotificationPermission())}),F(10," Activar "),S()()()}}function wE(e,t){if(e&1){let n=Se();I(0,"button",21),Y("click",function(){let o=W(n).$implicit,i=j();return z(i.setActiveTab(o.id))}),I(1,"span",22),F(2),S(),I(3,"span",23),F(4),S()()}if(e&2){let n=t.$implicit,r=j();ut("active",r.activeTab===n.id),L(2),Ke(n.icon),L(2),Ke(n.label)}}function CE(e,t){if(e&1){let n=Se();I(0,"div",24),Xe(1,"app-stats-dashboard",25),I(2,"app-task-list",26),Y("taskToggle",function(o){W(n);let i=j();return z(i.onTaskToggle(o))})("startTimer",function(o){W(n);let i=j();return z(i.onStartTaskTimer(o))})("addTask",function(o){W(n);let i=j();return z(i.onAddTask(o))})("deleteTask",function(o){W(n);let i=j();return z(i.onDeleteTask(o))})("updateTask",function(o){W(n);let i=j();return z(i.onUpdateTask(o))}),S()()}if(e&2){let n=j();L(),ee("categories",n.categories)("weeklyStats",n.weeklyStats)("streak",n.userStreak),L(),ee("tasks",n.todayTasks)("categories",n.categories)}}function EE(e,t){if(e&1){let n=Se();I(0,"div",24)(1,"app-task-list",27),Y("taskToggle",function(o){W(n);let i=j();return z(i.onTaskToggle(o))})("startTimer",function(o){W(n);let i=j();return z(i.onStartTaskTimer(o))})("addTask",function(o){W(n);let i=j();return z(i.onAddTask(o))})("deleteTask",function(o){W(n);let i=j();return z(i.onDeleteTask(o))})("updateTask",function(o){W(n);let i=j();return z(i.onUpdateTask(o))}),S()()}if(e&2){let n=j();L(),ee("tasks",n.getCategoryTasks(n.activeTab))("categories",n.categories)("category",n.activeTab)}}function IE(e,t){if(e&1){let n=Se();I(0,"div",24)(1,"app-weekly-view",28),Y("taskToggle",function(o){W(n);let i=j();return z(i.onTaskToggle(o))})("startTimer",function(o){W(n);let i=j();return z(i.onStartTaskTimer(o))})("addTask",function(o){W(n);let i=j();return z(i.onAddWeeklyTask(o))}),S()()}if(e&2){let n=j();L(),ee("categories",n.categories)}}function xE(e,t){if(e&1&&(I(0,"div",37)(1,"div",38)(2,"span"),F(3),S(),I(4,"span",39),F(5),S()(),I(6,"div",40),Xe(7,"div",41),S()()),e&2){let n=t.$implicit,r=j(2);L(3),Tt("",n.icon," ",n.name),L(2),Tt("",r.getWeeklyHours(n.id),"h / ",n.weekly_goal,"h"),L(2),Rn("width",r.getProgressPercentage(n.id),"%")}}function ME(e,t){if(e&1){let n=Se();I(0,"div",24),Xe(1,"app-stats-dashboard",25),I(2,"div",29)(3,"div",30)(4,"h3"),F(5,"\u{1F4C8} Progreso Detallado"),S(),I(6,"div",31),ge(7,xE,8,6,"div",32),S()(),I(8,"div",30)(9,"h3"),F(10,"\u{1F3AF} Acciones R\xE1pidas"),S(),I(11,"div",33)(12,"button",34),Y("click",function(){W(n);let o=j();return z(o.resetWeeklyProgress())}),F(13," \u{1F504} Reiniciar Progreso Semanal "),S(),I(14,"button",35),Y("click",function(){W(n);let o=j();return z(o.exportData())}),F(15," \u{1F4CA} Exportar Datos "),S(),I(16,"button",36),Y("click",function(){W(n);let o=j();return z(o.openAddMotivationModal())}),F(17," \u{1F4AD} Agregar Motivaci\xF3n "),S()()()()()}if(e&2){let n=j();L(),ee("categories",n.categories)("weeklyStats",n.weeklyStats)("streak",n.userStreak),L(6),ee("ngForOf",n.categories)}}function SE(e,t){if(e&1){let n=Se();I(0,"div",42),Y("click",function(o){W(n);let i=j();return z(i.closeSettings(o))}),I(1,"div",43)(2,"h3"),F(3,"\u2699\uFE0F Configuraci\xF3n"),S(),I(4,"div",44)(5,"div",45)(6,"label",46)(7,"input",47),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.userSettings.sound_enabled,o)||(i.userSettings.sound_enabled=o),z(o)}),Y("change",function(){W(n);let o=j();return z(o.updateSettings())}),S(),Xe(8,"span",48),F(9," \u{1F50A} Sonidos de timer "),S()(),I(10,"div",45)(11,"label",46)(12,"input",47),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.userSettings.notifications_enabled,o)||(i.userSettings.notifications_enabled=o),z(o)}),Y("change",function(){W(n);let o=j();return z(o.updateSettings())}),S(),Xe(13,"span",48),F(14," \u{1F4F1} Notificaciones "),S()(),I(15,"div",45)(16,"label",46)(17,"input",47),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.userSettings.auto_start_next,o)||(i.userSettings.auto_start_next=o),z(o)}),Y("change",function(){W(n);let o=j();return z(o.updateSettings())}),S(),Xe(18,"span",48),F(19," \u26A1 Auto-iniciar siguiente tarea "),S()(),I(20,"div",45)(21,"label",49),F(22,"\u{1F3A8} Tema"),S(),I(23,"select",50),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.userSettings.theme,o)||(i.userSettings.theme=o),z(o)}),Y("change",function(){W(n);let o=j();return z(o.updateSettings())}),I(24,"option",51),F(25,"Por defecto"),S(),I(26,"option",52),F(27,"Oscuro"),S(),I(28,"option",53),F(29,"Claro"),S()()()(),I(30,"div",54)(31,"button",55),Y("click",function(){W(n);let o=j();return z(o.closeSettings())}),F(32," Cerrar "),S()()()()}if(e&2){let n=j();L(7),Re("ngModel",n.userSettings.sound_enabled),L(5),Re("ngModel",n.userSettings.notifications_enabled),L(5),Re("ngModel",n.userSettings.auto_start_next),L(6),Re("ngModel",n.userSettings.theme)}}function TE(e,t){if(e&1){let n=Se();I(0,"div",42),Y("click",function(o){W(n);let i=j();return z(i.closeAddMotivationModal(o))}),I(1,"div",56)(2,"h3"),F(3,"\u{1F4AD} Agregar Motivaci\xF3n Personal"),S(),I(4,"form",57,0),Y("ngSubmit",function(){W(n);let o=j();return z(o.addCustomMotivation())}),I(6,"div",58)(7,"label"),F(8,"Mensaje de Motivaci\xF3n:"),S(),I(9,"textarea",59),Fe("ngModelChange",function(o){W(n);let i=j();return Be(i.newMotivationText,o)||(i.newMotivationText=o),z(o)}),S()(),I(10,"div",54)(11,"button",60),F(12," Agregar Motivaci\xF3n "),S(),I(13,"button",61),Y("click",function(){W(n);let o=j();return z(o.closeAddMotivationModal())}),F(14," Cancelar "),S()()()()()}if(e&2){let n=lo(5),r=j();L(9),Re("ngModel",r.newMotivationText),L(2),ee("disabled",!n.valid)}}var kE=(()=>{let t=class t{constructor(r,o,i){this.localDb=r,this.timerService=o,this.notificationService=i,this.isOnline$=this.localDb.isOnline,this.notificationPermission$=this.notificationService.permissionStatus,this.categories=[],this.allTasks=[],this.weeklyStats={viola:0,az204:0,conducting:0},this.userStreak={user_id:"",current_streak:0,longest_streak:0,total_practice_days:0},this.userSettings={user_id:"",sound_enabled:!0,notifications_enabled:!0,auto_start_next:!1,theme:"default"},this.activeTab="dashboard",this.showSettings=!1,this.showAddMotivation=!1,this.dailyMotivation="",this.newMotivationText="",this.tabs=[{id:"dashboard",icon:"\u{1F4CA}",label:"Dashboard"},{id:"weekly",icon:"\u{1F4C5}",label:"Semanal"},{id:"viola",icon:"\u{1F3BB}",label:"Viola"},{id:"az204",icon:"\u{1F4BB}",label:"AZ-204"},{id:"conducting",icon:"\u{1F3BC}",label:"Direcci\xF3n"},{id:"analytics",icon:"\u{1F4C8}",label:"An\xE1lisis"}],this.subscription=new ze,this.timerService.setOnCompleteCallback(c=>{c&&this.completeTaskFromTimer(c)})}ngOnInit(){this.loadInitialData(),this.setupDataSubscriptions(),this.applyTheme(),this.checkWeeklyReset()}ngOnDestroy(){this.subscription.unsubscribe()}loadInitialData(){return _e(this,null,function*(){this.subscription.add(this.localDb.getCategories().subscribe(o=>{this.categories=o}));let r=new Date().toISOString().split("T")[0];this.subscription.add(this.localDb.getTasks(r).subscribe(o=>{this.allTasks=o})),this.subscription.add(this.localDb.getWeeklyStats().subscribe(o=>{this.weeklyStats=Q({},o)})),this.subscription.add(this.localDb.getUserSettings().subscribe(o=>{this.userSettings=o,this.applyTheme()})),this.subscription.add(this.localDb.getUserStreak().subscribe(o=>{this.userStreak=o})),this.subscription.add(this.localDb.getDailyMotivation().subscribe(o=>{this.dailyMotivation=o}))})}setupDataSubscriptions(){setInterval(()=>{let r=new Date().toISOString().split("T")[0];this.localDb.getTasks(r).subscribe(o=>{this.allTasks=o}),this.localDb.getWeeklyStats().subscribe(o=>{this.weeklyStats=Q({},o)})},3e5)}checkWeeklyReset(){return _e(this,null,function*(){yield this.localDb.checkAndResetWeekly()})}applyTheme(){document.documentElement.setAttribute("data-theme",this.userSettings.theme)}get todayTasks(){let r=new Date().toISOString().split("T")[0];return this.allTasks.filter(o=>o.date===r)}getCategoryTasks(r){return this.allTasks.filter(o=>o.category===r)}setActiveTab(r){this.activeTab=r}requestNotificationPermission(){return _e(this,null,function*(){(yield this.notificationService.requestPermission())==="granted"&&(this.userSettings.notifications_enabled=!0,this.updateSettings(),this.notificationService.showNotification("\xA1Notificaciones Activadas! \u{1F389}",{body:"Ahora recibir\xE1s recordatorios para tus pr\xE1cticas."}))})}onTaskToggle(r){this.subscription.add(this.localDb.updateTask(r.id,{completed:r.completed,completed_at:r.completed?new Date().toISOString():void 0}).subscribe(o=>{let i=this.allTasks.findIndex(c=>c.id===r.id);i!==-1&&(this.allTasks[i]=Q(Q({},this.allTasks[i]),o)),r.completed&&(this.localDb.createTimeSession({task_id:r.id,category:r.category,description:r.description,duration:r.duration,date:r.date,started_at:new Date().toISOString(),completed_at:new Date().toISOString()}).subscribe(),this.weeklyStats[r.category]=(this.weeklyStats[r.category]||0)+r.duration,this.localDb.updateUserStreak())}))}onStartTaskTimer(r){this.activeTaskId=r.id,this.timerService.startTimer(r.duration,r.id),this.setActiveTab("dashboard")}onTimerStarted(r){console.log("Timer started:",r)}onTimerComplete(r){this.notificationService.showNotification("\u{1F3AF} \xA1Sesi\xF3n Completada!",{body:`Has completado ${Math.floor(r.totalTime/60)} minutos de pr\xE1ctica. \xA1Excelente trabajo!`}),this.activeTaskId=void 0}completeTaskFromTimer(r){let o=this.allTasks.find(i=>i.id===r);o&&!o.completed&&this.onTaskToggle(re(Q({},o),{completed:!0}))}onAddTask(r){this.subscription.add(this.localDb.createTask(re(Q({},r),{date:new Date().toISOString().split("T")[0]})).subscribe(o=>{this.allTasks.push(o)}))}onAddWeeklyTask(r){this.subscription.add(this.localDb.createTask(re(Q({},r.task),{date:r.date})).subscribe(o=>{this.allTasks.push(o),this.notificationService.showNotification("\u{1F4DD} Tarea Agregada",{body:`Nueva tarea creada para ${new Date(r.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"short"})}`})}))}onDeleteTask(r){this.subscription.add(this.localDb.deleteTask(r.id).subscribe(()=>{this.allTasks=this.allTasks.filter(o=>o.id!==r.id)}))}onUpdateTask(r){this.subscription.add(this.localDb.updateTask(r.task.id,r.updates).subscribe(o=>{let i=this.allTasks.findIndex(c=>c.id===r.task.id);i!==-1&&(this.allTasks[i]=Q(Q({},this.allTasks[i]),o))}))}openSettings(){this.showSettings=!0}closeSettings(r){r&&r.target!==r.currentTarget||(this.showSettings=!1)}updateSettings(){this.applyTheme(),this.subscription.add(this.localDb.updateUserSettings(this.userSettings).subscribe())}resetWeeklyProgress(){confirm("\xBFEst\xE1s seguro de que deseas reiniciar el progreso semanal? Esta acci\xF3n no se puede deshacer.")&&this.localDb.resetWeeklyProgress().then(()=>{this.weeklyStats={},this.localDb.getWeeklyStats().subscribe(r=>{this.weeklyStats=Q({},r)})})}exportData(){let r={tasks:this.allTasks,weeklyStats:this.weeklyStats,categories:this.categories,exportDate:new Date().toISOString()},o=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),c=document.createElement("a");c.href=i,c.download=`study-tracker-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(i)}addCustomMotivation(){this.newMotivationText&&this.newMotivationText.trim()&&this.subscription.add(this.localDb.addCustomMotivation(this.newMotivationText.trim()).subscribe(()=>{this.notificationService.showNotification("\u2705 Motivaci\xF3n Agregada",{body:"Tu mensaje personal ha sido guardado."}),this.closeAddMotivationModal()}))}openAddMotivationModal(){this.showAddMotivation=!0}closeAddMotivationModal(r){r&&r.target!==r.currentTarget||(this.showAddMotivation=!1,this.newMotivationText="")}getWeeklyHours(r){let o=this.weeklyStats[r]||0;return Math.round(o/60*10)/10}getProgressPercentage(r){let o=this.categories.find(c=>c.id===r);if(!o)return 0;let i=this.getWeeklyHours(r);return Math.min(i/o.weekly_goal*100,100)}};t.\u0275fac=function(o){return new(o||t)(ne(Hn),ne(Cc),ne(Fy))},t.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:24,vars:12,consts:[["motivationForm","ngForm"],[1,"app-container"],[1,"app-header"],[1,"header-content"],[1,"app-title"],[1,"app-subtitle"],["class","notification-banner",4,"ngIf"],[1,"motivation-card"],[1,"motivation-text"],[3,"timerComplete","timerStarted","navigateToTimer","taskId"],[1,"tab-navigation"],["class","tab-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"tab-content"],["class","tab-pane",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["title","Configuraci\xF3n",1,"settings-fab",3,"click"],[1,"notification-banner"],[1,"notification-content"],[1,"notification-icon"],[1,"notification-text"],[1,"notification-btn",3,"click"],[1,"tab-btn",3,"click"],[1,"tab-icon"],[1,"tab-label"],[1,"tab-pane"],[3,"categories","weeklyStats","streak"],[3,"taskToggle","startTimer","addTask","deleteTask","updateTask","tasks","categories"],[3,"taskToggle","startTimer","addTask","deleteTask","updateTask","tasks","categories","category"],[3,"taskToggle","startTimer","addTask","categories"],[1,"analytics-extras"],[1,"analytics-card"],[1,"progress-details"],["class","category-detail",4,"ngFor","ngForOf"],[1,"quick-actions"],[1,"action-btn","reset-btn",3,"click"],[1,"action-btn","export-btn",3,"click"],[1,"action-btn","motivation-btn",3,"click"],[1,"category-detail"],[1,"category-header"],[1,"category-hours"],[1,"category-progress-bar"],[1,"progress-fill"],[1,"modal-overlay",3,"click"],[1,"modal-content","settings-modal"],[1,"settings-form"],[1,"setting-item"],[1,"setting-label"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"checkmark"],["for","theme"],["id","theme",1,"theme-select",3,"ngModelChange","change","ngModel"],["value","default"],["value","dark"],["value","light"],[1,"modal-actions"],[1,"close-settings-btn",3,"click"],[1,"modal-content"],[3,"ngSubmit"],[1,"form-group"],["name","motivation","required","","rows","3","placeholder","Ej: \xA1Hoy voy a superar mis l\xEDmites musicales!",1,"form-input",3,"ngModelChange","ngModel"],["type","submit",1,"submit-btn",3,"disabled"],["type","button",1,"cancel-btn",3,"click"]],template:function(o,i){o&1&&(I(0,"div",1)(1,"header",2)(2,"div",3)(3,"h1",4),F(4,"\u{1F3BC} Study Tracker Pro"),S(),I(5,"p",5),F(6," Tu compa\xF1ero para el \xE9xito musical y profesional "),S()()(),ge(7,DE,11,0,"div",6),xr(8,"async"),I(9,"div",7)(10,"div",8),F(11),S()(),I(12,"app-timer",9),Y("timerComplete",function(d){return i.onTimerComplete(d)})("timerStarted",function(d){return i.onTimerStarted(d)})("navigateToTimer",function(){return i.setActiveTab("dashboard")}),S(),I(13,"div",10),ge(14,wE,5,4,"button",11),S(),I(15,"div",12),ge(16,CE,3,5,"div",13)(17,EE,2,3,"div",13)(18,IE,2,1,"div",13)(19,ME,18,4,"div",13),S(),ge(20,SE,33,4,"div",14)(21,TE,15,2,"div",14),I(22,"button",15),Y("click",function(){return i.openSettings()}),F(23," \u2699\uFE0F "),S()()),o&2&&(L(7),ee("ngIf",Mr(8,10,i.notificationPermission$)==="default"),L(4),ke(" ",i.dailyMotivation," "),L(),ee("taskId",i.activeTaskId),L(2),ee("ngForOf",i.tabs),L(2),ee("ngIf",i.activeTab==="dashboard"),L(),ee("ngIf",i.activeTab!=="dashboard"&&i.activeTab!=="analytics"&&i.activeTab!=="weekly"),L(),ee("ngIf",i.activeTab==="weekly"),L(),ee("ngIf",i.activeTab==="analytics"),L(),ee("ngIf",i.showSettings),L(),ee("ngIf",i.showAddMotivation))},dependencies:[Ot,At,hn,Di,bo,_c,vo,_o,jn,of,Bn,yo,gc,Vi,Tr,Pi,Ay,Oy,Py,Ry],styles:['.app-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}.app-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;padding:20px;background:#ffffff1a;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.app-title[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,.3);display:flex;align-items:center;justify-content:center;gap:10px}.online-indicator[_ngcontent-%COMP%]{font-size:1rem;transition:all .3s ease}.online-indicator.offline[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.app-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.1rem;margin:0}.notification-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff;border-radius:15px;margin-bottom:20px;box-shadow:0 5px 20px #f093fb4d}.notification-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;gap:15px}.notification-icon[_ngcontent-%COMP%]{font-size:1.5rem}.notification-text[_ngcontent-%COMP%]{flex:1}.notification-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.notification-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.9;font-size:.9rem}.notification-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:2px solid white;padding:10px 20px;border-radius:20px;cursor:pointer;font-weight:600;transition:all .3s ease}.notification-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#f5576c}.motivation-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9a9e,#fecfef 50% 100%);border-radius:15px;padding:25px;margin-bottom:20px;box-shadow:0 8px 32px #0000001a;animation:_ngcontent-%COMP%_fadeIn 1s ease-in}.motivation-text[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;text-align:center;color:#444;line-height:1.6}.tab-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px;background:#ffffff1a;border-radius:15px;padding:8px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);overflow-x:auto}.tab-btn[_ngcontent-%COMP%]{flex:1;padding:15px 20px;text-align:center;background:transparent;border:none;color:#ffffffb3;font-size:.9rem;font-weight:600;cursor:pointer;border-radius:10px;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:5px;min-width:80px}.tab-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}.tab-btn.active[_ngcontent-%COMP%]{background:#fff3;color:#fff;transform:scale(1.05)}.tab-icon[_ngcontent-%COMP%]{font-size:1.2rem}.tab-label[_ngcontent-%COMP%]{font-size:.8rem}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .5s ease}.analytics-extras[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px}.analytics-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;padding:25px;box-shadow:0 8px 32px #0000001a}.analytics-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1.3rem;color:#333}.category-detail[_ngcontent-%COMP%]{margin-bottom:15px}.category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-weight:600}.category-hours[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.category-progress-bar[_ngcontent-%COMP%]{height:6px;background:#ecf0f1;border-radius:3px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);border-radius:3px;transition:width 1s ease}.quick-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.action-btn[_ngcontent-%COMP%]{padding:12px 20px;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease}.reset-btn[_ngcontent-%COMP%]{background:#ff6b6b;color:#fff}.reset-btn[_ngcontent-%COMP%]:hover{background:#ff5252;transform:translateY(-2px)}.export-btn[_ngcontent-%COMP%]{background:#4ecdc4;color:#fff}.export-btn[_ngcontent-%COMP%]:hover{background:#45b7d1;transform:translateY(-2px)}.motivation-btn[_ngcontent-%COMP%]{background:#9b59b6;color:#fff}.motivation-btn[_ngcontent-%COMP%]:hover{background:#8e44ad;transform:translateY(-2px)}.settings-fab[_ngcontent-%COMP%]{position:fixed;bottom:30px;right:30px;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff;font-size:1.5rem;cursor:pointer;box-shadow:0 8px 25px #667eea66;transition:all .3s ease;z-index:100}.settings-fab[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 10px 30px #667eea80}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:30px;min-width:400px;max-width:90vw;max-height:90vh;overflow-y:auto}.settings-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:25px;font-size:1.5rem;color:#333}.setting-item[_ngcontent-%COMP%]{margin-bottom:20px}.setting-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;cursor:pointer;font-weight:500;color:#333}.setting-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;opacity:0}.checkmark[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid #ddd;border-radius:4px;position:relative;transition:all .3s ease}.setting-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#27ae60;border-color:#27ae60}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;left:5px;top:1px;width:6px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg);opacity:0;transition:opacity .3s ease}.setting-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{opacity:1}.theme-select[_ngcontent-%COMP%]{width:100%;padding:10px;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:25px}.close-settings-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 30px;border-radius:25px;font-weight:600;cursor:pointer;transition:all .3s ease}.close-settings-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}[data-theme=dark][_ngcontent-%COMP%]{--bg-primary: #1a1a1a;--bg-secondary: #2d2d2d;--text-primary: #ffffff;--text-secondary: #b3b3b3;--accent-color: #667eea}[data-theme=dark][_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d3561,#3d4878)}[data-theme=dark][_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .task-list-container[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .analytics-card[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .weekly-chart[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:var(--bg-secondary);color:var(--text-primary)}[data-theme=dark][_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]{background:var(--bg-primary);color:var(--text-primary)}[data-theme=light][_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef)}[data-theme=light][_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]{background:#0000001a}[data-theme=light][_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{color:#333}[data-theme=light][_ngcontent-%COMP%]   .app-subtitle[_ngcontent-%COMP%]{color:#000000b3}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@media (max-width: 768px){.app-container[_ngcontent-%COMP%]{padding:10px}.app-title[_ngcontent-%COMP%]{font-size:2rem;flex-direction:column;gap:5px}.tab-navigation[_ngcontent-%COMP%]{padding:5px}.tab-btn[_ngcontent-%COMP%]{padding:12px 8px;font-size:.8rem;min-width:70px}.tab-icon[_ngcontent-%COMP%]{font-size:1rem}.tab-label[_ngcontent-%COMP%]{font-size:.7rem}.analytics-extras[_ngcontent-%COMP%]{grid-template-columns:1fr}.modal-content[_ngcontent-%COMP%]{min-width:320px;padding:20px}.settings-fab[_ngcontent-%COMP%]{width:50px;height:50px;bottom:20px;right:20px;font-size:1.2rem}}']});let e=t;return e})();ef(kE,{providers:[]}).catch(e=>console.error(e));export{kE as App};
